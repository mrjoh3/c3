<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>c3</title>

<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gZXZhbCgiKCIgKyB0YXNrICsgIikiKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdFNpemluZyhlbCkgewogICAgdmFyIHNpemluZyA9IHNpemluZ1BvbGljeShlbCk7CiAgICBpZiAoIXNpemluZykKICAgICAgcmV0dXJuOwoKICAgIHZhciBjZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaHRtbHdpZGdldF9jb250YWluZXIiKTsKICAgIGlmICghY2VsKQogICAgICByZXR1cm47CgogICAgaWYgKHR5cGVvZihzaXppbmcucGFkZGluZykgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gIjAiOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmcgPSBwYWRkaW5nVG9Dc3ModW5wYWNrUGFkZGluZyhzaXppbmcucGFkZGluZykpOwogICAgfQoKICAgIGlmIChzaXppbmcuZmlsbCkgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIGlmIChjZWwpIHsKICAgICAgICBjZWwuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwogICAgICAgIHZhciBwYWQgPSB1bnBhY2tQYWRkaW5nKHNpemluZy5wYWRkaW5nKTsKICAgICAgICBjZWwuc3R5bGUudG9wID0gcGFkLnRvcCArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLnJpZ2h0ID0gcGFkLnJpZ2h0ICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUuYm90dG9tID0gcGFkLmJvdHRvbSArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLmxlZnQgPSBwYWQubGVmdCArICJweCI7CiAgICAgICAgZWwuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGNlbC5vZmZzZXRXaWR0aDsgfSwKICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2VsLm9mZnNldEhlaWdodDsgfQogICAgICB9OwoKICAgIH0gZWxzZSB7CiAgICAgIGVsLnN0eWxlLndpZHRoID0gcHgoc2l6aW5nLndpZHRoKTsKICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gcHgoc2l6aW5nLmhlaWdodCk7CgogICAgICByZXR1cm4gewogICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGVsLm9mZnNldFdpZHRoOyB9LAogICAgICAgIGdldEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiBlbC5vZmZzZXRIZWlnaHQ7IH0KICAgICAgfTsKICAgIH0KICB9CgogIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb25zIGZvciBtZXRob2RzCiAgdmFyIGRlZmF1bHRzID0gewogICAgZmluZDogZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgcmV0dXJuIHF1ZXJ5U2VsZWN0b3JBbGwoc2NvcGUsICIuIiArIHRoaXMubmFtZSk7CiAgICB9LAogICAgcmVuZGVyRXJyb3I6IGZ1bmN0aW9uKGVsLCBlcnIpIHsKICAgICAgdmFyICRlbCA9ICQoZWwpOwoKICAgICAgdGhpcy5jbGVhckVycm9yKGVsKTsKCiAgICAgIC8vIEFkZCBhbGwgdGhlc2UgZXJyb3IgY2xhc3NlcywgYXMgU2hpbnkgZG9lcwogICAgICB2YXIgZXJyQ2xhc3MgPSAic2hpbnktb3V0cHV0LWVycm9yIjsKICAgICAgaWYgKGVyci50eXBlICE9PSBudWxsKSB7CiAgICAgICAgLy8gdXNlIHRoZSBjbGFzc2VzIG9mIHRoZSBlcnJvciBjb25kaXRpb24gYXMgQ1NTIGNsYXNzIG5hbWVzCiAgICAgICAgZXJyQ2xhc3MgPSBlcnJDbGFzcyArICIgIiArICQubWFwKGFzQXJyYXkoZXJyLnR5cGUpLCBmdW5jdGlvbih0eXBlKSB7CiAgICAgICAgICByZXR1cm4gZXJyQ2xhc3MgKyAiLSIgKyB0eXBlOwogICAgICAgIH0pLmpvaW4oIiAiKTsKICAgICAgfQogICAgICBlcnJDbGFzcyA9IGVyckNsYXNzICsgIiBodG1sd2lkZ2V0cy1lcnJvciI7CgogICAgICAvLyBJcyBlbCBpbmxpbmUgb3IgYmxvY2s/IElmIGlubGluZSBvciBpbmxpbmUtYmxvY2ssIGp1c3QgZGlzcGxheTpub25lIGl0CiAgICAgIC8vIGFuZCBhZGQgYW4gaW5saW5lIGVycm9yLgogICAgICB2YXIgZGlzcGxheSA9ICRlbC5jc3MoImRpc3BsYXkiKTsKICAgICAgJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIiwgZGlzcGxheSk7CgogICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIpIHsKICAgICAgICAkZWwuaGlkZSgpOwogICAgICAgIGlmIChlcnIubWVzc2FnZSAhPT0gIiIpIHsKICAgICAgICAgIHZhciBlcnJvclNwYW4gPSAkKCI8c3Bhbj4iKS5hZGRDbGFzcyhlcnJDbGFzcyk7CiAgICAgICAgICBlcnJvclNwYW4udGV4dChlcnIubWVzc2FnZSk7CiAgICAgICAgICAkZWwuYWZ0ZXIoZXJyb3JTcGFuKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gImJsb2NrIikgewogICAgICAgIC8vIElmIGJsb2NrLCBhZGQgYW4gZXJyb3IganVzdCBhZnRlciB0aGUgZWwsIHNldCB2aXNpYmlsaXR5Om5vbmUgb24gdGhlCiAgICAgICAgLy8gZWwsIGFuZCBwb3NpdGlvbiB0aGUgZXJyb3IgdG8gYmUgb24gdG9wIG9mIHRoZSBlbC4KICAgICAgICAvLyBNYXJrIGl0IHdpdGggYSB1bmlxdWUgSUQgYW5kIENTUyBjbGFzcyBzbyB3ZSBjYW4gcmVtb3ZlIGl0IGxhdGVyLgogICAgICAgICRlbC5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7CiAgICAgICAgaWYgKGVyci5tZXNzYWdlICE9PSAiIikgewogICAgICAgICAgdmFyIGVycm9yRGl2ID0gJCgiPGRpdj4iKS5hZGRDbGFzcyhlcnJDbGFzcykuY3NzKCJwb3NpdGlvbiIsICJhYnNvbHV0ZSIpCiAgICAgICAgICAgIC5jc3MoInRvcCIsIGVsLm9mZnNldFRvcCkKICAgICAgICAgICAgLmNzcygibGVmdCIsIGVsLm9mZnNldExlZnQpCiAgICAgICAgICAgIC8vIHNldHRpbmcgd2lkdGggY2FuIHB1c2ggb3V0IHRoZSBwYWdlIHNpemUsIGZvcmNpbmcgb3RoZXJ3aXNlCiAgICAgICAgICAgIC8vIHVubmVjZXNzYXJ5IHNjcm9sbGJhcnMgdG8gYXBwZWFyIGFuZCBtYWtpbmcgaXQgaW1wb3NzaWJsZSBmb3IKICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgdG8gc2hyaW5rOyBzbyB1c2UgbWF4LXdpZHRoIGluc3RlYWQKICAgICAgICAgICAgLmNzcygibWF4V2lkdGgiLCBlbC5vZmZzZXRXaWR0aCkKICAgICAgICAgICAgLmNzcygiaGVpZ2h0IiwgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgIGVycm9yRGl2LnRleHQoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgJGVsLmFmdGVyKGVycm9yRGl2KTsKCiAgICAgICAgICAvLyBSZWFsbHkgZHVtYiB3YXkgdG8ga2VlcCB0aGUgc2l6ZS9wb3NpdGlvbiBvZiB0aGUgZXJyb3IgaW4gc3luYyB3aXRoCiAgICAgICAgICAvLyB0aGUgcGFyZW50IGVsZW1lbnQgYXMgdGhlIHdpbmRvdyBpcyByZXNpemVkIG9yIHdoYXRldmVyLgogICAgICAgICAgdmFyIGludElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICghZXJyb3JEaXZbMF0ucGFyZW50RWxlbWVudCkgewogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50SWQpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvckRpdgogICAgICAgICAgICAgIC5jc3MoInRvcCIsIGVsLm9mZnNldFRvcCkKICAgICAgICAgICAgICAuY3NzKCJsZWZ0IiwgZWwub2Zmc2V0TGVmdCkKICAgICAgICAgICAgICAuY3NzKCJtYXhXaWR0aCIsIGVsLm9mZnNldFdpZHRoKQogICAgICAgICAgICAgIC5jc3MoImhlaWdodCIsIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICB9LCA1MDApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNsZWFyRXJyb3I6IGZ1bmN0aW9uKGVsKSB7CiAgICAgIHZhciAkZWwgPSAkKGVsKTsKICAgICAgdmFyIGRpc3BsYXkgPSAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiKTsKICAgICAgJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIiwgbnVsbCk7CgogICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIpIHsKICAgICAgICBpZiAoZGlzcGxheSkKICAgICAgICAgICRlbC5jc3MoImRpc3BsYXkiLCBkaXNwbGF5KTsKICAgICAgICAkKGVsLm5leHRTaWJsaW5nKS5maWx0ZXIoIi5odG1sd2lkZ2V0cy1lcnJvciIpLnJlbW92ZSgpOwogICAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09ICJibG9jayIpewogICAgICAgICRlbC5jc3MoInZpc2liaWxpdHkiLCAiaW5oZXJpdCIpOwogICAgICAgICQoZWwubmV4dFNpYmxpbmcpLmZpbHRlcigiLmh0bWx3aWRnZXRzLWVycm9yIikucmVtb3ZlKCk7CiAgICAgIH0KICAgIH0sCiAgICBzaXppbmc6IHt9CiAgfTsKCiAgLy8gQ2FsbGVkIGJ5IHdpZGdldCBiaW5kaW5ncyB0byByZWdpc3RlciBhIG5ldyB0eXBlIG9mIHdpZGdldC4gVGhlIGRlZmluaXRpb24KICAvLyBvYmplY3QgY2FuIGNvbnRhaW4gdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOgogIC8vIC0gbmFtZSAocmVxdWlyZWQpIC0gQSBzdHJpbmcgaW5kaWNhdGluZyB0aGUgYmluZGluZyBuYW1lLCB3aGljaCB3aWxsIGJlCiAgLy8gICB1c2VkIGJ5IGRlZmF1bHQgYXMgdGhlIENTUyBjbGFzc25hbWUgdG8gbG9vayBmb3IuCiAgLy8gLSBpbml0aWFsaXplIChvcHRpb25hbCkgLSBBIGZ1bmN0aW9uKGVsKSB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uY2UgcGVyCiAgLy8gICB3aWRnZXQgZWxlbWVudDsgaWYgYSB2YWx1ZSBpcyByZXR1cm5lZCwgaXQgd2lsbCBiZSBwYXNzZWQgYXMgdGhlIHRoaXJkCiAgLy8gICB2YWx1ZSB0byByZW5kZXJWYWx1ZS4KICAvLyAtIHJlbmRlclZhbHVlIChyZXF1aXJlZCkgLSBBIGZ1bmN0aW9uKGVsLCBkYXRhLCBpbml0VmFsdWUpIHRoYXQgd2lsbCBiZQogIC8vICAgY2FsbGVkIHdpdGggZGF0YS4gU3RhdGljIGNvbnRleHRzIHdpbGwgY2F1c2UgdGhpcyB0byBiZSBjYWxsZWQgb25jZSBwZXIKICAvLyAgIGVsZW1lbnQ7IFNoaW55IGFwcHMgd2lsbCBjYXVzZSB0aGlzIHRvIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBwZXIKICAvLyAgIGVsZW1lbnQsIGFzIHRoZSBkYXRhIGNoYW5nZXMuCiAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldCA9IGZ1bmN0aW9uKGRlZmluaXRpb24pIHsKICAgIGlmICghZGVmaW5pdGlvbi5uYW1lKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIG5hbWUiKTsKICAgIH0KICAgIGlmICghZGVmaW5pdGlvbi50eXBlKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIHR5cGUiKTsKICAgIH0KICAgIC8vIEN1cnJlbnRseSB3ZSBvbmx5IHN1cHBvcnQgb3V0cHV0IHdpZGdldHMKICAgIGlmIChkZWZpbml0aW9uLnR5cGUgIT09ICJvdXRwdXQiKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIHdpZGdldCB0eXBlICciICsgZGVmaW5pdGlvbi50eXBlICsgIiciKTsKICAgIH0KICAgIC8vIFRPRE86IFZlcmlmeSB0aGF0IC5uYW1lIGlzIGEgdmFsaWQgQ1NTIGNsYXNzbmFtZQoKICAgIC8vIFN1cHBvcnQgbmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb25zLiBPbGQtc3R5bGUgY2xhc3MtYm91bmQKICAgIC8vIGRlZmluaXRpb25zIGhhdmUgb25lIHdpZGdldCAib2JqZWN0IiBwZXIgd2lkZ2V0IHBlciB0eXBlL2NsYXNzIG9mCiAgICAvLyB3aWRnZXQ7IHRoZSByZW5kZXJWYWx1ZSBhbmQgcmVzaXplIG1ldGhvZHMgb24gc3VjaCB3aWRnZXQgb2JqZWN0cwogICAgLy8gdGFrZSBlbCBhbmQgaW5zdGFuY2UgYXJndW1lbnRzLCBiZWNhdXNlIHRoZSB3aWRnZXQgb2JqZWN0IGNhbid0CiAgICAvLyBzdG9yZSB0aGVtLiBOZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbnMgaGF2ZSBvbmUgd2lkZ2V0CiAgICAvLyBvYmplY3QgcGVyIHdpZGdldCBpbnN0YW5jZTsgdGhlIGRlZmluaXRpb24gdGhhdCdzIHBhc3NlZCBpbiBkb2Vzbid0CiAgICAvLyBwcm92aWRlIHJlbmRlclZhbHVlIG9yIHJlc2l6ZSBtZXRob2RzIGF0IGFsbCwganVzdCB0aGUgc2luZ2xlIG1ldGhvZAogICAgLy8gICBmYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KQogICAgLy8gd2hpY2ggcmV0dXJucyBhbiBvYmplY3QgdGhhdCBoYXMgcmVuZGVyVmFsdWUoeCkgYW5kIHJlc2l6ZSh3LCBoKS4KICAgIC8vIFRoaXMgZW5hYmxlcyBhIGZhciBtb3JlIG5hdHVyYWwgcHJvZ3JhbW1pbmcgc3R5bGUgZm9yIHRoZSB3aWRnZXQKICAgIC8vIGF1dGhvciwgd2hvIGNhbiBzdG9yZSBwZXItaW5zdGFuY2Ugc3RhdGUgdXNpbmcgZWl0aGVyIE9PLXN0eWxlCiAgICAvLyBpbnN0YW5jZSBmaWVsZHMgb3IgZnVuY3Rpb25hbC1zdHlsZSBjbG9zdXJlIHZhcmlhYmxlcyAoSSBndWVzcyB0aGlzCiAgICAvLyBpcyBpbiBjb250cmFzdCB0byB3aGF0IGNhbiBvbmx5IGJlIGNhbGxlZCBDLXN0eWxlIHBzZXVkby1PTyB3aGljaCBpcwogICAgLy8gd2hhdCB3ZSByZXF1aXJlZCBiZWZvcmUpLgogICAgaWYgKGRlZmluaXRpb24uZmFjdG9yeSkgewogICAgICBkZWZpbml0aW9uID0gY3JlYXRlTGVnYWN5RGVmaW5pdGlvbkFkYXB0ZXIoZGVmaW5pdGlvbik7CiAgICB9CgogICAgaWYgKCFkZWZpbml0aW9uLnJlbmRlclZhbHVlKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIHJlbmRlclZhbHVlIGZ1bmN0aW9uIik7CiAgICB9CgogICAgLy8gRm9yIHN0YXRpYyByZW5kZXJpbmcgKG5vbi1TaGlueSksIHVzZSBhIHNpbXBsZSB3aWRnZXQgcmVnaXN0cmF0aW9uCiAgICAvLyBzY2hlbWUuIFdlIGFsc28gdXNlIHRoaXMgc2NoZW1lIGZvciBTaGlueSBhcHBzL2RvY3VtZW50cyB0aGF0IGFsc28KICAgIC8vIGNvbnRhaW4gc3RhdGljIHdpZGdldHMuCiAgICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzIHx8IFtdOwogICAgLy8gTWVyZ2UgZGVmYXVsdHMgaW50byB0aGUgZGVmaW5pdGlvbjsgZG9uJ3QgbXV0YXRlIHRoZSBvcmlnaW5hbCBkZWZpbml0aW9uLgogICAgdmFyIHN0YXRpY0JpbmRpbmcgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBkZWZpbml0aW9uKTsKICAgIG92ZXJyaWRlTWV0aG9kKHN0YXRpY0JpbmRpbmcsICJmaW5kIiwgZnVuY3Rpb24oc3VwZXJmdW5jKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSkgewogICAgICAgIHZhciByZXN1bHRzID0gc3VwZXJmdW5jKHNjb3BlKTsKICAgICAgICAvLyBGaWx0ZXIgb3V0IFNoaW55IG91dHB1dHMsIHdlIG9ubHkgd2FudCB0aGUgc3RhdGljIGtpbmQKICAgICAgICByZXR1cm4gZmlsdGVyQnlDbGFzcyhyZXN1bHRzLCAiaHRtbC13aWRnZXQtb3V0cHV0IiwgZmFsc2UpOwogICAgICB9OwogICAgfSk7CiAgICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cy5wdXNoKHN0YXRpY0JpbmRpbmcpOwoKICAgIGlmIChzaGlueU1vZGUpIHsKICAgICAgLy8gU2hpbnkgaXMgcnVubmluZy4gUmVnaXN0ZXIgdGhlIGRlZmluaXRpb24gd2l0aCBhbiBvdXRwdXQgYmluZGluZy4KICAgICAgLy8gVGhlIGRlZmluaXRpb24gaXRzZWxmIHdpbGwgbm90IGJlIHRoZSBvdXRwdXQgYmluZGluZywgaW5zdGVhZAogICAgICAvLyB3ZSB3aWxsIG1ha2UgYW4gb3V0cHV0IGJpbmRpbmcgb2JqZWN0IHRoYXQgZGVsZWdhdGVzIHRvIHRoZQogICAgICAvLyBkZWZpbml0aW9uLiBUaGlzIGlzIGJlY2F1c2Ugd2UgZm9vbGlzaGx5IHVzZWQgdGhlIHNhbWUgbWV0aG9kCiAgICAgIC8vIG5hbWUgKHJlbmRlclZhbHVlKSBmb3IgaHRtbHdpZGdldHMgZGVmaW5pdGlvbiBhbmQgU2hpbnkgYmluZGluZ3MKICAgICAgLy8gYnV0IHRoZXkgYWN0dWFsbHkgaGF2ZSBxdWl0ZSBkaWZmZXJlbnQgc2VtYW50aWNzICh0aGUgU2hpbnkKICAgICAgLy8gYmluZGluZ3MgcmVjZWl2ZSBkYXRhIHRoYXQgaW5jbHVkZXMgbG90cyBvZiBtZXRhZGF0YSB0aGF0IGl0CiAgICAgIC8vIHN0cmlwcyBvZmYgYmVmb3JlIGNhbGxpbmcgaHRtbHdpZGdldHMgcmVuZGVyVmFsdWUpLiBXZSBjYW4ndAogICAgICAvLyBqdXN0IGlnbm9yZSB0aGUgZGlmZmVyZW5jZSBiZWNhdXNlIGluIHNvbWUgd2lkZ2V0cyBpdCdzIGhlbHBmdWwKICAgICAgLy8gdG8gY2FsbCB0aGlzLnJlbmRlclZhbHVlKCkgZnJvbSBpbnNpZGUgb2YgcmVzaXplKCksIGFuZCBpZgogICAgICAvLyB3ZSdyZSBub3QgZGVsZWdhdGluZywgdGhlbiB0aGF0IGNhbGwgd2lsbCBnbyB0byB0aGUgU2hpbnkKICAgICAgLy8gdmVyc2lvbiBpbnN0ZWFkIG9mIHRoZSBodG1sd2lkZ2V0cyB2ZXJzaW9uLgoKICAgICAgLy8gTWVyZ2UgZGVmYXVsdHMgd2l0aCBkZWZpbml0aW9uLCB3aXRob3V0IG11dGF0aW5nIGVpdGhlci4KICAgICAgdmFyIGJpbmRpbmdEZWYgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBkZWZpbml0aW9uKTsKCiAgICAgIC8vIFRoaXMgb2JqZWN0IHdpbGwgYmUgb3VyIGFjdHVhbCBTaGlueSBiaW5kaW5nLgogICAgICB2YXIgc2hpbnlCaW5kaW5nID0gbmV3IFNoaW55Lk91dHB1dEJpbmRpbmcoKTsKCiAgICAgIC8vIFdpdGggYSBmZXcgZXhjZXB0aW9ucywgd2UnbGwgd2FudCB0byBzaW1wbHkgdXNlIHRoZSBiaW5kaW5nRGVmJ3MKICAgICAgLy8gdmVyc2lvbiBvZiBtZXRob2RzIGlmIHRoZXkgYXJlIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGZhbGwgYmFjayB0bwogICAgICAvLyBTaGlueSdzIGRlZmF1bHRzLiBOT1RFOiBJZiBTaGlueSdzIG91dHB1dCBiaW5kaW5ncyBnYWluIGFkZGl0aW9uYWwKICAgICAgLy8gbWV0aG9kcyBpbiB0aGUgZnV0dXJlLCBhbmQgd2Ugd2FudCB0aGVtIHRvIGJlIG92ZXJyaWRlYWJsZSBieQogICAgICAvLyBIVE1MV2lkZ2V0IGJpbmRpbmcgZGVmaW5pdGlvbnMsIHRoZW4gd2UnbGwgbmVlZCB0byBhZGQgdGhlbSB0byB0aGlzCiAgICAgIC8vIGxpc3QuCiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgImdldElkIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgIm9uVmFsdWVDaGFuZ2UiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAib25WYWx1ZUVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgInJlbmRlckVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgImNsZWFyRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAic2hvd1Byb2dyZXNzIik7CgogICAgICAvLyBUaGUgZmluZCwgcmVuZGVyVmFsdWUsIGFuZCByZXNpemUgYXJlIGhhbmRsZWQgZGlmZmVyZW50bHksIGJlY2F1c2Ugd2UKICAgICAgLy8gd2FudCB0byBhY3R1YWxseSBkZWNvcmF0ZSB0aGUgYmVoYXZpb3Igb2YgdGhlIGJpbmRpbmdEZWYgbWV0aG9kcy4KCiAgICAgIHNoaW55QmluZGluZy5maW5kID0gZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgICB2YXIgcmVzdWx0cyA9IGJpbmRpbmdEZWYuZmluZChzY29wZSk7CgogICAgICAgIC8vIE9ubHkgcmV0dXJuIGVsZW1lbnRzIHRoYXQgYXJlIFNoaW55IG91dHB1dHMsIG5vdCBzdGF0aWMgb25lcwogICAgICAgIHZhciBkeW5hbWljUmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKCIuaHRtbC13aWRnZXQtb3V0cHV0Iik7CgogICAgICAgIC8vIEl0J3MgcG9zc2libGUgdGhhdCB3aGF0ZXZlciBjYXVzZWQgU2hpbnkgdG8gdGhpbmsgdGhlcmUgbWlnaHQgYmUKICAgICAgICAvLyBuZXcgZHluYW1pYyBvdXRwdXRzLCBhbHNvIGNhdXNlZCB0aGVyZSB0byBiZSBuZXcgc3RhdGljIG91dHB1dHMuCiAgICAgICAgLy8gU2luY2UgdGhlcmUgbWlnaHQgYmUgbG90cyBvZiBkaWZmZXJlbnQgaHRtbHdpZGdldHMgYmluZGluZ3MsIHdlCiAgICAgICAgLy8gc2NoZWR1bGUgZXhlY3V0aW9uIGZvciBsYXRlci0tbm8gbmVlZCB0byBzdGF0aWNSZW5kZXIgbXVsdGlwbGUKICAgICAgICAvLyB0aW1lcy4KICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggIT09IGR5bmFtaWNSZXN1bHRzLmxlbmd0aCkKICAgICAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyKCk7CgogICAgICAgIHJldHVybiBkeW5hbWljUmVzdWx0czsKICAgICAgfTsKCiAgICAgIC8vIFdyYXAgcmVuZGVyVmFsdWUgdG8gaGFuZGxlIGluaXRpYWxpemF0aW9uLCB3aGljaCB1bmZvcnR1bmF0ZWx5IGlzbid0CiAgICAgIC8vIHN1cHBvcnRlZCBuYXRpdmVseSBieSBTaGlueSBhdCB0aGUgdGltZSBvZiB0aGlzIHdyaXRpbmcuCgogICAgICBzaGlueUJpbmRpbmcucmVuZGVyVmFsdWUgPSBmdW5jdGlvbihlbCwgZGF0YSkgewogICAgICAgIFNoaW55LnJlbmRlckRlcGVuZGVuY2llcyhkYXRhLmRlcHMpOwogICAgICAgIC8vIFJlc29sdmUgc3RyaW5ncyBtYXJrZWQgYXMgamF2YXNjcmlwdCBsaXRlcmFscyB0byBvYmplY3RzCiAgICAgICAgaWYgKCEoZGF0YS5ldmFscyBpbnN0YW5jZW9mIEFycmF5KSkgZGF0YS5ldmFscyA9IFtkYXRhLmV2YWxzXTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgZGF0YS5ldmFscyAmJiBpIDwgZGF0YS5ldmFscy5sZW5ndGg7IGkrKykgewogICAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyKGRhdGEueCwgZGF0YS5ldmFsc1tpXSk7CiAgICAgICAgfQogICAgICAgIGlmICghYmluZGluZ0RlZi5yZW5kZXJPbk51bGxWYWx1ZSkgewogICAgICAgICAgaWYgKGRhdGEueCA9PT0gbnVsbCkgewogICAgICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gImhpZGRlbiI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAiaW5oZXJpdCI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIpKSB7CiAgICAgICAgICBpbml0U2l6aW5nKGVsKTsKCiAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIiwgdHJ1ZSk7CiAgICAgICAgICBpZiAoYmluZGluZ0RlZi5pbml0aWFsaXplKSB7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBiaW5kaW5nRGVmLmluaXRpYWxpemUoZWwsIGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICAgIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiLCByZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBiaW5kaW5nRGVmLnJlbmRlclZhbHVlKGVsLCBkYXRhLngsIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiKSk7CiAgICAgICAgZXZhbEFuZFJ1bihkYXRhLmpzSG9va3MucmVuZGVyLCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiksIFtlbCwgZGF0YS54XSk7CiAgICAgIH07CgogICAgICAvLyBPbmx5IG92ZXJyaWRlIHJlc2l6ZSBpZiBiaW5kaW5nRGVmIGltcGxlbWVudHMgaXQKICAgICAgaWYgKGJpbmRpbmdEZWYucmVzaXplKSB7CiAgICAgICAgc2hpbnlCaW5kaW5nLnJlc2l6ZSA9IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7CiAgICAgICAgICAvLyBTaGlueSBjYW4gY2FsbCByZXNpemUgYmVmb3JlIGluaXRpYWxpemUvcmVuZGVyVmFsdWUgaGF2ZSBiZWVuCiAgICAgICAgICAvLyBjYWxsZWQsIHdoaWNoIGRvZXNuJ3QgbWFrZSBzZW5zZSBmb3Igd2lkZ2V0cy4KICAgICAgICAgIGlmIChlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIikpIHsKICAgICAgICAgICAgYmluZGluZ0RlZi5yZXNpemUoZWwsIHdpZHRoLCBoZWlnaHQsIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiKSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgU2hpbnkub3V0cHV0QmluZGluZ3MucmVnaXN0ZXIoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLm5hbWUpOwogICAgfQogIH07CgogIHZhciBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBudWxsOwogIGZ1bmN0aW9uIHNjaGVkdWxlU3RhdGljUmVuZGVyKCkgewogICAgaWYgKCFzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQpIHsKICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBudWxsOwogICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfQoKICAvLyBSZW5kZXIgc3RhdGljIHdpZGdldHMgYWZ0ZXIgdGhlIGRvY3VtZW50IGZpbmlzaGVzIGxvYWRpbmcKICAvLyBTdGF0aWNhbGx5IHJlbmRlciBhbGwgZWxlbWVudHMgdGhhdCBhcmUgb2YgdGhpcyB3aWRnZXQncyBjbGFzcwogIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgIHZhciBiaW5kaW5ncyA9IHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzIHx8IFtdOwogICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24oYmluZGluZykgewogICAgICB2YXIgbWF0Y2hlcyA9IGJpbmRpbmcuZmluZChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpOwogICAgICBmb3JFYWNoKG1hdGNoZXMsIGZ1bmN0aW9uKGVsKSB7CiAgICAgICAgdmFyIHNpemVPYmogPSBpbml0U2l6aW5nKGVsLCBiaW5kaW5nKTsKCiAgICAgICAgaWYgKGhhc0NsYXNzKGVsLCAiaHRtbC13aWRnZXQtc3RhdGljLWJvdW5kIikpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lICsgIiBodG1sLXdpZGdldC1zdGF0aWMtYm91bmQiOwoKICAgICAgICB2YXIgaW5pdFJlc3VsdDsKICAgICAgICBpZiAoYmluZGluZy5pbml0aWFsaXplKSB7CiAgICAgICAgICBpbml0UmVzdWx0ID0gYmluZGluZy5pbml0aWFsaXplKGVsLAogICAgICAgICAgICBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgIHNpemVPYmogPyBzaXplT2JqLmdldEhlaWdodCgpIDogZWwub2Zmc2V0SGVpZ2h0CiAgICAgICAgICApOwogICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIsIGluaXRSZXN1bHQpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGJpbmRpbmcucmVzaXplKSB7CiAgICAgICAgICB2YXIgbGFzdFNpemUgPSB7fTsKICAgICAgICAgIHZhciByZXNpemVIYW5kbGVyID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgICB2YXIgc2l6ZSA9IHsKICAgICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgaDogc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKHNpemUudyA9PT0gMCAmJiBzaXplLmggPT09IDApCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSBsYXN0U2l6ZS53ICYmIHNpemUuaCA9PT0gbGFzdFNpemUuaCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGxhc3RTaXplID0gc2l6ZTsKICAgICAgICAgICAgYmluZGluZy5yZXNpemUoZWwsIHNpemUudywgc2l6ZS5oLCBpbml0UmVzdWx0KTsKICAgICAgICAgIH07CgogICAgICAgICAgb24od2luZG93LCAicmVzaXplIiwgcmVzaXplSGFuZGxlcik7CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIGNhc2VzIHdoZXJlIHdlJ3JlIHJ1bm5pbmcgaW4gYSBTaGlueQogICAgICAgICAgLy8gYXBwLCBidXQgdGhlIHdpZGdldCBpdHNlbGYgaXMgbm90IGEgU2hpbnkgb3V0cHV0LCBidXQKICAgICAgICAgIC8vIHJhdGhlciBhIHNpbXBsZSBzdGF0aWMgd2lkZ2V0LiBPbmUgZXhhbXBsZSBvZiB0aGlzIGlzCiAgICAgICAgICAvLyBhbiBybWFya2Rvd24gZG9jdW1lbnQgdGhhdCBoYXMgcnVudGltZTpzaGlueSBhbmQgd2lkZ2V0CiAgICAgICAgICAvLyB0aGF0IGlzbid0IGluIGEgcmVuZGVyIGZ1bmN0aW9uLiBTaGlueSBvbmx5IGtub3dzIHRvCiAgICAgICAgICAvLyBjYWxsIHJlc2l6ZSBoYW5kbGVycyBmb3IgU2hpbnkgb3V0cHV0cywgbm90IGZvciBzdGF0aWMKICAgICAgICAgIC8vIHdpZGdldHMsIHNvIHdlIGRvIGl0IG91cnNlbHZlcy4KICAgICAgICAgIGlmICh3aW5kb3cualF1ZXJ5KSB7CiAgICAgICAgICAgIHdpbmRvdy5qUXVlcnkoZG9jdW1lbnQpLm9uKAogICAgICAgICAgICAgICJzaG93bi5odG1sd2lkZ2V0cyBzaG93bi5icy50YWIuaHRtbHdpZGdldHMgc2hvd24uYnMuY29sbGFwc2UuaHRtbHdpZGdldHMiLAogICAgICAgICAgICAgIHJlc2l6ZUhhbmRsZXIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgImhpZGRlbi5odG1sd2lkZ2V0cyBoaWRkZW4uYnMudGFiLmh0bWx3aWRnZXRzIGhpZGRlbi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGZvciB0aGUgc3BlY2lmaWMgY2FzZSBvZiBpb3NsaWRlcywgd2hpY2gKICAgICAgICAgIC8vIGZsaXBzIHNsaWRlcyBiZXR3ZWVuIGRpc3BsYXk6bm9uZSBhbmQgZGlzcGxheTpibG9jay4KICAgICAgICAgIC8vIElkZWFsbHkgd2Ugd291bGQgbm90IGhhdmUgdG8gaGF2ZSBpb3NsaWRlLXNwZWNpZmljIGNvZGUKICAgICAgICAgIC8vIGhlcmUsIGJ1dCByYXRoZXIgaGF2ZSBpb3NsaWRlcyByYWlzZSBhIGdlbmVyaWMgZXZlbnQsCiAgICAgICAgICAvLyBidXQgdGhlIHJtYXJrZG93biBwYWNrYWdlIGp1c3Qgd2VudCB0byBDUkFOIHNvIHRoZQogICAgICAgICAgLy8gd2luZG93IHRvIGdldHRpbmcgdGhhdCBmaXhlZCBtYXkgYmUgbG9uZy4KICAgICAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgICAgICAgICAvLyBJdCdzIE9LIHRvIGxpbWl0IHRoaXMgdG8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIKICAgICAgICAgICAgLy8gYnJvd3NlcnMgYmVjYXVzZSBpb3NsaWRlcyBpdHNlbGYgb25seSBzdXBwb3J0cwogICAgICAgICAgICAvLyBzdWNoIGJyb3dzZXJzLgogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlZW50ZXIiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgICAgb24oZG9jdW1lbnQsICJzbGlkZWxlYXZlIiwgcmVzaXplSGFuZGxlcik7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgc2NyaXB0RGF0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtkYXRhLWZvcj0nIiArIGVsLmlkICsgIiddW3R5cGU9J2FwcGxpY2F0aW9uL2pzb24nXSIpOwogICAgICAgIGlmIChzY3JpcHREYXRhKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc2NyaXB0RGF0YS50ZXh0Q29udGVudCB8fCBzY3JpcHREYXRhLnRleHQpOwogICAgICAgICAgLy8gUmVzb2x2ZSBzdHJpbmdzIG1hcmtlZCBhcyBqYXZhc2NyaXB0IGxpdGVyYWxzIHRvIG9iamVjdHMKICAgICAgICAgIGlmICghKGRhdGEuZXZhbHMgaW5zdGFuY2VvZiBBcnJheSkpIGRhdGEuZXZhbHMgPSBbZGF0YS5ldmFsc107CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgZGF0YS5ldmFscyAmJiBrIDwgZGF0YS5ldmFscy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIoZGF0YS54LCBkYXRhLmV2YWxzW2tdKTsKICAgICAgICAgIH0KICAgICAgICAgIGJpbmRpbmcucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgaW5pdFJlc3VsdCk7CiAgICAgICAgICBldmFsQW5kUnVuKGRhdGEuanNIb29rcy5yZW5kZXIsIGluaXRSZXN1bHQsIFtlbCwgZGF0YS54XSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwoKICAgIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpOwogIH0KCiAgLy8gV2FpdCB1bnRpbCBhZnRlciB0aGUgZG9jdW1lbnQgaGFzIGxvYWRlZCB0byByZW5kZXIgdGhlIHdpZGdldHMuCiAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbigpIHsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGFyZ3VtZW50cy5jYWxsZWUsIGZhbHNlKTsKICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgfSwgZmFsc2UpOwogIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHsKICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIpIHsKICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgYXJndW1lbnRzLmNhbGxlZSk7CiAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgICB9CiAgICB9KTsKICB9CgoKICB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0QXR0YWNobWVudFVybCA9IGZ1bmN0aW9uKGRlcG5hbWUsIGtleSkgewogICAgLy8gSWYgbm8ga2V5LCBkZWZhdWx0IHRvIHRoZSBmaXJzdCBpdGVtCiAgICBpZiAodHlwZW9mKGtleSkgPT09ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSAxOwoKICAgIHZhciBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVwbmFtZSArICItIiArIGtleSArICItYXR0YWNobWVudCIpOwogICAgaWYgKCFsaW5rKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiQXR0YWNobWVudCAiICsgZGVwbmFtZSArICIvIiArIGtleSArICIgbm90IGZvdW5kIGluIGRvY3VtZW50Iik7CiAgICB9CiAgICByZXR1cm4gbGluay5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMuZGF0YWZyYW1lVG9EMyA9IGZ1bmN0aW9uKGRmKSB7CiAgICB2YXIgbmFtZXMgPSBbXTsKICAgIHZhciBsZW5ndGg7CiAgICBmb3IgKHZhciBuYW1lIGluIGRmKSB7CiAgICAgICAgaWYgKGRmLmhhc093blByb3BlcnR5KG5hbWUpKQogICAgICAgICAgICBuYW1lcy5wdXNoKG5hbWUpOwogICAgICAgIGlmICh0eXBlb2YoZGZbbmFtZV0pICE9PSAib2JqZWN0IiB8fCB0eXBlb2YoZGZbbmFtZV0ubGVuZ3RoKSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIik7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YobGVuZ3RoKSAhPT0gInVuZGVmaW5lZCIgJiYgbGVuZ3RoICE9PSBkZltuYW1lXS5sZW5ndGgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCIpOwogICAgICAgIH0KICAgICAgICBsZW5ndGggPSBkZltuYW1lXS5sZW5ndGg7CiAgICB9CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGl0ZW07CiAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBsZW5ndGg7IHJvdysrKSB7CiAgICAgICAgaXRlbSA9IHt9OwogICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG5hbWVzLmxlbmd0aDsgY29sKyspIHsKICAgICAgICAgICAgaXRlbVtuYW1lc1tjb2xdXSA9IGRmW25hbWVzW2NvbF1dW3Jvd107CiAgICAgICAgfQogICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH07CgogIHdpbmRvdy5IVE1MV2lkZ2V0cy50cmFuc3Bvc2VBcnJheTJEID0gZnVuY3Rpb24oYXJyYXkpIHsKICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGFycmF5OwogICAgICB2YXIgbmV3QXJyYXkgPSBhcnJheVswXS5tYXAoZnVuY3Rpb24oY29sLCBpKSB7CiAgICAgICAgICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uKHJvdykgewogICAgICAgICAgICAgIHJldHVybiByb3dbaV0KICAgICAgICAgIH0pCiAgICAgIH0pOwogICAgICByZXR1cm4gbmV3QXJyYXk7CiAgfTsKICAvLyBTcGxpdCB2YWx1ZSBhdCBzcGxpdENoYXIsIGJ1dCBhbGxvdyBzcGxpdENoYXIgdG8gYmUgZXNjYXBlZAogIC8vIHVzaW5nIGVzY2FwZUNoYXIuIEFueSBvdGhlciBjaGFyYWN0ZXJzIGVzY2FwZWQgYnkgZXNjYXBlQ2hhcgogIC8vIHdpbGwgYmUgaW5jbHVkZWQgYXMgdXN1YWwgKGluY2x1ZGluZyBlc2NhcGVDaGFyIGl0c2VsZikuCiAgZnVuY3Rpb24gc3BsaXRXaXRoRXNjYXBlKHZhbHVlLCBzcGxpdENoYXIsIGVzY2FwZUNoYXIpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB2YXIgZXNjYXBlTW9kZSA9IGZhbHNlOwogICAgdmFyIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgIGZvciAodmFyIHBvcyA9IDA7IHBvcyA8IHZhbHVlLmxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKCFlc2NhcGVNb2RlKSB7CiAgICAgICAgaWYgKHZhbHVlW3Bvc10gPT09IHNwbGl0Q2hhcikgewogICAgICAgICAgcmVzdWx0cy5wdXNoKGN1cnJlbnRSZXN1bHQpOwogICAgICAgICAgY3VycmVudFJlc3VsdCA9ICIiOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWVbcG9zXSA9PT0gZXNjYXBlQ2hhcikgewogICAgICAgICAgZXNjYXBlTW9kZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3VycmVudFJlc3VsdCArPSB2YWx1ZVtwb3NdOwogICAgICAgIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgICAgfQogICAgfQogICAgaWYgKGN1cnJlbnRSZXN1bHQgIT09ICIiKSB7CiAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0KICAvLyBGdW5jdGlvbiBhdXRob3JlZCBieSBZaWh1aS9KSiBBbGxhaXJlCiAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyID0gZnVuY3Rpb24obywgbWVtYmVyKSB7CiAgICB2YXIgcGFydHMgPSBzcGxpdFdpdGhFc2NhcGUobWVtYmVyLCAnLicsICdcXCcpOwogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTsKICAgICAgLy8gcGFydCBtYXkgYmUgYSBjaGFyYWN0ZXIgb3IgJ251bWVyaWMnIG1lbWJlciBuYW1lCiAgICAgIGlmIChvICE9PSBudWxsICYmIHR5cGVvZiBvID09PSAib2JqZWN0IiAmJiBwYXJ0IGluIG8pIHsKICAgICAgICBpZiAoaSA9PSAobCAtIDEpKSB7IC8vIGlmIHdlIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lIHRoZW4gZXZhbHVsYXRlCiAgICAgICAgICBpZiAodHlwZW9mIG9bcGFydF0gPT09ICJzdHJpbmciKQogICAgICAgICAgICBvW3BhcnRdID0gZXZhbCgiKCIgKyBvW3BhcnRdICsgIikiKTsKICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UgY29udGludWUgdG8gbmV4dCBlbWJlZGRlZCBvYmplY3QKICAgICAgICAgIG8gPSBvW3BhcnRdOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIFJldHJpZXZlIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YgYW4KICAvLyBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCBhbiBlbGVtZW50LCBvciBudWxsIGlmIG5vbmUuCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlID0gZnVuY3Rpb24oZWwpIHsKICAgIHJldHVybiBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0Iik7CiAgfTsKCiAgLy8gRmluZHMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IsCiAgLy8gYW5kIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2UgKGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoYXQgZWxlbWVudCwgaWYgYW55LiBJZiBubyBlbGVtZW50IG1hdGNoZXMgdGhlCiAgLy8gc2VsZWN0b3IsIG9yIHRoZSBmaXJzdCBtYXRjaGluZyBlbGVtZW50IGhhcyBubyBIVE1MV2lkZ2V0CiAgLy8gaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIGl0LCB0aGVuIG51bGwgaXMgcmV0dXJuZWQuCiAgLy8KICAvLyBUaGUgc2NvcGUgYXJndW1lbnQgaXMgb3B0aW9uYWwsIGFuZCBkZWZhdWx0cyB0byB3aW5kb3cuZG9jdW1lbnQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmZpbmQgPSBmdW5jdGlvbihzY29wZSwgc2VsZWN0b3IpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgc2VsZWN0b3IgPSBzY29wZTsKICAgICAgc2NvcGUgPSBkb2N1bWVudDsKICAgIH0KCiAgICB2YXIgZWwgPSBzY29wZS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgIGlmIChlbCA9PT0gbnVsbCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0SW5zdGFuY2UoZWwpOwogICAgfQogIH07CgogIC8vIEZpbmRzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2NvcGUgdGhhdCBtYXRjaCB0aGUgc2VsZWN0b3IsIGFuZAogIC8vIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2VzIChpLmUuIHRoZSByZXR1cm4gdmFsdWVzIG9mCiAgLy8gYW4gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRzLCBpbiBhbiBhcnJheS4gSWYgZWxlbWVudHMgdGhhdAogIC8vIG1hdGNoIHRoZSBzZWxlY3RvciBkb24ndCBoYXZlIGFuIGFzc29jaWF0ZWQgSFRNTFdpZGdldAogIC8vIGluc3RhbmNlLCB0aGUgcmV0dXJuZWQgYXJyYXkgd2lsbCBjb250YWluIG51bGxzLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kQWxsID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIG5vZGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICByZXN1bHRzLnB1c2god2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKG5vZGVzW2ldKSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB2YXIgcG9zdFJlbmRlckhhbmRsZXJzID0gW107CiAgZnVuY3Rpb24gaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCkgewogICAgd2hpbGUgKHBvc3RSZW5kZXJIYW5kbGVycy5sZW5ndGgpIHsKICAgICAgdmFyIGhhbmRsZXIgPSBwb3N0UmVuZGVySGFuZGxlcnMuc2hpZnQoKTsKICAgICAgaWYgKGhhbmRsZXIpIHsKICAgICAgICBoYW5kbGVyKCk7CiAgICAgIH0KICAgIH0KICB9CgogIC8vIFJlZ2lzdGVyIHRoZSBnaXZlbiBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIGFmdGVyIHRoZQogIC8vIG5leHQgdGltZSBzdGF0aWMgd2lkZ2V0cyBhcmUgcmVuZGVyZWQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmFkZFBvc3RSZW5kZXJIYW5kbGVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHBvc3RSZW5kZXJIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTsKICB9OwoKICAvLyBUYWtlcyBhIG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9uLCBhbmQgcmV0dXJucyBhbgogIC8vIG9sZC1zdHlsZSBjbGFzcy1ib3VuZCBkZWZpbml0aW9uLiBUaGlzIHNhdmVzIHVzIGZyb20gaGF2aW5nCiAgLy8gdG8gcmV3cml0ZSBhbGwgdGhlIGxvZ2ljIGluIHRoaXMgZmlsZSB0byBhY2NvbW9kYXRlIGJvdGgKICAvLyB0eXBlcyBvZiBkZWZpbml0aW9ucy4KICBmdW5jdGlvbiBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZuKSB7CiAgICB2YXIgcmVzdWx0ID0gewogICAgICBuYW1lOiBkZWZuLm5hbWUsCiAgICAgIHR5cGU6IGRlZm4udHlwZSwKICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICByZXR1cm4gZGVmbi5mYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgfSwKICAgICAgcmVuZGVyVmFsdWU6IGZ1bmN0aW9uKGVsLCB4LCBpbnN0YW5jZSkgewogICAgICAgIHJldHVybiBpbnN0YW5jZS5yZW5kZXJWYWx1ZSh4KTsKICAgICAgfSwKICAgICAgcmVzaXplOiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVzaXplKHdpZHRoLCBoZWlnaHQpOwogICAgICB9CiAgICB9OwoKICAgIGlmIChkZWZuLmZpbmQpCiAgICAgIHJlc3VsdC5maW5kID0gZGVmbi5maW5kOwogICAgaWYgKGRlZm4ucmVuZGVyRXJyb3IpCiAgICAgIHJlc3VsdC5yZW5kZXJFcnJvciA9IGRlZm4ucmVuZGVyRXJyb3I7CiAgICBpZiAoZGVmbi5jbGVhckVycm9yKQogICAgICByZXN1bHQuY2xlYXJFcnJvciA9IGRlZm4uY2xlYXJFcnJvcjsKCiAgICByZXR1cm4gcmVzdWx0OwogIH0KfSkoKTsKCg=="></script>
<script src="data:application/x-javascript;base64,IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtyZXR1cm4gbiYmKG4ub3duZXJEb2N1bWVudHx8bi5kb2N1bWVudHx8bikuZG9jdW1lbnRFbGVtZW50fWZ1bmN0aW9uIHQobil7cmV0dXJuIG4mJihuLm93bmVyRG9jdW1lbnQmJm4ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld3x8bi5kb2N1bWVudCYmbnx8bi5kZWZhdWx0Vmlldyl9ZnVuY3Rpb24gZShuLHQpe3JldHVybiB0Pm4/LTE6bj50PzE6bj49dD8wOk5hTn1mdW5jdGlvbiByKG4pe3JldHVybiBudWxsPT09bj9OYU46K259ZnVuY3Rpb24gdShuKXtyZXR1cm4haXNOYU4obil9ZnVuY3Rpb24gaShuKXtyZXR1cm57bGVmdDpmdW5jdGlvbih0LGUscix1KXtmb3IoYXJndW1lbnRzLmxlbmd0aDwzJiYocj0wKSxhcmd1bWVudHMubGVuZ3RoPDQmJih1PXQubGVuZ3RoKTt1PnI7KXt2YXIgaT1yK3U+Pj4xO24odFtpXSxlKTwwP3I9aSsxOnU9aX1yZXR1cm4gcn0scmlnaHQ6ZnVuY3Rpb24odCxlLHIsdSl7Zm9yKGFyZ3VtZW50cy5sZW5ndGg8MyYmKHI9MCksYXJndW1lbnRzLmxlbmd0aDw0JiYodT10Lmxlbmd0aCk7dT5yOyl7dmFyIGk9cit1Pj4+MTtuKHRbaV0sZSk+MD91PWk6cj1pKzF9cmV0dXJuIHJ9fX1mdW5jdGlvbiBhKG4pe3JldHVybiBuLmxlbmd0aH1mdW5jdGlvbiBvKG4pe2Zvcih2YXIgdD0xO24qdCUxOyl0Kj0xMDtyZXR1cm4gdH1mdW5jdGlvbiBsKG4sdCl7Zm9yKHZhciBlIGluIHQpT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLGUse3ZhbHVlOnRbZV0sZW51bWVyYWJsZTohMX0pfWZ1bmN0aW9uIGMoKXt0aGlzLl89T2JqZWN0LmNyZWF0ZShudWxsKX1mdW5jdGlvbiBzKG4pe3JldHVybihuKz0iIik9PT14YXx8blswXT09PWJhP2JhK246bn1mdW5jdGlvbiBmKG4pe3JldHVybihuKz0iIilbMF09PT1iYT9uLnNsaWNlKDEpOm59ZnVuY3Rpb24gaChuKXtyZXR1cm4gcyhuKWluIHRoaXMuX31mdW5jdGlvbiBnKG4pe3JldHVybihuPXMobikpaW4gdGhpcy5fJiZkZWxldGUgdGhpcy5fW25dfWZ1bmN0aW9uIHAoKXt2YXIgbj1bXTtmb3IodmFyIHQgaW4gdGhpcy5fKW4ucHVzaChmKHQpKTtyZXR1cm4gbn1mdW5jdGlvbiB2KCl7dmFyIG49MDtmb3IodmFyIHQgaW4gdGhpcy5fKSsrbjtyZXR1cm4gbn1mdW5jdGlvbiBkKCl7Zm9yKHZhciBuIGluIHRoaXMuXylyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBtKCl7dGhpcy5fPU9iamVjdC5jcmVhdGUobnVsbCl9ZnVuY3Rpb24geShuKXtyZXR1cm4gbn1mdW5jdGlvbiBNKG4sdCxlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcj1lLmFwcGx5KHQsYXJndW1lbnRzKTtyZXR1cm4gcj09PXQ/bjpyfX1mdW5jdGlvbiB4KG4sdCl7aWYodCBpbiBuKXJldHVybiB0O3Q9dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpO2Zvcih2YXIgZT0wLHI9X2EubGVuZ3RoO3I+ZTsrK2Upe3ZhciB1PV9hW2VdK3Q7aWYodSBpbiBuKXJldHVybiB1fX1mdW5jdGlvbiBiKCl7fWZ1bmN0aW9uIF8oKXt9ZnVuY3Rpb24gdyhuKXtmdW5jdGlvbiB0KCl7Zm9yKHZhciB0LHI9ZSx1PS0xLGk9ci5sZW5ndGg7Kyt1PGk7KSh0PXJbdV0ub24pJiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbn12YXIgZT1bXSxyPW5ldyBjO3JldHVybiB0Lm9uPWZ1bmN0aW9uKHQsdSl7dmFyIGksYT1yLmdldCh0KTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP2EmJmEub246KGEmJihhLm9uPW51bGwsZT1lLnNsaWNlKDAsaT1lLmluZGV4T2YoYSkpLmNvbmNhdChlLnNsaWNlKGkrMSkpLHIucmVtb3ZlKHQpKSx1JiZlLnB1c2goci5zZXQodCx7b246dX0pKSxuKX0sdH1mdW5jdGlvbiBTKCl7b2EuZXZlbnQucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBrKCl7Zm9yKHZhciBuLHQ9b2EuZXZlbnQ7bj10LnNvdXJjZUV2ZW50Oyl0PW47cmV0dXJuIHR9ZnVuY3Rpb24gTihuKXtmb3IodmFyIHQ9bmV3IF8sZT0wLHI9YXJndW1lbnRzLmxlbmd0aDsrK2U8cjspdFthcmd1bWVudHNbZV1dPXcodCk7cmV0dXJuIHQub2Y9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZnVuY3Rpb24odSl7dHJ5e3ZhciBpPXUuc291cmNlRXZlbnQ9b2EuZXZlbnQ7dS50YXJnZXQ9bixvYS5ldmVudD11LHRbdS50eXBlXS5hcHBseShlLHIpfWZpbmFsbHl7b2EuZXZlbnQ9aX19fSx0fWZ1bmN0aW9uIEUobil7cmV0dXJuIFNhKG4sQWEpLG59ZnVuY3Rpb24gQShuKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygbj9uOmZ1bmN0aW9uKCl7cmV0dXJuIGthKG4sdGhpcyl9fWZ1bmN0aW9uIEMobil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG4/bjpmdW5jdGlvbigpe3JldHVybiBOYShuLHRoaXMpfX1mdW5jdGlvbiB6KG4sdCl7ZnVuY3Rpb24gZSgpe3RoaXMucmVtb3ZlQXR0cmlidXRlKG4pfWZ1bmN0aW9uIHIoKXt0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKG4uc3BhY2Usbi5sb2NhbCl9ZnVuY3Rpb24gdSgpe3RoaXMuc2V0QXR0cmlidXRlKG4sdCl9ZnVuY3Rpb24gaSgpe3RoaXMuc2V0QXR0cmlidXRlTlMobi5zcGFjZSxuLmxvY2FsLHQpfWZ1bmN0aW9uIGEoKXt2YXIgZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsPT1lP3RoaXMucmVtb3ZlQXR0cmlidXRlKG4pOnRoaXMuc2V0QXR0cmlidXRlKG4sZSl9ZnVuY3Rpb24gbygpe3ZhciBlPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PWU/dGhpcy5yZW1vdmVBdHRyaWJ1dGVOUyhuLnNwYWNlLG4ubG9jYWwpOnRoaXMuc2V0QXR0cmlidXRlTlMobi5zcGFjZSxuLmxvY2FsLGUpfXJldHVybiBuPW9hLm5zLnF1YWxpZnkobiksbnVsbD09dD9uLmxvY2FsP3I6ZToiZnVuY3Rpb24iPT10eXBlb2YgdD9uLmxvY2FsP286YTpuLmxvY2FsP2k6dX1mdW5jdGlvbiBMKG4pe3JldHVybiBuLnRyaW0oKS5yZXBsYWNlKC9ccysvZywiICIpfWZ1bmN0aW9uIHEobil7cmV0dXJuIG5ldyBSZWdFeHAoIig/Ol58XFxzKykiK29hLnJlcXVvdGUobikrIig/Olxccyt8JCkiLCJnIil9ZnVuY3Rpb24gVChuKXtyZXR1cm4obisiIikudHJpbSgpLnNwbGl0KC9efFxzKy8pfWZ1bmN0aW9uIFIobix0KXtmdW5jdGlvbiBlKCl7Zm9yKHZhciBlPS0xOysrZTx1OyluW2VdKHRoaXMsdCl9ZnVuY3Rpb24gcigpe2Zvcih2YXIgZT0tMSxyPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpOysrZTx1OyluW2VdKHRoaXMscil9bj1UKG4pLm1hcChEKTt2YXIgdT1uLmxlbmd0aDtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdD9yOmV9ZnVuY3Rpb24gRChuKXt2YXIgdD1xKG4pO3JldHVybiBmdW5jdGlvbihlLHIpe2lmKHU9ZS5jbGFzc0xpc3QpcmV0dXJuIHI/dS5hZGQobik6dS5yZW1vdmUobik7dmFyIHU9ZS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiO3I/KHQubGFzdEluZGV4PTAsdC50ZXN0KHUpfHxlLnNldEF0dHJpYnV0ZSgiY2xhc3MiLEwodSsiICIrbikpKTplLnNldEF0dHJpYnV0ZSgiY2xhc3MiLEwodS5yZXBsYWNlKHQsIiAiKSkpfX1mdW5jdGlvbiBQKG4sdCxlKXtmdW5jdGlvbiByKCl7dGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuKX1mdW5jdGlvbiB1KCl7dGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuLHQsZSl9ZnVuY3Rpb24gaSgpe3ZhciByPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PXI/dGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuKTp0aGlzLnN0eWxlLnNldFByb3BlcnR5KG4scixlKX1yZXR1cm4gbnVsbD09dD9yOiJmdW5jdGlvbiI9PXR5cGVvZiB0P2k6dX1mdW5jdGlvbiBVKG4sdCl7ZnVuY3Rpb24gZSgpe2RlbGV0ZSB0aGlzW25dfWZ1bmN0aW9uIHIoKXt0aGlzW25dPXR9ZnVuY3Rpb24gdSgpe3ZhciBlPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PWU/ZGVsZXRlIHRoaXNbbl06dGhpc1tuXT1lfXJldHVybiBudWxsPT10P2U6ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dTpyfWZ1bmN0aW9uIGoobil7ZnVuY3Rpb24gdCgpe3ZhciB0PXRoaXMub3duZXJEb2N1bWVudCxlPXRoaXMubmFtZXNwYWNlVVJJO3JldHVybiBlPT09Q2EmJnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSST09PUNhP3QuY3JlYXRlRWxlbWVudChuKTp0LmNyZWF0ZUVsZW1lbnROUyhlLG4pfWZ1bmN0aW9uIGUoKXtyZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuLnNwYWNlLG4ubG9jYWwpfXJldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuP246KG49b2EubnMucXVhbGlmeShuKSkubG9jYWw/ZTp0fWZ1bmN0aW9uIEYoKXt2YXIgbj10aGlzLnBhcmVudE5vZGU7biYmbi5yZW1vdmVDaGlsZCh0aGlzKX1mdW5jdGlvbiBIKG4pe3JldHVybntfX2RhdGFfXzpufX1mdW5jdGlvbiBPKG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBFYSh0aGlzLG4pfX1mdW5jdGlvbiBJKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RofHwobj1lKSxmdW5jdGlvbih0LGUpe3JldHVybiB0JiZlP24odC5fX2RhdGFfXyxlLl9fZGF0YV9fKTohdC0hZX19ZnVuY3Rpb24gWShuLHQpe2Zvcih2YXIgZT0wLHI9bi5sZW5ndGg7cj5lO2UrKylmb3IodmFyIHUsaT1uW2VdLGE9MCxvPWkubGVuZ3RoO28+YTthKyspKHU9aVthXSkmJnQodSxhLGUpO3JldHVybiBufWZ1bmN0aW9uIFoobil7cmV0dXJuIFNhKG4sTGEpLG59ZnVuY3Rpb24gVihuKXt2YXIgdCxlO3JldHVybiBmdW5jdGlvbihyLHUsaSl7dmFyIGEsbz1uW2ldLnVwZGF0ZSxsPW8ubGVuZ3RoO2ZvcihpIT1lJiYoZT1pLHQ9MCksdT49dCYmKHQ9dSsxKTshKGE9b1t0XSkmJisrdDxsOyk7cmV0dXJuIGF9fWZ1bmN0aW9uIFgobix0LGUpe2Z1bmN0aW9uIHIoKXt2YXIgdD10aGlzW2FdO3QmJih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIobix0LHQuJCksZGVsZXRlIHRoaXNbYV0pfWZ1bmN0aW9uIHUoKXt2YXIgdT1sKHQsY2EoYXJndW1lbnRzKSk7ci5jYWxsKHRoaXMpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihuLHRoaXNbYV09dSx1LiQ9ZSksdS5fPXR9ZnVuY3Rpb24gaSgpe3ZhciB0LGU9bmV3IFJlZ0V4cCgiXl9fb24oW14uXSspIitvYS5yZXF1b3RlKG4pKyIkIik7Zm9yKHZhciByIGluIHRoaXMpaWYodD1yLm1hdGNoKGUpKXt2YXIgdT10aGlzW3JdO3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0WzFdLHUsdS4kKSxkZWxldGUgdGhpc1tyXX19dmFyIGE9Il9fb24iK24sbz1uLmluZGV4T2YoIi4iKSxsPSQ7bz4wJiYobj1uLnNsaWNlKDAsbykpO3ZhciBjPXFhLmdldChuKTtyZXR1cm4gYyYmKG49YyxsPUIpLG8/dD91OnI6dD9iOml9ZnVuY3Rpb24gJChuLHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj1vYS5ldmVudDtvYS5ldmVudD1lLHRbMF09dGhpcy5fX2RhdGFfXzt0cnl7bi5hcHBseSh0aGlzLHQpfWZpbmFsbHl7b2EuZXZlbnQ9cn19fWZ1bmN0aW9uIEIobix0KXt2YXIgZT0kKG4sdCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMscj1uLnJlbGF0ZWRUYXJnZXQ7ciYmKHI9PT10fHw4JnIuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCkpfHxlLmNhbGwodCxuKX19ZnVuY3Rpb24gVyhlKXt2YXIgcj0iLmRyYWdzdXBwcmVzcy0iKyArK1JhLHU9ImNsaWNrIityLGk9b2Euc2VsZWN0KHQoZSkpLm9uKCJ0b3VjaG1vdmUiK3IsUykub24oImRyYWdzdGFydCIrcixTKS5vbigic2VsZWN0c3RhcnQiK3IsUyk7aWYobnVsbD09VGEmJihUYT0ib25zZWxlY3RzdGFydCJpbiBlPyExOngoZS5zdHlsZSwidXNlclNlbGVjdCIpKSxUYSl7dmFyIGE9bihlKS5zdHlsZSxvPWFbVGFdO2FbVGFdPSJub25lIn1yZXR1cm4gZnVuY3Rpb24obil7aWYoaS5vbihyLG51bGwpLFRhJiYoYVtUYV09byksbil7dmFyIHQ9ZnVuY3Rpb24oKXtpLm9uKHUsbnVsbCl9O2kub24odSxmdW5jdGlvbigpe1MoKSx0KCl9LCEwKSxzZXRUaW1lb3V0KHQsMCl9fX1mdW5jdGlvbiBKKG4sZSl7ZS5jaGFuZ2VkVG91Y2hlcyYmKGU9ZS5jaGFuZ2VkVG91Y2hlc1swXSk7dmFyIHI9bi5vd25lclNWR0VsZW1lbnR8fG47aWYoci5jcmVhdGVTVkdQb2ludCl7dmFyIHU9ci5jcmVhdGVTVkdQb2ludCgpO2lmKDA+RGEpe3ZhciBpPXQobik7aWYoaS5zY3JvbGxYfHxpLnNjcm9sbFkpe3I9b2Euc2VsZWN0KCJib2R5IikuYXBwZW5kKCJzdmciKS5zdHlsZSh7cG9zaXRpb246ImFic29sdXRlIix0b3A6MCxsZWZ0OjAsbWFyZ2luOjAscGFkZGluZzowLGJvcmRlcjoibm9uZSJ9LCJpbXBvcnRhbnQiKTt2YXIgYT1yWzBdWzBdLmdldFNjcmVlbkNUTSgpO0RhPSEoYS5mfHxhLmUpLHIucmVtb3ZlKCl9fXJldHVybiBEYT8odS54PWUucGFnZVgsdS55PWUucGFnZVkpOih1Lng9ZS5jbGllbnRYLHUueT1lLmNsaWVudFkpLHU9dS5tYXRyaXhUcmFuc2Zvcm0obi5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCkpLFt1LngsdS55XX12YXIgbz1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybltlLmNsaWVudFgtby5sZWZ0LW4uY2xpZW50TGVmdCxlLmNsaWVudFktby50b3Atbi5jbGllbnRUb3BdfWZ1bmN0aW9uIEcoKXtyZXR1cm4gb2EuZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllcn1mdW5jdGlvbiBLKG4pe3JldHVybiBuPjA/MTowPm4/LTE6MH1mdW5jdGlvbiBRKG4sdCxlKXtyZXR1cm4odFswXS1uWzBdKSooZVsxXS1uWzFdKS0odFsxXS1uWzFdKSooZVswXS1uWzBdKX1mdW5jdGlvbiBubihuKXtyZXR1cm4gbj4xPzA6LTE+bj9qYTpNYXRoLmFjb3Mobil9ZnVuY3Rpb24gdG4obil7cmV0dXJuIG4+MT9PYTotMT5uPy1PYTpNYXRoLmFzaW4obil9ZnVuY3Rpb24gZW4obil7cmV0dXJuKChuPU1hdGguZXhwKG4pKS0xL24pLzJ9ZnVuY3Rpb24gcm4obil7cmV0dXJuKChuPU1hdGguZXhwKG4pKSsxL24pLzJ9ZnVuY3Rpb24gdW4obil7cmV0dXJuKChuPU1hdGguZXhwKDIqbikpLTEpLyhuKzEpfWZ1bmN0aW9uIGFuKG4pe3JldHVybihuPU1hdGguc2luKG4vMikpKm59ZnVuY3Rpb24gb24oKXt9ZnVuY3Rpb24gbG4obix0LGUpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgbG4/KHRoaXMuaD0rbix0aGlzLnM9K3Qsdm9pZCh0aGlzLmw9K2UpKTphcmd1bWVudHMubGVuZ3RoPDI/biBpbnN0YW5jZW9mIGxuP25ldyBsbihuLmgsbi5zLG4ubCk6X24oIiIrbix3bixsbik6bmV3IGxuKG4sdCxlKX1mdW5jdGlvbiBjbihuLHQsZSl7ZnVuY3Rpb24gcihuKXtyZXR1cm4gbj4zNjA/bi09MzYwOjA+biYmKG4rPTM2MCksNjA+bj9pKyhhLWkpKm4vNjA6MTgwPm4/YToyNDA+bj9pKyhhLWkpKigyNDAtbikvNjA6aX1mdW5jdGlvbiB1KG4pe3JldHVybiBNYXRoLnJvdW5kKDI1NSpyKG4pKX12YXIgaSxhO3JldHVybiBuPWlzTmFOKG4pPzA6KG4lPTM2MCk8MD9uKzM2MDpuLHQ9aXNOYU4odCk/MDowPnQ/MDp0PjE/MTp0LGU9MD5lPzA6ZT4xPzE6ZSxhPS41Pj1lP2UqKDErdCk6ZSt0LWUqdCxpPTIqZS1hLG5ldyB5bih1KG4rMTIwKSx1KG4pLHUobi0xMjApKX1mdW5jdGlvbiBzbihuLHQsZSl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBzbj8odGhpcy5oPStuLHRoaXMuYz0rdCx2b2lkKHRoaXMubD0rZSkpOmFyZ3VtZW50cy5sZW5ndGg8Mj9uIGluc3RhbmNlb2Ygc24/bmV3IHNuKG4uaCxuLmMsbi5sKTpuIGluc3RhbmNlb2YgaG4/cG4obi5sLG4uYSxuLmIpOnBuKChuPVNuKChuPW9hLnJnYihuKSkucixuLmcsbi5iKSkubCxuLmEsbi5iKTpuZXcgc24obix0LGUpfWZ1bmN0aW9uIGZuKG4sdCxlKXtyZXR1cm4gaXNOYU4obikmJihuPTApLGlzTmFOKHQpJiYodD0wKSxuZXcgaG4oZSxNYXRoLmNvcyhuKj1JYSkqdCxNYXRoLnNpbihuKSp0KX1mdW5jdGlvbiBobihuLHQsZSl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBobj8odGhpcy5sPStuLHRoaXMuYT0rdCx2b2lkKHRoaXMuYj0rZSkpOmFyZ3VtZW50cy5sZW5ndGg8Mj9uIGluc3RhbmNlb2YgaG4/bmV3IGhuKG4ubCxuLmEsbi5iKTpuIGluc3RhbmNlb2Ygc24/Zm4obi5oLG4uYyxuLmwpOlNuKChuPXluKG4pKS5yLG4uZyxuLmIpOm5ldyBobihuLHQsZSl9ZnVuY3Rpb24gZ24obix0LGUpe3ZhciByPShuKzE2KS8xMTYsdT1yK3QvNTAwLGk9ci1lLzIwMDtyZXR1cm4gdT12bih1KSpRYSxyPXZuKHIpKm5vLGk9dm4oaSkqdG8sbmV3IHluKG1uKDMuMjQwNDU0Mip1LTEuNTM3MTM4NSpyLS40OTg1MzE0KmkpLG1uKC0uOTY5MjY2KnUrMS44NzYwMTA4KnIrLjA0MTU1NippKSxtbiguMDU1NjQzNCp1LS4yMDQwMjU5KnIrMS4wNTcyMjUyKmkpKX1mdW5jdGlvbiBwbihuLHQsZSl7cmV0dXJuIG4+MD9uZXcgc24oTWF0aC5hdGFuMihlLHQpKllhLE1hdGguc3FydCh0KnQrZSplKSxuKTpuZXcgc24oTmFOLE5hTixuKX1mdW5jdGlvbiB2bihuKXtyZXR1cm4gbj4uMjA2ODkzMDM0P24qbipuOihuLTQvMjkpLzcuNzg3MDM3fWZ1bmN0aW9uIGRuKG4pe3JldHVybiBuPi4wMDg4NTY/TWF0aC5wb3cobiwxLzMpOjcuNzg3MDM3Km4rNC8yOX1mdW5jdGlvbiBtbihuKXtyZXR1cm4gTWF0aC5yb3VuZCgyNTUqKC4wMDMwND49bj8xMi45MipuOjEuMDU1Kk1hdGgucG93KG4sMS8yLjQpLS4wNTUpKX1mdW5jdGlvbiB5bihuLHQsZSl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiB5bj8odGhpcy5yPX5+bix0aGlzLmc9fn50LHZvaWQodGhpcy5iPX5+ZSkpOmFyZ3VtZW50cy5sZW5ndGg8Mj9uIGluc3RhbmNlb2YgeW4/bmV3IHluKG4ucixuLmcsbi5iKTpfbigiIituLHluLGNuKTpuZXcgeW4obix0LGUpfWZ1bmN0aW9uIE1uKG4pe3JldHVybiBuZXcgeW4obj4+MTYsbj4+OCYyNTUsMjU1Jm4pfWZ1bmN0aW9uIHhuKG4pe3JldHVybiBNbihuKSsiIn1mdW5jdGlvbiBibihuKXtyZXR1cm4gMTY+bj8iMCIrTWF0aC5tYXgoMCxuKS50b1N0cmluZygxNik6TWF0aC5taW4oMjU1LG4pLnRvU3RyaW5nKDE2KX1mdW5jdGlvbiBfbihuLHQsZSl7dmFyIHIsdSxpLGE9MCxvPTAsbD0wO2lmKHI9LyhbYS16XSspXCgoLiopXCkvLmV4ZWMobj1uLnRvTG93ZXJDYXNlKCkpKXN3aXRjaCh1PXJbMl0uc3BsaXQoIiwiKSxyWzFdKXtjYXNlImhzbCI6cmV0dXJuIGUocGFyc2VGbG9hdCh1WzBdKSxwYXJzZUZsb2F0KHVbMV0pLzEwMCxwYXJzZUZsb2F0KHVbMl0pLzEwMCk7Y2FzZSJyZ2IiOnJldHVybiB0KE5uKHVbMF0pLE5uKHVbMV0pLE5uKHVbMl0pKX1yZXR1cm4oaT11by5nZXQobikpP3QoaS5yLGkuZyxpLmIpOihudWxsPT1ufHwiIyIhPT1uLmNoYXJBdCgwKXx8aXNOYU4oaT1wYXJzZUludChuLnNsaWNlKDEpLDE2KSl8fCg0PT09bi5sZW5ndGg/KGE9KDM4NDAmaSk+PjQsYT1hPj40fGEsbz0yNDAmaSxvPW8+PjR8byxsPTE1JmksbD1sPDw0fGwpOjc9PT1uLmxlbmd0aCYmKGE9KDE2NzExNjgwJmkpPj4xNixvPSg2NTI4MCZpKT4+OCxsPTI1NSZpKSksdChhLG8sbCkpfWZ1bmN0aW9uIHduKG4sdCxlKXt2YXIgcix1LGk9TWF0aC5taW4obi89MjU1LHQvPTI1NSxlLz0yNTUpLGE9TWF0aC5tYXgobix0LGUpLG89YS1pLGw9KGEraSkvMjtyZXR1cm4gbz8odT0uNT5sP28vKGEraSk6by8oMi1hLWkpLHI9bj09YT8odC1lKS9vKyhlPnQ/NjowKTp0PT1hPyhlLW4pL28rMjoobi10KS9vKzQscio9NjApOihyPU5hTix1PWw+MCYmMT5sPzA6ciksbmV3IGxuKHIsdSxsKX1mdW5jdGlvbiBTbihuLHQsZSl7bj1rbihuKSx0PWtuKHQpLGU9a24oZSk7dmFyIHI9ZG4oKC40MTI0NTY0Km4rLjM1NzU3NjEqdCsuMTgwNDM3NSplKS9RYSksdT1kbigoLjIxMjY3MjkqbisuNzE1MTUyMip0Ky4wNzIxNzUqZSkvbm8pLGk9ZG4oKC4wMTkzMzM5Km4rLjExOTE5Mip0Ky45NTAzMDQxKmUpL3RvKTtyZXR1cm4gaG4oMTE2KnUtMTYsNTAwKihyLXUpLDIwMCoodS1pKSl9ZnVuY3Rpb24ga24obil7cmV0dXJuKG4vPTI1NSk8PS4wNDA0NT9uLzEyLjkyOk1hdGgucG93KChuKy4wNTUpLzEuMDU1LDIuNCl9ZnVuY3Rpb24gTm4obil7dmFyIHQ9cGFyc2VGbG9hdChuKTtyZXR1cm4iJSI9PT1uLmNoYXJBdChuLmxlbmd0aC0xKT9NYXRoLnJvdW5kKDIuNTUqdCk6dH1mdW5jdGlvbiBFbihuKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygbj9uOmZ1bmN0aW9uKCl7cmV0dXJuIG59fWZ1bmN0aW9uIEFuKG4pe3JldHVybiBmdW5jdGlvbih0LGUscil7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoJiYiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHI9ZSxlPW51bGwpLENuKHQsZSxuLHIpfX1mdW5jdGlvbiBDbihuLHQsZSxyKXtmdW5jdGlvbiB1KCl7dmFyIG4sdD1sLnN0YXR1cztpZighdCYmTG4obCl8fHQ+PTIwMCYmMzAwPnR8fDMwND09PXQpe3RyeXtuPWUuY2FsbChpLGwpfWNhdGNoKHIpe3JldHVybiB2b2lkIGEuZXJyb3IuY2FsbChpLHIpfWEubG9hZC5jYWxsKGksbil9ZWxzZSBhLmVycm9yLmNhbGwoaSxsKX12YXIgaT17fSxhPW9hLmRpc3BhdGNoKCJiZWZvcmVzZW5kIiwicHJvZ3Jlc3MiLCJsb2FkIiwiZXJyb3IiKSxvPXt9LGw9bmV3IFhNTEh0dHBSZXF1ZXN0LGM9bnVsbDtyZXR1cm4hdGhpcy5YRG9tYWluUmVxdWVzdHx8IndpdGhDcmVkZW50aWFscyJpbiBsfHwhL14oaHR0cChzKT86KT9cL1wvLy50ZXN0KG4pfHwobD1uZXcgWERvbWFpblJlcXVlc3QpLCJvbmxvYWQiaW4gbD9sLm9ubG9hZD1sLm9uZXJyb3I9dTpsLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2wucmVhZHlTdGF0ZT4zJiZ1KCl9LGwub25wcm9ncmVzcz1mdW5jdGlvbihuKXt2YXIgdD1vYS5ldmVudDtvYS5ldmVudD1uO3RyeXthLnByb2dyZXNzLmNhbGwoaSxsKX1maW5hbGx5e29hLmV2ZW50PXR9fSxpLmhlYWRlcj1mdW5jdGlvbihuLHQpe3JldHVybiBuPShuKyIiKS50b0xvd2VyQ2FzZSgpLGFyZ3VtZW50cy5sZW5ndGg8Mj9vW25dOihudWxsPT10P2RlbGV0ZSBvW25dOm9bbl09dCsiIixpKX0saS5taW1lVHlwZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1udWxsPT1uP251bGw6bisiIixpKTp0fSxpLnJlc3BvbnNlVHlwZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1uLGkpOmN9LGkucmVzcG9uc2U9ZnVuY3Rpb24obil7cmV0dXJuIGU9bixpfSxbImdldCIsInBvc3QiXS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lbbl09ZnVuY3Rpb24oKXtyZXR1cm4gaS5zZW5kLmFwcGx5KGksW25dLmNvbmNhdChjYShhcmd1bWVudHMpKSl9fSksaS5zZW5kPWZ1bmN0aW9uKGUscix1KXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCYmImZ1bmN0aW9uIj09dHlwZW9mIHImJih1PXIscj1udWxsKSxsLm9wZW4oZSxuLCEwKSxudWxsPT10fHwiYWNjZXB0ImluIG98fChvLmFjY2VwdD10KyIsKi8qIiksbC5zZXRSZXF1ZXN0SGVhZGVyKWZvcih2YXIgcyBpbiBvKWwuc2V0UmVxdWVzdEhlYWRlcihzLG9bc10pO3JldHVybiBudWxsIT10JiZsLm92ZXJyaWRlTWltZVR5cGUmJmwub3ZlcnJpZGVNaW1lVHlwZSh0KSxudWxsIT1jJiYobC5yZXNwb25zZVR5cGU9YyksbnVsbCE9dSYmaS5vbigiZXJyb3IiLHUpLm9uKCJsb2FkIixmdW5jdGlvbihuKXt1KG51bGwsbil9KSxhLmJlZm9yZXNlbmQuY2FsbChpLGwpLGwuc2VuZChudWxsPT1yP251bGw6ciksaX0saS5hYm9ydD1mdW5jdGlvbigpe3JldHVybiBsLmFib3J0KCksaX0sb2EucmViaW5kKGksYSwib24iKSxudWxsPT1yP2k6aS5nZXQoem4ocikpfWZ1bmN0aW9uIHpuKG4pe3JldHVybiAxPT09bi5sZW5ndGg/ZnVuY3Rpb24odCxlKXtuKG51bGw9PXQ/ZTpudWxsKX06bn1mdW5jdGlvbiBMbihuKXt2YXIgdD1uLnJlc3BvbnNlVHlwZTtyZXR1cm4gdCYmInRleHQiIT09dD9uLnJlc3BvbnNlOm4ucmVzcG9uc2VUZXh0fWZ1bmN0aW9uIHFuKG4sdCxlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoOzI+ciYmKHQ9MCksMz5yJiYoZT1EYXRlLm5vdygpKTt2YXIgdT1lK3QsaT17YzpuLHQ6dSxuOm51bGx9O3JldHVybiBhbz9hby5uPWk6aW89aSxhbz1pLG9vfHwobG89Y2xlYXJUaW1lb3V0KGxvKSxvbz0xLGNvKFRuKSksaX1mdW5jdGlvbiBUbigpe3ZhciBuPVJuKCksdD1EbigpLW47dD4yND8oaXNGaW5pdGUodCkmJihjbGVhclRpbWVvdXQobG8pLGxvPXNldFRpbWVvdXQoVG4sdCkpLG9vPTApOihvbz0xLGNvKFRuKSl9ZnVuY3Rpb24gUm4oKXtmb3IodmFyIG49RGF0ZS5ub3coKSx0PWlvO3Q7KW4+PXQudCYmdC5jKG4tdC50KSYmKHQuYz1udWxsKSx0PXQubjtyZXR1cm4gbn1mdW5jdGlvbiBEbigpe2Zvcih2YXIgbix0PWlvLGU9MS8wO3Q7KXQuYz8odC50PGUmJihlPXQudCksdD0obj10KS5uKTp0PW4/bi5uPXQubjppbz10Lm47cmV0dXJuIGFvPW4sZX1mdW5jdGlvbiBQbihuLHQpe3JldHVybiB0LShuP01hdGguY2VpbChNYXRoLmxvZyhuKS9NYXRoLkxOMTApOjEpfWZ1bmN0aW9uIFVuKG4sdCl7dmFyIGU9TWF0aC5wb3coMTAsMypNYSg4LXQpKTtyZXR1cm57c2NhbGU6dD44P2Z1bmN0aW9uKG4pe3JldHVybiBuL2V9OmZ1bmN0aW9uKG4pe3JldHVybiBuKmV9LHN5bWJvbDpufX1mdW5jdGlvbiBqbihuKXt2YXIgdD1uLmRlY2ltYWwsZT1uLnRob3VzYW5kcyxyPW4uZ3JvdXBpbmcsdT1uLmN1cnJlbmN5LGk9ciYmZT9mdW5jdGlvbihuLHQpe2Zvcih2YXIgdT1uLmxlbmd0aCxpPVtdLGE9MCxvPXJbMF0sbD0wO3U+MCYmbz4wJiYobCtvKzE+dCYmKG89TWF0aC5tYXgoMSx0LWwpKSxpLnB1c2gobi5zdWJzdHJpbmcodS09byx1K28pKSwhKChsKz1vKzEpPnQpKTspbz1yW2E9KGErMSklci5sZW5ndGhdO3JldHVybiBpLnJldmVyc2UoKS5qb2luKGUpfTp5O3JldHVybiBmdW5jdGlvbihuKXt2YXIgZT1mby5leGVjKG4pLHI9ZVsxXXx8IiAiLGE9ZVsyXXx8Ij4iLG89ZVszXXx8Ii0iLGw9ZVs0XXx8IiIsYz1lWzVdLHM9K2VbNl0sZj1lWzddLGg9ZVs4XSxnPWVbOV0scD0xLHY9IiIsZD0iIixtPSExLHk9ITA7c3dpdGNoKGgmJihoPStoLnN1YnN0cmluZygxKSksKGN8fCIwIj09PXImJiI9Ij09PWEpJiYoYz1yPSIwIixhPSI9IiksZyl7Y2FzZSJuIjpmPSEwLGc9ImciO2JyZWFrO2Nhc2UiJSI6cD0xMDAsZD0iJSIsZz0iZiI7YnJlYWs7Y2FzZSJwIjpwPTEwMCxkPSIlIixnPSJyIjticmVhaztjYXNlImIiOmNhc2UibyI6Y2FzZSJ4IjpjYXNlIlgiOiIjIj09PWwmJih2PSIwIitnLnRvTG93ZXJDYXNlKCkpO2Nhc2UiYyI6eT0hMTtjYXNlImQiOm09ITAsaD0wO2JyZWFrO2Nhc2UicyI6cD0tMSxnPSJyIn0iJCI9PT1sJiYodj11WzBdLGQ9dVsxXSksInIiIT1nfHxofHwoZz0iZyIpLG51bGwhPWgmJigiZyI9PWc/aD1NYXRoLm1heCgxLE1hdGgubWluKDIxLGgpKTooImUiPT1nfHwiZiI9PWcpJiYoaD1NYXRoLm1heCgwLE1hdGgubWluKDIwLGgpKSkpLGc9aG8uZ2V0KGcpfHxGbjt2YXIgTT1jJiZmO3JldHVybiBmdW5jdGlvbihuKXt2YXIgZT1kO2lmKG0mJm4lMSlyZXR1cm4iIjt2YXIgdT0wPm58fDA9PT1uJiYwPjEvbj8obj0tbiwiLSIpOiItIj09PW8/IiI6bztpZigwPnApe3ZhciBsPW9hLmZvcm1hdFByZWZpeChuLGgpO249bC5zY2FsZShuKSxlPWwuc3ltYm9sK2R9ZWxzZSBuKj1wO249ZyhuLGgpO3ZhciB4LGIsXz1uLmxhc3RJbmRleE9mKCIuIik7aWYoMD5fKXt2YXIgdz15P24ubGFzdEluZGV4T2YoImUiKTotMTswPnc/KHg9bixiPSIiKTooeD1uLnN1YnN0cmluZygwLHcpLGI9bi5zdWJzdHJpbmcodykpfWVsc2UgeD1uLnN1YnN0cmluZygwLF8pLGI9dCtuLnN1YnN0cmluZyhfKzEpOyFjJiZmJiYoeD1pKHgsMS8wKSk7dmFyIFM9di5sZW5ndGgreC5sZW5ndGgrYi5sZW5ndGgrKE0/MDp1Lmxlbmd0aCksaz1zPlM/bmV3IEFycmF5KFM9cy1TKzEpLmpvaW4ocik6IiI7cmV0dXJuIE0mJih4PWkoayt4LGsubGVuZ3RoP3MtYi5sZW5ndGg6MS8wKSksdSs9dixuPXgrYiwoIjwiPT09YT91K24razoiPiI9PT1hP2srdStuOiJeIj09PWE/ay5zdWJzdHJpbmcoMCxTPj49MSkrdStuK2suc3Vic3RyaW5nKFMpOnUrKE0/bjprK24pKStlfX19ZnVuY3Rpb24gRm4obil7cmV0dXJuIG4rIiJ9ZnVuY3Rpb24gSG4oKXt0aGlzLl89bmV3IERhdGUoYXJndW1lbnRzLmxlbmd0aD4xP0RhdGUuVVRDLmFwcGx5KHRoaXMsYXJndW1lbnRzKTphcmd1bWVudHNbMF0pfWZ1bmN0aW9uIE9uKG4sdCxlKXtmdW5jdGlvbiByKHQpe3ZhciBlPW4odCkscj1pKGUsMSk7cmV0dXJuIHItdD50LWU/ZTpyfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIHQoZT1uKG5ldyBwbyhlLTEpKSwxKSxlfWZ1bmN0aW9uIGkobixlKXtyZXR1cm4gdChuPW5ldyBwbygrbiksZSksbn1mdW5jdGlvbiBhKG4scixpKXt2YXIgYT11KG4pLG89W107aWYoaT4xKWZvcig7cj5hOyllKGEpJWl8fG8ucHVzaChuZXcgRGF0ZSgrYSkpLHQoYSwxKTtlbHNlIGZvcig7cj5hOylvLnB1c2gobmV3IERhdGUoK2EpKSx0KGEsMSk7cmV0dXJuIG99ZnVuY3Rpb24gbyhuLHQsZSl7dHJ5e3BvPUhuO3ZhciByPW5ldyBIbjtyZXR1cm4gci5fPW4sYShyLHQsZSl9ZmluYWxseXtwbz1EYXRlfX1uLmZsb29yPW4sbi5yb3VuZD1yLG4uY2VpbD11LG4ub2Zmc2V0PWksbi5yYW5nZT1hO3ZhciBsPW4udXRjPUluKG4pO3JldHVybiBsLmZsb29yPWwsbC5yb3VuZD1JbihyKSxsLmNlaWw9SW4odSksbC5vZmZzZXQ9SW4oaSksbC5yYW5nZT1vLG59ZnVuY3Rpb24gSW4obil7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dHJ5e3BvPUhuO3ZhciByPW5ldyBIbjtyZXR1cm4gci5fPXQsbihyLGUpLl99ZmluYWxseXtwbz1EYXRlfX19ZnVuY3Rpb24gWW4obil7ZnVuY3Rpb24gdChuKXtmdW5jdGlvbiB0KHQpe2Zvcih2YXIgZSx1LGksYT1bXSxvPS0xLGw9MDsrK288cjspMzc9PT1uLmNoYXJDb2RlQXQobykmJihhLnB1c2gobi5zbGljZShsLG8pKSxudWxsIT0odT1tb1tlPW4uY2hhckF0KCsrbyldKSYmKGU9bi5jaGFyQXQoKytvKSksKGk9QVtlXSkmJihlPWkodCxudWxsPT11PyJlIj09PWU/IiAiOiIwIjp1KSksYS5wdXNoKGUpLGw9bysxKTtyZXR1cm4gYS5wdXNoKG4uc2xpY2UobCxvKSksYS5qb2luKCIiKX12YXIgcj1uLmxlbmd0aDtyZXR1cm4gdC5wYXJzZT1mdW5jdGlvbih0KXt2YXIgcj17eToxOTAwLG06MCxkOjEsSDowLE06MCxTOjAsTDowLFo6bnVsbH0sdT1lKHIsbix0LDApO2lmKHUhPXQubGVuZ3RoKXJldHVybiBudWxsOyJwImluIHImJihyLkg9ci5IJTEyKzEyKnIucCk7dmFyIGk9bnVsbCE9ci5aJiZwbyE9PUhuLGE9bmV3KGk/SG46cG8pO3JldHVybiJqImluIHI/YS5zZXRGdWxsWWVhcihyLnksMCxyLmopOiJXImluIHJ8fCJVImluIHI/KCJ3ImluIHJ8fChyLnc9IlciaW4gcj8xOjApLGEuc2V0RnVsbFllYXIoci55LDAsMSksYS5zZXRGdWxsWWVhcihyLnksMCwiVyJpbiByPyhyLncrNiklNys3KnIuVy0oYS5nZXREYXkoKSs1KSU3OnIudys3KnIuVS0oYS5nZXREYXkoKSs2KSU3KSk6YS5zZXRGdWxsWWVhcihyLnksci5tLHIuZCksYS5zZXRIb3VycyhyLkgrKHIuWi8xMDB8MCksci5NK3IuWiUxMDAsci5TLHIuTCksaT9hLl86YX0sdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBufSx0fWZ1bmN0aW9uIGUobix0LGUscil7Zm9yKHZhciB1LGksYSxvPTAsbD10Lmxlbmd0aCxjPWUubGVuZ3RoO2w+bzspe2lmKHI+PWMpcmV0dXJuLTE7aWYodT10LmNoYXJDb2RlQXQobysrKSwzNz09PXUpe2lmKGE9dC5jaGFyQXQobysrKSxpPUNbYSBpbiBtbz90LmNoYXJBdChvKyspOmFdLCFpfHwocj1pKG4sZSxyKSk8MClyZXR1cm4tMX1lbHNlIGlmKHUhPWUuY2hhckNvZGVBdChyKyspKXJldHVybi0xfXJldHVybiByfWZ1bmN0aW9uIHIobix0LGUpe18ubGFzdEluZGV4PTA7dmFyIHI9Xy5leGVjKHQuc2xpY2UoZSkpO3JldHVybiByPyhuLnc9dy5nZXQoclswXS50b0xvd2VyQ2FzZSgpKSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiB1KG4sdCxlKXt4Lmxhc3RJbmRleD0wO3ZhciByPXguZXhlYyh0LnNsaWNlKGUpKTtyZXR1cm4gcj8obi53PWIuZ2V0KHJbMF0udG9Mb3dlckNhc2UoKSksZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gaShuLHQsZSl7Ti5sYXN0SW5kZXg9MDt2YXIgcj1OLmV4ZWModC5zbGljZShlKSk7cmV0dXJuIHI/KG4ubT1FLmdldChyWzBdLnRvTG93ZXJDYXNlKCkpLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGEobix0LGUpe1MubGFzdEluZGV4PTA7dmFyIHI9Uy5leGVjKHQuc2xpY2UoZSkpO3JldHVybiByPyhuLm09ay5nZXQoclswXS50b0xvd2VyQ2FzZSgpKSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBvKG4sdCxyKXtyZXR1cm4gZShuLEEuYy50b1N0cmluZygpLHQscil9ZnVuY3Rpb24gbChuLHQscil7cmV0dXJuIGUobixBLngudG9TdHJpbmcoKSx0LHIpfWZ1bmN0aW9uIGMobix0LHIpe3JldHVybiBlKG4sQS5YLnRvU3RyaW5nKCksdCxyKX1mdW5jdGlvbiBzKG4sdCxlKXt2YXIgcj1NLmdldCh0LnNsaWNlKGUsZSs9MikudG9Mb3dlckNhc2UoKSk7cmV0dXJuIG51bGw9PXI/LTE6KG4ucD1yLGUpfXZhciBmPW4uZGF0ZVRpbWUsaD1uLmRhdGUsZz1uLnRpbWUscD1uLnBlcmlvZHMsdj1uLmRheXMsZD1uLnNob3J0RGF5cyxtPW4ubW9udGhzLHk9bi5zaG9ydE1vbnRoczt0LnV0Yz1mdW5jdGlvbihuKXtmdW5jdGlvbiBlKG4pe3RyeXtwbz1Ibjt2YXIgdD1uZXcgcG87cmV0dXJuIHQuXz1uLHIodCl9ZmluYWxseXtwbz1EYXRlfX12YXIgcj10KG4pO3JldHVybiBlLnBhcnNlPWZ1bmN0aW9uKG4pe3RyeXtwbz1Ibjt2YXIgdD1yLnBhcnNlKG4pO3JldHVybiB0JiZ0Ll99ZmluYWxseXtwbz1EYXRlfX0sZS50b1N0cmluZz1yLnRvU3RyaW5nLGV9LHQubXVsdGk9dC51dGMubXVsdGk9Y3Q7dmFyIE09b2EubWFwKCkseD1Wbih2KSxiPVhuKHYpLF89Vm4oZCksdz1YbihkKSxTPVZuKG0pLGs9WG4obSksTj1Wbih5KSxFPVhuKHkpO3AuZm9yRWFjaChmdW5jdGlvbihuLHQpe00uc2V0KG4udG9Mb3dlckNhc2UoKSx0KX0pO3ZhciBBPXthOmZ1bmN0aW9uKG4pe3JldHVybiBkW24uZ2V0RGF5KCldfSxBOmZ1bmN0aW9uKG4pe3JldHVybiB2W24uZ2V0RGF5KCldfSxiOmZ1bmN0aW9uKG4pe3JldHVybiB5W24uZ2V0TW9udGgoKV19LEI6ZnVuY3Rpb24obil7cmV0dXJuIG1bbi5nZXRNb250aCgpXX0sYzp0KGYpLGQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gWm4obi5nZXREYXRlKCksdCwyKX0sZTpmdW5jdGlvbihuLHQpe3JldHVybiBabihuLmdldERhdGUoKSx0LDIpfSxIOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIFpuKG4uZ2V0SG91cnMoKSx0LDIpfSxJOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIFpuKG4uZ2V0SG91cnMoKSUxMnx8MTIsdCwyKX0sajpmdW5jdGlvbihuLHQpe3JldHVybiBabigxK2dvLmRheU9mWWVhcihuKSx0LDMpfSxMOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIFpuKG4uZ2V0TWlsbGlzZWNvbmRzKCksdCwzKX0sbTpmdW5jdGlvbihuLHQpe3JldHVybiBabihuLmdldE1vbnRoKCkrMSx0LDIpfSxNOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIFpuKG4uZ2V0TWludXRlcygpLHQsMil9LHA6ZnVuY3Rpb24obil7cmV0dXJuIHBbKyhuLmdldEhvdXJzKCk+PTEyKV19LFM6ZnVuY3Rpb24obix0KXtyZXR1cm4gWm4obi5nZXRTZWNvbmRzKCksdCwyKX0sVTpmdW5jdGlvbihuLHQpe3JldHVybiBabihnby5zdW5kYXlPZlllYXIobiksdCwyKX0sdzpmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXREYXkoKX0sVzpmdW5jdGlvbihuLHQpe3JldHVybiBabihnby5tb25kYXlPZlllYXIobiksdCwyKX0seDp0KGgpLFg6dChnKSx5OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIFpuKG4uZ2V0RnVsbFllYXIoKSUxMDAsdCwyKX0sWTpmdW5jdGlvbihuLHQpe3JldHVybiBabihuLmdldEZ1bGxZZWFyKCklMWU0LHQsNCl9LFo6b3QsIiUiOmZ1bmN0aW9uKCl7cmV0dXJuIiUifX0sQz17YTpyLEE6dSxiOmksQjphLGM6byxkOnR0LGU6dHQsSDpydCxJOnJ0LGo6ZXQsTDphdCxtOm50LE06dXQscDpzLFM6aXQsVTpCbix3OiRuLFc6V24seDpsLFg6Yyx5OkduLFk6Sm4sWjpLbiwiJSI6bHR9O3JldHVybiB0fWZ1bmN0aW9uIFpuKG4sdCxlKXt2YXIgcj0wPm4/Ii0iOiIiLHU9KHI/LW46bikrIiIsaT11Lmxlbmd0aDtyZXR1cm4gcisoZT5pP25ldyBBcnJheShlLWkrMSkuam9pbih0KSt1OnUpfWZ1bmN0aW9uIFZuKG4pe3JldHVybiBuZXcgUmVnRXhwKCJeKD86IituLm1hcChvYS5yZXF1b3RlKS5qb2luKCJ8IikrIikiLCJpIil9ZnVuY3Rpb24gWG4obil7Zm9yKHZhciB0PW5ldyBjLGU9LTEscj1uLmxlbmd0aDsrK2U8cjspdC5zZXQobltlXS50b0xvd2VyQ2FzZSgpLGUpO3JldHVybiB0fWZ1bmN0aW9uICRuKG4sdCxlKXt5by5sYXN0SW5kZXg9MDt2YXIgcj15by5leGVjKHQuc2xpY2UoZSxlKzEpKTtyZXR1cm4gcj8obi53PStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIEJuKG4sdCxlKXt5by5sYXN0SW5kZXg9MDt2YXIgcj15by5leGVjKHQuc2xpY2UoZSkpO3JldHVybiByPyhuLlU9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gV24obix0LGUpe3lvLmxhc3RJbmRleD0wO3ZhciByPXlvLmV4ZWModC5zbGljZShlKSk7cmV0dXJuIHI/KG4uVz0rclswXSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBKbihuLHQsZSl7eW8ubGFzdEluZGV4PTA7dmFyIHI9eW8uZXhlYyh0LnNsaWNlKGUsZSs0KSk7cmV0dXJuIHI/KG4ueT0rclswXSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBHbihuLHQsZSl7eW8ubGFzdEluZGV4PTA7dmFyIHI9eW8uZXhlYyh0LnNsaWNlKGUsZSsyKSk7cmV0dXJuIHI/KG4ueT1RbigrclswXSksZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gS24obix0LGUpe3JldHVybi9eWystXVxkezR9JC8udGVzdCh0PXQuc2xpY2UoZSxlKzUpKT8obi5aPS10LGUrNSk6LTF9ZnVuY3Rpb24gUW4obil7cmV0dXJuIG4rKG4+Njg/MTkwMDoyZTMpfWZ1bmN0aW9uIG50KG4sdCxlKXt5by5sYXN0SW5kZXg9MDt2YXIgcj15by5leGVjKHQuc2xpY2UoZSxlKzIpKTtyZXR1cm4gcj8obi5tPXJbMF0tMSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiB0dChuLHQsZSl7eW8ubGFzdEluZGV4PTA7dmFyIHI9eW8uZXhlYyh0LnNsaWNlKGUsZSsyKSk7cmV0dXJuIHI/KG4uZD0rclswXSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBldChuLHQsZSl7eW8ubGFzdEluZGV4PTA7dmFyIHI9eW8uZXhlYyh0LnNsaWNlKGUsZSszKSk7cmV0dXJuIHI/KG4uaj0rclswXSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBydChuLHQsZSl7eW8ubGFzdEluZGV4PTA7dmFyIHI9eW8uZXhlYyh0LnNsaWNlKGUsZSsyKSk7cmV0dXJuIHI/KG4uSD0rclswXSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiB1dChuLHQsZSl7eW8ubGFzdEluZGV4PTA7dmFyIHI9eW8uZXhlYyh0LnNsaWNlKGUsZSsyKSk7cmV0dXJuIHI/KG4uTT0rclswXSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBpdChuLHQsZSl7eW8ubGFzdEluZGV4PTA7dmFyIHI9eW8uZXhlYyh0LnNsaWNlKGUsZSsyKSk7cmV0dXJuIHI/KG4uUz0rclswXSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBhdChuLHQsZSl7eW8ubGFzdEluZGV4PTA7dmFyIHI9eW8uZXhlYyh0LnNsaWNlKGUsZSszKSk7cmV0dXJuIHI/KG4uTD0rclswXSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBvdChuKXt2YXIgdD1uLmdldFRpbWV6b25lT2Zmc2V0KCksZT10PjA/Ii0iOiIrIixyPU1hKHQpLzYwfDAsdT1NYSh0KSU2MDtyZXR1cm4gZStabihyLCIwIiwyKStabih1LCIwIiwyKX1mdW5jdGlvbiBsdChuLHQsZSl7TW8ubGFzdEluZGV4PTA7dmFyIHI9TW8uZXhlYyh0LnNsaWNlKGUsZSsxKSk7cmV0dXJuIHI/ZStyWzBdLmxlbmd0aDotMX1mdW5jdGlvbiBjdChuKXtmb3IodmFyIHQ9bi5sZW5ndGgsZT0tMTsrK2U8dDspbltlXVswXT10aGlzKG5bZV1bMF0pO3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPW5bZV07IXJbMV0odCk7KXI9blsrK2VdO3JldHVybiByWzBdKHQpfX1mdW5jdGlvbiBzdCgpe31mdW5jdGlvbiBmdChuLHQsZSl7dmFyIHI9ZS5zPW4rdCx1PXItbixpPXItdTtlLnQ9bi1pKyh0LXUpfWZ1bmN0aW9uIGh0KG4sdCl7biYmd28uaGFzT3duUHJvcGVydHkobi50eXBlKSYmd29bbi50eXBlXShuLHQpfWZ1bmN0aW9uIGd0KG4sdCxlKXt2YXIgcix1PS0xLGk9bi5sZW5ndGgtZTtmb3IodC5saW5lU3RhcnQoKTsrK3U8aTspcj1uW3VdLHQucG9pbnQoclswXSxyWzFdLHJbMl0pO3QubGluZUVuZCgpfWZ1bmN0aW9uIHB0KG4sdCl7dmFyIGU9LTEscj1uLmxlbmd0aDtmb3IodC5wb2x5Z29uU3RhcnQoKTsrK2U8cjspZ3QobltlXSx0LDEpO3QucG9seWdvbkVuZCgpfWZ1bmN0aW9uIHZ0KCl7ZnVuY3Rpb24gbihuLHQpe24qPUlhLHQ9dCpJYS8yK2phLzQ7dmFyIGU9bi1yLGE9ZT49MD8xOi0xLG89YSplLGw9TWF0aC5jb3ModCksYz1NYXRoLnNpbih0KSxzPWkqYyxmPXUqbCtzKk1hdGguY29zKG8pLGg9cyphKk1hdGguc2luKG8pO2tvLmFkZChNYXRoLmF0YW4yKGgsZikpLHI9bix1PWwsaT1jfXZhciB0LGUscix1LGk7Tm8ucG9pbnQ9ZnVuY3Rpb24oYSxvKXtOby5wb2ludD1uLHI9KHQ9YSkqSWEsdT1NYXRoLmNvcyhvPShlPW8pKklhLzIramEvNCksaT1NYXRoLnNpbihvKX0sTm8ubGluZUVuZD1mdW5jdGlvbigpe24odCxlKX19ZnVuY3Rpb24gZHQobil7dmFyIHQ9blswXSxlPW5bMV0scj1NYXRoLmNvcyhlKTtyZXR1cm5bcipNYXRoLmNvcyh0KSxyKk1hdGguc2luKHQpLE1hdGguc2luKGUpXX1mdW5jdGlvbiBtdChuLHQpe3JldHVybiBuWzBdKnRbMF0rblsxXSp0WzFdK25bMl0qdFsyXX1mdW5jdGlvbiB5dChuLHQpe3JldHVybltuWzFdKnRbMl0tblsyXSp0WzFdLG5bMl0qdFswXS1uWzBdKnRbMl0sblswXSp0WzFdLW5bMV0qdFswXV19ZnVuY3Rpb24gTXQobix0KXtuWzBdKz10WzBdLG5bMV0rPXRbMV0sblsyXSs9dFsyXX1mdW5jdGlvbiB4dChuLHQpe3JldHVybltuWzBdKnQsblsxXSp0LG5bMl0qdF19ZnVuY3Rpb24gYnQobil7dmFyIHQ9TWF0aC5zcXJ0KG5bMF0qblswXStuWzFdKm5bMV0rblsyXSpuWzJdKTtuWzBdLz10LG5bMV0vPXQsblsyXS89dH1mdW5jdGlvbiBfdChuKXtyZXR1cm5bTWF0aC5hdGFuMihuWzFdLG5bMF0pLHRuKG5bMl0pXX1mdW5jdGlvbiB3dChuLHQpe3JldHVybiBNYShuWzBdLXRbMF0pPFBhJiZNYShuWzFdLXRbMV0pPFBhfWZ1bmN0aW9uIFN0KG4sdCl7bio9SWE7dmFyIGU9TWF0aC5jb3ModCo9SWEpO2t0KGUqTWF0aC5jb3MobiksZSpNYXRoLnNpbihuKSxNYXRoLnNpbih0KSl9ZnVuY3Rpb24ga3Qobix0LGUpeysrRW8sQ28rPShuLUNvKS9Fbyx6bys9KHQtem8pL0VvLExvKz0oZS1MbykvRW99ZnVuY3Rpb24gTnQoKXtmdW5jdGlvbiBuKG4sdSl7bio9SWE7dmFyIGk9TWF0aC5jb3ModSo9SWEpLGE9aSpNYXRoLmNvcyhuKSxvPWkqTWF0aC5zaW4obiksbD1NYXRoLnNpbih1KSxjPU1hdGguYXRhbjIoTWF0aC5zcXJ0KChjPWUqbC1yKm8pKmMrKGM9ciphLXQqbCkqYysoYz10Km8tZSphKSpjKSx0KmErZSpvK3IqbCk7QW8rPWMscW8rPWMqKHQrKHQ9YSkpLFRvKz1jKihlKyhlPW8pKSxSbys9Yyoocisocj1sKSksa3QodCxlLHIpfXZhciB0LGUscjtqby5wb2ludD1mdW5jdGlvbih1LGkpe3UqPUlhO3ZhciBhPU1hdGguY29zKGkqPUlhKTt0PWEqTWF0aC5jb3ModSksZT1hKk1hdGguc2luKHUpLHI9TWF0aC5zaW4oaSksam8ucG9pbnQ9bixrdCh0LGUscil9fWZ1bmN0aW9uIEV0KCl7am8ucG9pbnQ9U3R9ZnVuY3Rpb24gQXQoKXtmdW5jdGlvbiBuKG4sdCl7bio9SWE7dmFyIGU9TWF0aC5jb3ModCo9SWEpLGE9ZSpNYXRoLmNvcyhuKSxvPWUqTWF0aC5zaW4obiksbD1NYXRoLnNpbih0KSxjPXUqbC1pKm8scz1pKmEtcipsLGY9cipvLXUqYSxoPU1hdGguc3FydChjKmMrcypzK2YqZiksZz1yKmErdSpvK2kqbCxwPWgmJi1ubihnKS9oLHY9TWF0aC5hdGFuMihoLGcpO0RvKz1wKmMsUG8rPXAqcyxVbys9cCpmLEFvKz12LHFvKz12KihyKyhyPWEpKSxUbys9dioodSsodT1vKSksUm8rPXYqKGkrKGk9bCkpLGt0KHIsdSxpKX12YXIgdCxlLHIsdSxpO2pvLnBvaW50PWZ1bmN0aW9uKGEsbyl7dD1hLGU9byxqby5wb2ludD1uLGEqPUlhO3ZhciBsPU1hdGguY29zKG8qPUlhKTtyPWwqTWF0aC5jb3MoYSksdT1sKk1hdGguc2luKGEpLGk9TWF0aC5zaW4obyksa3Qocix1LGkpfSxqby5saW5lRW5kPWZ1bmN0aW9uKCl7bih0LGUpLGpvLmxpbmVFbmQ9RXQsam8ucG9pbnQ9U3R9fWZ1bmN0aW9uIEN0KG4sdCl7ZnVuY3Rpb24gZShlLHIpe3JldHVybiBlPW4oZSxyKSx0KGVbMF0sZVsxXSl9cmV0dXJuIG4uaW52ZXJ0JiZ0LmludmVydCYmKGUuaW52ZXJ0PWZ1bmN0aW9uKGUscil7cmV0dXJuIGU9dC5pbnZlcnQoZSxyKSxlJiZuLmludmVydChlWzBdLGVbMV0pfSksZX1mdW5jdGlvbiB6dCgpe3JldHVybiEwfWZ1bmN0aW9uIEx0KG4sdCxlLHIsdSl7dmFyIGk9W10sYT1bXTtpZihuLmZvckVhY2goZnVuY3Rpb24obil7aWYoISgodD1uLmxlbmd0aC0xKTw9MCkpe3ZhciB0LGU9blswXSxyPW5bdF07aWYod3QoZSxyKSl7dS5saW5lU3RhcnQoKTtmb3IodmFyIG89MDt0Pm87KytvKXUucG9pbnQoKGU9bltvXSlbMF0sZVsxXSk7cmV0dXJuIHZvaWQgdS5saW5lRW5kKCl9dmFyIGw9bmV3IFR0KGUsbixudWxsLCEwKSxjPW5ldyBUdChlLG51bGwsbCwhMSk7bC5vPWMsaS5wdXNoKGwpLGEucHVzaChjKSxsPW5ldyBUdChyLG4sbnVsbCwhMSksYz1uZXcgVHQocixudWxsLGwsITApLGwubz1jLGkucHVzaChsKSxhLnB1c2goYyl9fSksYS5zb3J0KHQpLHF0KGkpLHF0KGEpLGkubGVuZ3RoKXtmb3IodmFyIG89MCxsPWUsYz1hLmxlbmd0aDtjPm87KytvKWFbb10uZT1sPSFsO2Zvcih2YXIgcyxmLGg9aVswXTs7KXtmb3IodmFyIGc9aCxwPSEwO2cudjspaWYoKGc9Zy5uKT09PWgpcmV0dXJuO3M9Zy56LHUubGluZVN0YXJ0KCk7ZG97aWYoZy52PWcuby52PSEwLGcuZSl7aWYocClmb3IodmFyIG89MCxjPXMubGVuZ3RoO2M+bzsrK28pdS5wb2ludCgoZj1zW29dKVswXSxmWzFdKTtlbHNlIHIoZy54LGcubi54LDEsdSk7Zz1nLm59ZWxzZXtpZihwKXtzPWcucC56O2Zvcih2YXIgbz1zLmxlbmd0aC0xO28+PTA7LS1vKXUucG9pbnQoKGY9c1tvXSlbMF0sZlsxXSl9ZWxzZSByKGcueCxnLnAueCwtMSx1KTtnPWcucH1nPWcubyxzPWcueixwPSFwfXdoaWxlKCFnLnYpO3UubGluZUVuZCgpfX19ZnVuY3Rpb24gcXQobil7aWYodD1uLmxlbmd0aCl7Zm9yKHZhciB0LGUscj0wLHU9blswXTsrK3I8dDspdS5uPWU9bltyXSxlLnA9dSx1PWU7dS5uPWU9blswXSxlLnA9dX19ZnVuY3Rpb24gVHQobix0LGUscil7dGhpcy54PW4sdGhpcy56PXQsdGhpcy5vPWUsdGhpcy5lPXIsdGhpcy52PSExLHRoaXMubj10aGlzLnA9bnVsbH1mdW5jdGlvbiBSdChuLHQsZSxyKXtyZXR1cm4gZnVuY3Rpb24odSxpKXtmdW5jdGlvbiBhKHQsZSl7dmFyIHI9dSh0LGUpO24odD1yWzBdLGU9clsxXSkmJmkucG9pbnQodCxlKX1mdW5jdGlvbiBvKG4sdCl7dmFyIGU9dShuLHQpO2QucG9pbnQoZVswXSxlWzFdKX1mdW5jdGlvbiBsKCl7eS5wb2ludD1vLGQubGluZVN0YXJ0KCl9ZnVuY3Rpb24gYygpe3kucG9pbnQ9YSxkLmxpbmVFbmQoKX1mdW5jdGlvbiBzKG4sdCl7di5wdXNoKFtuLHRdKTt2YXIgZT11KG4sdCk7eC5wb2ludChlWzBdLGVbMV0pfWZ1bmN0aW9uIGYoKXt4LmxpbmVTdGFydCgpLHY9W119ZnVuY3Rpb24gaCgpe3ModlswXVswXSx2WzBdWzFdKSx4LmxpbmVFbmQoKTt2YXIgbix0PXguY2xlYW4oKSxlPU0uYnVmZmVyKCkscj1lLmxlbmd0aDtpZih2LnBvcCgpLHAucHVzaCh2KSx2PW51bGwscilpZigxJnQpe249ZVswXTt2YXIgdSxyPW4ubGVuZ3RoLTEsYT0tMTtpZihyPjApe2ZvcihifHwoaS5wb2x5Z29uU3RhcnQoKSxiPSEwKSxpLmxpbmVTdGFydCgpOysrYTxyOylpLnBvaW50KCh1PW5bYV0pWzBdLHVbMV0pO2kubGluZUVuZCgpfX1lbHNlIHI+MSYmMiZ0JiZlLnB1c2goZS5wb3AoKS5jb25jYXQoZS5zaGlmdCgpKSksZy5wdXNoKGUuZmlsdGVyKER0KSl9dmFyIGcscCx2LGQ9dChpKSxtPXUuaW52ZXJ0KHJbMF0sclsxXSkseT17cG9pbnQ6YSxsaW5lU3RhcnQ6bCxsaW5lRW5kOmMscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7eS5wb2ludD1zLHkubGluZVN0YXJ0PWYseS5saW5lRW5kPWgsZz1bXSxwPVtdfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7eS5wb2ludD1hLHkubGluZVN0YXJ0PWwseS5saW5lRW5kPWMsZz1vYS5tZXJnZShnKTt2YXIgbj1PdChtLHApO2cubGVuZ3RoPyhifHwoaS5wb2x5Z29uU3RhcnQoKSxiPSEwKSxMdChnLFV0LG4sZSxpKSk6biYmKGJ8fChpLnBvbHlnb25TdGFydCgpLGI9ITApLGkubGluZVN0YXJ0KCksZShudWxsLG51bGwsMSxpKSxpLmxpbmVFbmQoKSksYiYmKGkucG9seWdvbkVuZCgpLGI9ITEpLGc9cD1udWxsfSxzcGhlcmU6ZnVuY3Rpb24oKXtpLnBvbHlnb25TdGFydCgpLGkubGluZVN0YXJ0KCksZShudWxsLG51bGwsMSxpKSxpLmxpbmVFbmQoKSxpLnBvbHlnb25FbmQoKX19LE09UHQoKSx4PXQoTSksYj0hMTtyZXR1cm4geX19ZnVuY3Rpb24gRHQobil7cmV0dXJuIG4ubGVuZ3RoPjF9ZnVuY3Rpb24gUHQoKXt2YXIgbix0PVtdO3JldHVybntsaW5lU3RhcnQ6ZnVuY3Rpb24oKXt0LnB1c2gobj1bXSl9LHBvaW50OmZ1bmN0aW9uKHQsZSl7bi5wdXNoKFt0LGVdKX0sbGluZUVuZDpiLGJ1ZmZlcjpmdW5jdGlvbigpe3ZhciBlPXQ7cmV0dXJuIHQ9W10sbj1udWxsLGV9LHJlam9pbjpmdW5jdGlvbigpe3QubGVuZ3RoPjEmJnQucHVzaCh0LnBvcCgpLmNvbmNhdCh0LnNoaWZ0KCkpKX19fWZ1bmN0aW9uIFV0KG4sdCl7cmV0dXJuKChuPW4ueClbMF08MD9uWzFdLU9hLVBhOk9hLW5bMV0pLSgodD10LngpWzBdPDA/dFsxXS1PYS1QYTpPYS10WzFdKX1mdW5jdGlvbiBqdChuKXt2YXIgdCxlPU5hTixyPU5hTix1PU5hTjtyZXR1cm57bGluZVN0YXJ0OmZ1bmN0aW9uKCl7bi5saW5lU3RhcnQoKSx0PTF9LHBvaW50OmZ1bmN0aW9uKGksYSl7dmFyIG89aT4wP2phOi1qYSxsPU1hKGktZSk7TWEobC1qYSk8UGE/KG4ucG9pbnQoZSxyPShyK2EpLzI+MD9PYTotT2EpLG4ucG9pbnQodSxyKSxuLmxpbmVFbmQoKSxuLmxpbmVTdGFydCgpLG4ucG9pbnQobyxyKSxuLnBvaW50KGksciksdD0wKTp1IT09byYmbD49amEmJihNYShlLXUpPFBhJiYoZS09dSpQYSksTWEoaS1vKTxQYSYmKGktPW8qUGEpLHI9RnQoZSxyLGksYSksbi5wb2ludCh1LHIpLG4ubGluZUVuZCgpLG4ubGluZVN0YXJ0KCksbi5wb2ludChvLHIpLHQ9MCksbi5wb2ludChlPWkscj1hKSx1PW99LGxpbmVFbmQ6ZnVuY3Rpb24oKXtuLmxpbmVFbmQoKSxlPXI9TmFOfSxjbGVhbjpmdW5jdGlvbigpe3JldHVybiAyLXR9fX1mdW5jdGlvbiBGdChuLHQsZSxyKXt2YXIgdSxpLGE9TWF0aC5zaW4obi1lKTtyZXR1cm4gTWEoYSk+UGE/TWF0aC5hdGFuKChNYXRoLnNpbih0KSooaT1NYXRoLmNvcyhyKSkqTWF0aC5zaW4oZSktTWF0aC5zaW4ocikqKHU9TWF0aC5jb3ModCkpKk1hdGguc2luKG4pKS8odSppKmEpKToodCtyKS8yfWZ1bmN0aW9uIEh0KG4sdCxlLHIpe3ZhciB1O2lmKG51bGw9PW4pdT1lKk9hLHIucG9pbnQoLWphLHUpLHIucG9pbnQoMCx1KSxyLnBvaW50KGphLHUpLHIucG9pbnQoamEsMCksci5wb2ludChqYSwtdSksci5wb2ludCgwLC11KSxyLnBvaW50KC1qYSwtdSksci5wb2ludCgtamEsMCksci5wb2ludCgtamEsdSk7ZWxzZSBpZihNYShuWzBdLXRbMF0pPlBhKXt2YXIgaT1uWzBdPHRbMF0/amE6LWphO3U9ZSppLzIsci5wb2ludCgtaSx1KSxyLnBvaW50KDAsdSksci5wb2ludChpLHUpfWVsc2Ugci5wb2ludCh0WzBdLHRbMV0pfWZ1bmN0aW9uIE90KG4sdCl7dmFyIGU9blswXSxyPW5bMV0sdT1bTWF0aC5zaW4oZSksLU1hdGguY29zKGUpLDBdLGk9MCxhPTA7a28ucmVzZXQoKTtmb3IodmFyIG89MCxsPXQubGVuZ3RoO2w+bzsrK28pe3ZhciBjPXRbb10scz1jLmxlbmd0aDtpZihzKWZvcih2YXIgZj1jWzBdLGg9ZlswXSxnPWZbMV0vMitqYS80LHA9TWF0aC5zaW4oZyksdj1NYXRoLmNvcyhnKSxkPTE7Oyl7ZD09PXMmJihkPTApLG49Y1tkXTt2YXIgbT1uWzBdLHk9blsxXS8yK2phLzQsTT1NYXRoLnNpbih5KSx4PU1hdGguY29zKHkpLGI9bS1oLF89Yj49MD8xOi0xLHc9XypiLFM9dz5qYSxrPXAqTTtpZihrby5hZGQoTWF0aC5hdGFuMihrKl8qTWF0aC5zaW4odyksdip4K2sqTWF0aC5jb3ModykpKSxpKz1TP2IrXypGYTpiLFNeaD49ZV5tPj1lKXt2YXIgTj15dChkdChmKSxkdChuKSk7YnQoTik7dmFyIEU9eXQodSxOKTtidChFKTt2YXIgQT0oU15iPj0wPy0xOjEpKnRuKEVbMl0pOyhyPkF8fHI9PT1BJiYoTlswXXx8TlsxXSkpJiYoYSs9U15iPj0wPzE6LTEpfWlmKCFkKyspYnJlYWs7aD1tLHA9TSx2PXgsZj1ufX1yZXR1cm4oLVBhPml8fFBhPmkmJjA+a28pXjEmYX1mdW5jdGlvbiBJdChuKXtmdW5jdGlvbiB0KG4sdCl7cmV0dXJuIE1hdGguY29zKG4pKk1hdGguY29zKHQpPml9ZnVuY3Rpb24gZShuKXt2YXIgZSxpLGwsYyxzO3JldHVybntsaW5lU3RhcnQ6ZnVuY3Rpb24oKXtjPWw9ITEscz0xfSxwb2ludDpmdW5jdGlvbihmLGgpe3ZhciBnLHA9W2YsaF0sdj10KGYsaCksZD1hP3Y/MDp1KGYsaCk6dj91KGYrKDA+Zj9qYTotamEpLGgpOjA7aWYoIWUmJihjPWw9dikmJm4ubGluZVN0YXJ0KCksdiE9PWwmJihnPXIoZSxwKSwod3QoZSxnKXx8d3QocCxnKSkmJihwWzBdKz1QYSxwWzFdKz1QYSx2PXQocFswXSxwWzFdKSkpLHYhPT1sKXM9MCx2PyhuLmxpbmVTdGFydCgpLGc9cihwLGUpLG4ucG9pbnQoZ1swXSxnWzFdKSk6KGc9cihlLHApLG4ucG9pbnQoZ1swXSxnWzFdKSxuLmxpbmVFbmQoKSksZT1nO2Vsc2UgaWYobyYmZSYmYV52KXt2YXIgbTtkJml8fCEobT1yKHAsZSwhMCkpfHwocz0wLGE/KG4ubGluZVN0YXJ0KCksbi5wb2ludChtWzBdWzBdLG1bMF1bMV0pLG4ucG9pbnQobVsxXVswXSxtWzFdWzFdKSxuLmxpbmVFbmQoKSk6KG4ucG9pbnQobVsxXVswXSxtWzFdWzFdKSxuLmxpbmVFbmQoKSxuLmxpbmVTdGFydCgpLG4ucG9pbnQobVswXVswXSxtWzBdWzFdKSkpfSF2fHxlJiZ3dChlLHApfHxuLnBvaW50KHBbMF0scFsxXSksZT1wLGw9dixpPWR9LGxpbmVFbmQ6ZnVuY3Rpb24oKXtsJiZuLmxpbmVFbmQoKSxlPW51bGx9LGNsZWFuOmZ1bmN0aW9uKCl7cmV0dXJuIHN8KGMmJmwpPDwxfX19ZnVuY3Rpb24gcihuLHQsZSl7dmFyIHI9ZHQobiksdT1kdCh0KSxhPVsxLDAsMF0sbz15dChyLHUpLGw9bXQobyxvKSxjPW9bMF0scz1sLWMqYztpZighcylyZXR1cm4hZSYmbjt2YXIgZj1pKmwvcyxoPS1pKmMvcyxnPXl0KGEsbykscD14dChhLGYpLHY9eHQobyxoKTtNdChwLHYpO3ZhciBkPWcsbT1tdChwLGQpLHk9bXQoZCxkKSxNPW0qbS15KihtdChwLHApLTEpO2lmKCEoMD5NKSl7dmFyIHg9TWF0aC5zcXJ0KE0pLGI9eHQoZCwoLW0teCkveSk7aWYoTXQoYixwKSxiPV90KGIpLCFlKXJldHVybiBiO3ZhciBfLHc9blswXSxTPXRbMF0saz1uWzFdLE49dFsxXTt3PlMmJihfPXcsdz1TLFM9Xyk7dmFyIEU9Uy13LEE9TWEoRS1qYSk8UGEsQz1BfHxQYT5FO2lmKCFBJiZrPk4mJihfPWssaz1OLE49XyksQz9BP2srTj4wXmJbMV08KE1hKGJbMF0tdyk8UGE/azpOKTprPD1iWzFdJiZiWzFdPD1OOkU+amFeKHc8PWJbMF0mJmJbMF08PVMpKXt2YXIgej14dChkLCgtbSt4KS95KTtyZXR1cm4gTXQoeixwKSxbYixfdCh6KV19fX1mdW5jdGlvbiB1KHQsZSl7dmFyIHI9YT9uOmphLW4sdT0wO3JldHVybi1yPnQ/dXw9MTp0PnImJih1fD0yKSwtcj5lP3V8PTQ6ZT5yJiYodXw9OCksdX12YXIgaT1NYXRoLmNvcyhuKSxhPWk+MCxvPU1hKGkpPlBhLGw9dmUobiw2KklhKTtyZXR1cm4gUnQodCxlLGwsYT9bMCwtbl06Wy1qYSxuLWphXSl9ZnVuY3Rpb24gWXQobix0LGUscil7cmV0dXJuIGZ1bmN0aW9uKHUpe3ZhciBpLGE9dS5hLG89dS5iLGw9YS54LGM9YS55LHM9by54LGY9by55LGg9MCxnPTEscD1zLWwsdj1mLWM7aWYoaT1uLWwscHx8IShpPjApKXtpZihpLz1wLDA+cCl7aWYoaD5pKXJldHVybjtnPmkmJihnPWkpfWVsc2UgaWYocD4wKXtpZihpPmcpcmV0dXJuO2k+aCYmKGg9aSl9aWYoaT1lLWwscHx8ISgwPmkpKXtpZihpLz1wLDA+cCl7aWYoaT5nKXJldHVybjtpPmgmJihoPWkpfWVsc2UgaWYocD4wKXtpZihoPmkpcmV0dXJuO2c+aSYmKGc9aSl9aWYoaT10LWMsdnx8IShpPjApKXtpZihpLz12LDA+dil7aWYoaD5pKXJldHVybjtnPmkmJihnPWkpfWVsc2UgaWYodj4wKXtpZihpPmcpcmV0dXJuO2k+aCYmKGg9aSl9aWYoaT1yLWMsdnx8ISgwPmkpKXtpZihpLz12LDA+dil7aWYoaT5nKXJldHVybjtpPmgmJihoPWkpfWVsc2UgaWYodj4wKXtpZihoPmkpcmV0dXJuO2c+aSYmKGc9aSl9cmV0dXJuIGg+MCYmKHUuYT17eDpsK2gqcCx5OmMraCp2fSksMT5nJiYodS5iPXt4OmwrZypwLHk6YytnKnZ9KSx1fX19fX19ZnVuY3Rpb24gWnQobix0LGUscil7ZnVuY3Rpb24gdShyLHUpe3JldHVybiBNYShyWzBdLW4pPFBhP3U+MD8wOjM6TWEoclswXS1lKTxQYT91PjA/MjoxOk1hKHJbMV0tdCk8UGE/dT4wPzE6MDp1PjA/MzoyfWZ1bmN0aW9uIGkobix0KXtyZXR1cm4gYShuLngsdC54KX1mdW5jdGlvbiBhKG4sdCl7dmFyIGU9dShuLDEpLHI9dSh0LDEpO3JldHVybiBlIT09cj9lLXI6MD09PWU/dFsxXS1uWzFdOjE9PT1lP25bMF0tdFswXToyPT09ZT9uWzFdLXRbMV06dFswXS1uWzBdfXJldHVybiBmdW5jdGlvbihvKXtmdW5jdGlvbiBsKG4pe2Zvcih2YXIgdD0wLGU9ZC5sZW5ndGgscj1uWzFdLHU9MDtlPnU7Kyt1KWZvcih2YXIgaSxhPTEsbz1kW3VdLGw9by5sZW5ndGgsYz1vWzBdO2w+YTsrK2EpaT1vW2FdLGNbMV08PXI/aVsxXT5yJiZRKGMsaSxuKT4wJiYrK3Q6aVsxXTw9ciYmUShjLGksbik8MCYmLS10LGM9aTtyZXR1cm4gMCE9PXR9ZnVuY3Rpb24gYyhpLG8sbCxjKXt2YXIgcz0wLGY9MDtpZihudWxsPT1pfHwocz11KGksbCkpIT09KGY9dShvLGwpKXx8YShpLG8pPDBebD4wKXtkbyBjLnBvaW50KDA9PT1zfHwzPT09cz9uOmUscz4xP3I6dCk7d2hpbGUoKHM9KHMrbCs0KSU0KSE9PWYpfWVsc2UgYy5wb2ludChvWzBdLG9bMV0pfWZ1bmN0aW9uIHModSxpKXtyZXR1cm4gdT49biYmZT49dSYmaT49dCYmcj49aX1mdW5jdGlvbiBmKG4sdCl7cyhuLHQpJiZvLnBvaW50KG4sdCl9ZnVuY3Rpb24gaCgpe0MucG9pbnQ9cCxkJiZkLnB1c2gobT1bXSksUz0hMCx3PSExLGI9Xz1OYU59ZnVuY3Rpb24gZygpe3YmJihwKHksTSkseCYmdyYmRS5yZWpvaW4oKSx2LnB1c2goRS5idWZmZXIoKSkpLEMucG9pbnQ9Zix3JiZvLmxpbmVFbmQoKX1mdW5jdGlvbiBwKG4sdCl7bj1NYXRoLm1heCgtSG8sTWF0aC5taW4oSG8sbikpLHQ9TWF0aC5tYXgoLUhvLE1hdGgubWluKEhvLHQpKTt2YXIgZT1zKG4sdCk7aWYoZCYmbS5wdXNoKFtuLHRdKSxTKXk9bixNPXQseD1lLFM9ITEsZSYmKG8ubGluZVN0YXJ0KCksby5wb2ludChuLHQpKTtlbHNlIGlmKGUmJncpby5wb2ludChuLHQpO2Vsc2V7dmFyIHI9e2E6e3g6Yix5Ol99LGI6e3g6bix5OnR9fTtBKHIpPyh3fHwoby5saW5lU3RhcnQoKSxvLnBvaW50KHIuYS54LHIuYS55KSksby5wb2ludChyLmIueCxyLmIueSksZXx8by5saW5lRW5kKCksaz0hMSk6ZSYmKG8ubGluZVN0YXJ0KCksby5wb2ludChuLHQpLGs9ITEpfWI9bixfPXQsdz1lfXZhciB2LGQsbSx5LE0seCxiLF8sdyxTLGssTj1vLEU9UHQoKSxBPVl0KG4sdCxlLHIpLEM9e3BvaW50OmYsbGluZVN0YXJ0OmgsbGluZUVuZDpnLHBvbHlnb25TdGFydDpmdW5jdGlvbigpe289RSx2PVtdLGQ9W10saz0hMH0scG9seWdvbkVuZDpmdW5jdGlvbigpe289Tix2PW9hLm1lcmdlKHYpO3ZhciB0PWwoW24scl0pLGU9ayYmdCx1PXYubGVuZ3RoOyhlfHx1KSYmKG8ucG9seWdvblN0YXJ0KCksZSYmKG8ubGluZVN0YXJ0KCksYyhudWxsLG51bGwsMSxvKSxvLmxpbmVFbmQoKSksdSYmTHQodixpLHQsYyxvKSxvLnBvbHlnb25FbmQoKSksdj1kPW09bnVsbH19O3JldHVybiBDfX1mdW5jdGlvbiBWdChuKXt2YXIgdD0wLGU9amEvMyxyPW9lKG4pLHU9cih0LGUpO3JldHVybiB1LnBhcmFsbGVscz1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9yKHQ9blswXSpqYS8xODAsZT1uWzFdKmphLzE4MCk6W3QvamEqMTgwLGUvamEqMTgwXX0sdX1mdW5jdGlvbiBYdChuLHQpe2Z1bmN0aW9uIGUobix0KXt2YXIgZT1NYXRoLnNxcnQoaS0yKnUqTWF0aC5zaW4odCkpL3U7cmV0dXJuW2UqTWF0aC5zaW4obio9dSksYS1lKk1hdGguY29zKG4pXX12YXIgcj1NYXRoLnNpbihuKSx1PShyK01hdGguc2luKHQpKS8yLGk9MStyKigyKnUtciksYT1NYXRoLnNxcnQoaSkvdTtyZXR1cm4gZS5pbnZlcnQ9ZnVuY3Rpb24obix0KXt2YXIgZT1hLXQ7cmV0dXJuW01hdGguYXRhbjIobixlKS91LHRuKChpLShuKm4rZSplKSp1KnUpLygyKnUpKV19LGV9ZnVuY3Rpb24gJHQoKXtmdW5jdGlvbiBuKG4sdCl7SW8rPXUqbi1yKnQscj1uLHU9dH12YXIgdCxlLHIsdTskby5wb2ludD1mdW5jdGlvbihpLGEpeyRvLnBvaW50PW4sdD1yPWksZT11PWF9LCRvLmxpbmVFbmQ9ZnVuY3Rpb24oKXtuKHQsZSl9fWZ1bmN0aW9uIEJ0KG4sdCl7WW8+biYmKFlvPW4pLG4+Vm8mJihWbz1uKSxabz50JiYoWm89dCksdD5YbyYmKFhvPXQpfWZ1bmN0aW9uIFd0KCl7ZnVuY3Rpb24gbihuLHQpe2EucHVzaCgiTSIsbiwiLCIsdCxpKX1mdW5jdGlvbiB0KG4sdCl7YS5wdXNoKCJNIixuLCIsIix0KSxvLnBvaW50PWV9ZnVuY3Rpb24gZShuLHQpe2EucHVzaCgiTCIsbiwiLCIsdCl9ZnVuY3Rpb24gcigpe28ucG9pbnQ9bn1mdW5jdGlvbiB1KCl7YS5wdXNoKCJaIil9dmFyIGk9SnQoNC41KSxhPVtdLG89e3BvaW50Om4sbGluZVN0YXJ0OmZ1bmN0aW9uKCl7by5wb2ludD10fSxsaW5lRW5kOnIscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7by5saW5lRW5kPXV9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtvLmxpbmVFbmQ9cixvLnBvaW50PW59LHBvaW50UmFkaXVzOmZ1bmN0aW9uKG4pe3JldHVybiBpPUp0KG4pLG99LHJlc3VsdDpmdW5jdGlvbigpe2lmKGEubGVuZ3RoKXt2YXIgbj1hLmpvaW4oIiIpO3JldHVybiBhPVtdLG59fX07cmV0dXJuIG99ZnVuY3Rpb24gSnQobil7cmV0dXJuIm0wLCIrbisiYSIrbisiLCIrbisiIDAgMSwxIDAsIistMipuKyJhIituKyIsIituKyIgMCAxLDEgMCwiKzIqbisieiJ9ZnVuY3Rpb24gR3Qobix0KXtDbys9bix6bys9dCwrK0xvfWZ1bmN0aW9uIEt0KCl7ZnVuY3Rpb24gbihuLHIpe3ZhciB1PW4tdCxpPXItZSxhPU1hdGguc3FydCh1KnUraSppKTtxbys9YSoodCtuKS8yLFRvKz1hKihlK3IpLzIsUm8rPWEsR3QodD1uLGU9cil9dmFyIHQsZTtXby5wb2ludD1mdW5jdGlvbihyLHUpe1dvLnBvaW50PW4sR3QodD1yLGU9dSl9fWZ1bmN0aW9uIFF0KCl7V28ucG9pbnQ9R3R9ZnVuY3Rpb24gbmUoKXtmdW5jdGlvbiBuKG4sdCl7dmFyIGU9bi1yLGk9dC11LGE9TWF0aC5zcXJ0KGUqZStpKmkpO3FvKz1hKihyK24pLzIsVG8rPWEqKHUrdCkvMixSbys9YSxhPXUqbi1yKnQsRG8rPWEqKHIrbiksUG8rPWEqKHUrdCksVW8rPTMqYSxHdChyPW4sdT10KX12YXIgdCxlLHIsdTtXby5wb2ludD1mdW5jdGlvbihpLGEpe1dvLnBvaW50PW4sR3QodD1yPWksZT11PWEpfSxXby5saW5lRW5kPWZ1bmN0aW9uKCl7bih0LGUpfX1mdW5jdGlvbiB0ZShuKXtmdW5jdGlvbiB0KHQsZSl7bi5tb3ZlVG8odCthLGUpLG4uYXJjKHQsZSxhLDAsRmEpfWZ1bmN0aW9uIGUodCxlKXtuLm1vdmVUbyh0LGUpLG8ucG9pbnQ9cn1mdW5jdGlvbiByKHQsZSl7bi5saW5lVG8odCxlKX1mdW5jdGlvbiB1KCl7by5wb2ludD10fWZ1bmN0aW9uIGkoKXtuLmNsb3NlUGF0aCgpfXZhciBhPTQuNSxvPXtwb2ludDp0LGxpbmVTdGFydDpmdW5jdGlvbigpe28ucG9pbnQ9ZX0sbGluZUVuZDp1LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe28ubGluZUVuZD1pfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7by5saW5lRW5kPXUsby5wb2ludD10fSxwb2ludFJhZGl1czpmdW5jdGlvbihuKXtyZXR1cm4gYT1uLG99LHJlc3VsdDpifTtyZXR1cm4gb31mdW5jdGlvbiBlZShuKXtmdW5jdGlvbiB0KG4pe3JldHVybihvP3I6ZSkobil9ZnVuY3Rpb24gZSh0KXtyZXR1cm4gaWUodCxmdW5jdGlvbihlLHIpe2U9bihlLHIpLHQucG9pbnQoZVswXSxlWzFdKX0pfWZ1bmN0aW9uIHIodCl7ZnVuY3Rpb24gZShlLHIpe2U9bihlLHIpLHQucG9pbnQoZVswXSxlWzFdKX1mdW5jdGlvbiByKCl7TT1OYU4sUy5wb2ludD1pLHQubGluZVN0YXJ0KCl9ZnVuY3Rpb24gaShlLHIpe3ZhciBpPWR0KFtlLHJdKSxhPW4oZSxyKTt1KE0seCx5LGIsXyx3LE09YVswXSx4PWFbMV0seT1lLGI9aVswXSxfPWlbMV0sdz1pWzJdLG8sdCksdC5wb2ludChNLHgpfWZ1bmN0aW9uIGEoKXtTLnBvaW50PWUsdC5saW5lRW5kKCl9ZnVuY3Rpb24gbCgpew0KcigpLFMucG9pbnQ9YyxTLmxpbmVFbmQ9c31mdW5jdGlvbiBjKG4sdCl7aShmPW4saD10KSxnPU0scD14LHY9YixkPV8sbT13LFMucG9pbnQ9aX1mdW5jdGlvbiBzKCl7dShNLHgseSxiLF8sdyxnLHAsZix2LGQsbSxvLHQpLFMubGluZUVuZD1hLGEoKX12YXIgZixoLGcscCx2LGQsbSx5LE0seCxiLF8sdyxTPXtwb2ludDplLGxpbmVTdGFydDpyLGxpbmVFbmQ6YSxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXt0LnBvbHlnb25TdGFydCgpLFMubGluZVN0YXJ0PWx9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXt0LnBvbHlnb25FbmQoKSxTLmxpbmVTdGFydD1yfX07cmV0dXJuIFN9ZnVuY3Rpb24gdSh0LGUscixvLGwsYyxzLGYsaCxnLHAsdixkLG0pe3ZhciB5PXMtdCxNPWYtZSx4PXkqeStNKk07aWYoeD40KmkmJmQtLSl7dmFyIGI9bytnLF89bCtwLHc9Yyt2LFM9TWF0aC5zcXJ0KGIqYitfKl8rdyp3KSxrPU1hdGguYXNpbih3Lz1TKSxOPU1hKE1hKHcpLTEpPFBhfHxNYShyLWgpPFBhPyhyK2gpLzI6TWF0aC5hdGFuMihfLGIpLEU9bihOLGspLEE9RVswXSxDPUVbMV0sej1BLXQsTD1DLWUscT1NKnoteSpMOyhxKnEveD5pfHxNYSgoeSp6K00qTCkveC0uNSk+LjN8fGE+bypnK2wqcCtjKnYpJiYodSh0LGUscixvLGwsYyxBLEMsTixiLz1TLF8vPVMsdyxkLG0pLG0ucG9pbnQoQSxDKSx1KEEsQyxOLGIsXyx3LHMsZixoLGcscCx2LGQsbSkpfX12YXIgaT0uNSxhPU1hdGguY29zKDMwKklhKSxvPTE2O3JldHVybiB0LnByZWNpc2lvbj1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz0oaT1uKm4pPjAmJjE2LHQpOk1hdGguc3FydChpKX0sdH1mdW5jdGlvbiByZShuKXt2YXIgdD1lZShmdW5jdGlvbih0LGUpe3JldHVybiBuKFt0KllhLGUqWWFdKX0pO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbGUodChuKSl9fWZ1bmN0aW9uIHVlKG4pe3RoaXMuc3RyZWFtPW59ZnVuY3Rpb24gaWUobix0KXtyZXR1cm57cG9pbnQ6dCxzcGhlcmU6ZnVuY3Rpb24oKXtuLnNwaGVyZSgpfSxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXtuLmxpbmVTdGFydCgpfSxsaW5lRW5kOmZ1bmN0aW9uKCl7bi5saW5lRW5kKCl9LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe24ucG9seWdvblN0YXJ0KCl9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtuLnBvbHlnb25FbmQoKX19fWZ1bmN0aW9uIGFlKG4pe3JldHVybiBvZShmdW5jdGlvbigpe3JldHVybiBufSkoKX1mdW5jdGlvbiBvZShuKXtmdW5jdGlvbiB0KG4pe3JldHVybiBuPW8oblswXSpJYSxuWzFdKklhKSxbblswXSpoK2wsYy1uWzFdKmhdfWZ1bmN0aW9uIGUobil7cmV0dXJuIG49by5pbnZlcnQoKG5bMF0tbCkvaCwoYy1uWzFdKS9oKSxuJiZbblswXSpZYSxuWzFdKllhXX1mdW5jdGlvbiByKCl7bz1DdChhPWZlKG0sTSx4KSxpKTt2YXIgbj1pKHYsZCk7cmV0dXJuIGw9Zy1uWzBdKmgsYz1wK25bMV0qaCx1KCl9ZnVuY3Rpb24gdSgpe3JldHVybiBzJiYocy52YWxpZD0hMSxzPW51bGwpLHR9dmFyIGksYSxvLGwsYyxzLGY9ZWUoZnVuY3Rpb24obix0KXtyZXR1cm4gbj1pKG4sdCksW25bMF0qaCtsLGMtblsxXSpoXX0pLGg9MTUwLGc9NDgwLHA9MjUwLHY9MCxkPTAsbT0wLE09MCx4PTAsYj1GbyxfPXksdz1udWxsLFM9bnVsbDtyZXR1cm4gdC5zdHJlYW09ZnVuY3Rpb24obil7cmV0dXJuIHMmJihzLnZhbGlkPSExKSxzPWxlKGIoYSxmKF8obikpKSkscy52YWxpZD0hMCxzfSx0LmNsaXBBbmdsZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1udWxsPT1uPyh3PW4sRm8pOkl0KCh3PStuKSpJYSksdSgpKTp3fSx0LmNsaXBFeHRlbnQ9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KFM9bixfPW4/WnQoblswXVswXSxuWzBdWzFdLG5bMV1bMF0sblsxXVsxXSk6eSx1KCkpOlN9LHQuc2NhbGU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGg9K24scigpKTpofSx0LnRyYW5zbGF0ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZz0rblswXSxwPStuWzFdLHIoKSk6W2cscF19LHQuY2VudGVyPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh2PW5bMF0lMzYwKklhLGQ9blsxXSUzNjAqSWEscigpKTpbdipZYSxkKllhXX0sdC5yb3RhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG09blswXSUzNjAqSWEsTT1uWzFdJTM2MCpJYSx4PW4ubGVuZ3RoPjI/blsyXSUzNjAqSWE6MCxyKCkpOlttKllhLE0qWWEseCpZYV19LG9hLnJlYmluZCh0LGYsInByZWNpc2lvbiIpLGZ1bmN0aW9uKCl7cmV0dXJuIGk9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdC5pbnZlcnQ9aS5pbnZlcnQmJmUscigpfX1mdW5jdGlvbiBsZShuKXtyZXR1cm4gaWUobixmdW5jdGlvbih0LGUpe24ucG9pbnQodCpJYSxlKklhKX0pfWZ1bmN0aW9uIGNlKG4sdCl7cmV0dXJuW24sdF19ZnVuY3Rpb24gc2Uobix0KXtyZXR1cm5bbj5qYT9uLUZhOi1qYT5uP24rRmE6bix0XX1mdW5jdGlvbiBmZShuLHQsZSl7cmV0dXJuIG4/dHx8ZT9DdChnZShuKSxwZSh0LGUpKTpnZShuKTp0fHxlP3BlKHQsZSk6c2V9ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrPW4sW3Q+amE/dC1GYTotamE+dD90K0ZhOnQsZV19fWZ1bmN0aW9uIGdlKG4pe3ZhciB0PWhlKG4pO3JldHVybiB0LmludmVydD1oZSgtbiksdH1mdW5jdGlvbiBwZShuLHQpe2Z1bmN0aW9uIGUobix0KXt2YXIgZT1NYXRoLmNvcyh0KSxvPU1hdGguY29zKG4pKmUsbD1NYXRoLnNpbihuKSplLGM9TWF0aC5zaW4odCkscz1jKnIrbyp1O3JldHVybltNYXRoLmF0YW4yKGwqaS1zKmEsbypyLWMqdSksdG4ocyppK2wqYSldfXZhciByPU1hdGguY29zKG4pLHU9TWF0aC5zaW4obiksaT1NYXRoLmNvcyh0KSxhPU1hdGguc2luKHQpO3JldHVybiBlLmludmVydD1mdW5jdGlvbihuLHQpe3ZhciBlPU1hdGguY29zKHQpLG89TWF0aC5jb3MobikqZSxsPU1hdGguc2luKG4pKmUsYz1NYXRoLnNpbih0KSxzPWMqaS1sKmE7cmV0dXJuW01hdGguYXRhbjIobCppK2MqYSxvKnIrcyp1KSx0bihzKnItbyp1KV19LGV9ZnVuY3Rpb24gdmUobix0KXt2YXIgZT1NYXRoLmNvcyhuKSxyPU1hdGguc2luKG4pO3JldHVybiBmdW5jdGlvbih1LGksYSxvKXt2YXIgbD1hKnQ7bnVsbCE9dT8odT1kZShlLHUpLGk9ZGUoZSxpKSwoYT4wP2k+dTp1PmkpJiYodSs9YSpGYSkpOih1PW4rYSpGYSxpPW4tLjUqbCk7Zm9yKHZhciBjLHM9dTthPjA/cz5pOmk+cztzLT1sKW8ucG9pbnQoKGM9X3QoW2UsLXIqTWF0aC5jb3MocyksLXIqTWF0aC5zaW4ocyldKSlbMF0sY1sxXSl9fWZ1bmN0aW9uIGRlKG4sdCl7dmFyIGU9ZHQodCk7ZVswXS09bixidChlKTt2YXIgcj1ubigtZVsxXSk7cmV0dXJuKCgtZVsyXTwwPy1yOnIpKzIqTWF0aC5QSS1QYSklKDIqTWF0aC5QSSl9ZnVuY3Rpb24gbWUobix0LGUpe3ZhciByPW9hLnJhbmdlKG4sdC1QYSxlKS5jb25jYXQodCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiByLm1hcChmdW5jdGlvbih0KXtyZXR1cm5bbix0XX0pfX1mdW5jdGlvbiB5ZShuLHQsZSl7dmFyIHI9b2EucmFuZ2Uobix0LVBhLGUpLmNvbmNhdCh0KTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHIubWFwKGZ1bmN0aW9uKHQpe3JldHVyblt0LG5dfSl9fWZ1bmN0aW9uIE1lKG4pe3JldHVybiBuLnNvdXJjZX1mdW5jdGlvbiB4ZShuKXtyZXR1cm4gbi50YXJnZXR9ZnVuY3Rpb24gYmUobix0LGUscil7dmFyIHU9TWF0aC5jb3ModCksaT1NYXRoLnNpbih0KSxhPU1hdGguY29zKHIpLG89TWF0aC5zaW4ociksbD11Kk1hdGguY29zKG4pLGM9dSpNYXRoLnNpbihuKSxzPWEqTWF0aC5jb3MoZSksZj1hKk1hdGguc2luKGUpLGg9MipNYXRoLmFzaW4oTWF0aC5zcXJ0KGFuKHItdCkrdSphKmFuKGUtbikpKSxnPTEvTWF0aC5zaW4oaCkscD1oP2Z1bmN0aW9uKG4pe3ZhciB0PU1hdGguc2luKG4qPWgpKmcsZT1NYXRoLnNpbihoLW4pKmcscj1lKmwrdCpzLHU9ZSpjK3QqZixhPWUqaSt0Km87cmV0dXJuW01hdGguYXRhbjIodSxyKSpZYSxNYXRoLmF0YW4yKGEsTWF0aC5zcXJ0KHIqcit1KnUpKSpZYV19OmZ1bmN0aW9uKCl7cmV0dXJuW24qWWEsdCpZYV19O3JldHVybiBwLmRpc3RhbmNlPWgscH1mdW5jdGlvbiBfZSgpe2Z1bmN0aW9uIG4obix1KXt2YXIgaT1NYXRoLnNpbih1Kj1JYSksYT1NYXRoLmNvcyh1KSxvPU1hKChuKj1JYSktdCksbD1NYXRoLmNvcyhvKTtKbys9TWF0aC5hdGFuMihNYXRoLnNxcnQoKG89YSpNYXRoLnNpbihvKSkqbysobz1yKmktZSphKmwpKm8pLGUqaStyKmEqbCksdD1uLGU9aSxyPWF9dmFyIHQsZSxyO0dvLnBvaW50PWZ1bmN0aW9uKHUsaSl7dD11KklhLGU9TWF0aC5zaW4oaSo9SWEpLHI9TWF0aC5jb3MoaSksR28ucG9pbnQ9bn0sR28ubGluZUVuZD1mdW5jdGlvbigpe0dvLnBvaW50PUdvLmxpbmVFbmQ9Yn19ZnVuY3Rpb24gd2Uobix0KXtmdW5jdGlvbiBlKHQsZSl7dmFyIHI9TWF0aC5jb3ModCksdT1NYXRoLmNvcyhlKSxpPW4ocip1KTtyZXR1cm5baSp1Kk1hdGguc2luKHQpLGkqTWF0aC5zaW4oZSldfXJldHVybiBlLmludmVydD1mdW5jdGlvbihuLGUpe3ZhciByPU1hdGguc3FydChuKm4rZSplKSx1PXQociksaT1NYXRoLnNpbih1KSxhPU1hdGguY29zKHUpO3JldHVybltNYXRoLmF0YW4yKG4qaSxyKmEpLE1hdGguYXNpbihyJiZlKmkvcildfSxlfWZ1bmN0aW9uIFNlKG4sdCl7ZnVuY3Rpb24gZShuLHQpe2E+MD8tT2ErUGE+dCYmKHQ9LU9hK1BhKTp0Pk9hLVBhJiYodD1PYS1QYSk7dmFyIGU9YS9NYXRoLnBvdyh1KHQpLGkpO3JldHVybltlKk1hdGguc2luKGkqbiksYS1lKk1hdGguY29zKGkqbildfXZhciByPU1hdGguY29zKG4pLHU9ZnVuY3Rpb24obil7cmV0dXJuIE1hdGgudGFuKGphLzQrbi8yKX0saT1uPT09dD9NYXRoLnNpbihuKTpNYXRoLmxvZyhyL01hdGguY29zKHQpKS9NYXRoLmxvZyh1KHQpL3UobikpLGE9cipNYXRoLnBvdyh1KG4pLGkpL2k7cmV0dXJuIGk/KGUuaW52ZXJ0PWZ1bmN0aW9uKG4sdCl7dmFyIGU9YS10LHI9SyhpKSpNYXRoLnNxcnQobipuK2UqZSk7cmV0dXJuW01hdGguYXRhbjIobixlKS9pLDIqTWF0aC5hdGFuKE1hdGgucG93KGEvciwxL2kpKS1PYV19LGUpOk5lfWZ1bmN0aW9uIGtlKG4sdCl7ZnVuY3Rpb24gZShuLHQpe3ZhciBlPWktdDtyZXR1cm5bZSpNYXRoLnNpbih1Km4pLGktZSpNYXRoLmNvcyh1Km4pXX12YXIgcj1NYXRoLmNvcyhuKSx1PW49PT10P01hdGguc2luKG4pOihyLU1hdGguY29zKHQpKS8odC1uKSxpPXIvdStuO3JldHVybiBNYSh1KTxQYT9jZTooZS5pbnZlcnQ9ZnVuY3Rpb24obix0KXt2YXIgZT1pLXQ7cmV0dXJuW01hdGguYXRhbjIobixlKS91LGktSyh1KSpNYXRoLnNxcnQobipuK2UqZSldfSxlKX1mdW5jdGlvbiBOZShuLHQpe3JldHVybltuLE1hdGgubG9nKE1hdGgudGFuKGphLzQrdC8yKSldfWZ1bmN0aW9uIEVlKG4pe3ZhciB0LGU9YWUobikscj1lLnNjYWxlLHU9ZS50cmFuc2xhdGUsaT1lLmNsaXBFeHRlbnQ7cmV0dXJuIGUuc2NhbGU9ZnVuY3Rpb24oKXt2YXIgbj1yLmFwcGx5KGUsYXJndW1lbnRzKTtyZXR1cm4gbj09PWU/dD9lLmNsaXBFeHRlbnQobnVsbCk6ZTpufSxlLnRyYW5zbGF0ZT1mdW5jdGlvbigpe3ZhciBuPXUuYXBwbHkoZSxhcmd1bWVudHMpO3JldHVybiBuPT09ZT90P2UuY2xpcEV4dGVudChudWxsKTplOm59LGUuY2xpcEV4dGVudD1mdW5jdGlvbihuKXt2YXIgYT1pLmFwcGx5KGUsYXJndW1lbnRzKTtpZihhPT09ZSl7aWYodD1udWxsPT1uKXt2YXIgbz1qYSpyKCksbD11KCk7aShbW2xbMF0tbyxsWzFdLW9dLFtsWzBdK28sbFsxXStvXV0pfX1lbHNlIHQmJihhPW51bGwpO3JldHVybiBhfSxlLmNsaXBFeHRlbnQobnVsbCl9ZnVuY3Rpb24gQWUobix0KXtyZXR1cm5bTWF0aC5sb2coTWF0aC50YW4oamEvNCt0LzIpKSwtbl19ZnVuY3Rpb24gQ2Uobil7cmV0dXJuIG5bMF19ZnVuY3Rpb24gemUobil7cmV0dXJuIG5bMV19ZnVuY3Rpb24gTGUobil7Zm9yKHZhciB0PW4ubGVuZ3RoLGU9WzAsMV0scj0yLHU9Mjt0PnU7dSsrKXtmb3IoO3I+MSYmUShuW2Vbci0yXV0sbltlW3ItMV1dLG5bdV0pPD0wOyktLXI7ZVtyKytdPXV9cmV0dXJuIGUuc2xpY2UoMCxyKX1mdW5jdGlvbiBxZShuLHQpe3JldHVybiBuWzBdLXRbMF18fG5bMV0tdFsxXX1mdW5jdGlvbiBUZShuLHQsZSl7cmV0dXJuKGVbMF0tdFswXSkqKG5bMV0tdFsxXSk8KGVbMV0tdFsxXSkqKG5bMF0tdFswXSl9ZnVuY3Rpb24gUmUobix0LGUscil7dmFyIHU9blswXSxpPWVbMF0sYT10WzBdLXUsbz1yWzBdLWksbD1uWzFdLGM9ZVsxXSxzPXRbMV0tbCxmPXJbMV0tYyxoPShvKihsLWMpLWYqKHUtaSkpLyhmKmEtbypzKTtyZXR1cm5bdStoKmEsbCtoKnNdfWZ1bmN0aW9uIERlKG4pe3ZhciB0PW5bMF0sZT1uW24ubGVuZ3RoLTFdO3JldHVybiEodFswXS1lWzBdfHx0WzFdLWVbMV0pfWZ1bmN0aW9uIFBlKCl7cnIodGhpcyksdGhpcy5lZGdlPXRoaXMuc2l0ZT10aGlzLmNpcmNsZT1udWxsfWZ1bmN0aW9uIFVlKG4pe3ZhciB0PWNsLnBvcCgpfHxuZXcgUGU7cmV0dXJuIHQuc2l0ZT1uLHR9ZnVuY3Rpb24gamUobil7QmUobiksYWwucmVtb3ZlKG4pLGNsLnB1c2gobikscnIobil9ZnVuY3Rpb24gRmUobil7dmFyIHQ9bi5jaXJjbGUsZT10Lngscj10LmN5LHU9e3g6ZSx5OnJ9LGk9bi5QLGE9bi5OLG89W25dO2plKG4pO2Zvcih2YXIgbD1pO2wuY2lyY2xlJiZNYShlLWwuY2lyY2xlLngpPFBhJiZNYShyLWwuY2lyY2xlLmN5KTxQYTspaT1sLlAsby51bnNoaWZ0KGwpLGplKGwpLGw9aTtvLnVuc2hpZnQobCksQmUobCk7Zm9yKHZhciBjPWE7Yy5jaXJjbGUmJk1hKGUtYy5jaXJjbGUueCk8UGEmJk1hKHItYy5jaXJjbGUuY3kpPFBhOylhPWMuTixvLnB1c2goYyksamUoYyksYz1hO28ucHVzaChjKSxCZShjKTt2YXIgcyxmPW8ubGVuZ3RoO2ZvcihzPTE7Zj5zOysrcyljPW9bc10sbD1vW3MtMV0sbnIoYy5lZGdlLGwuc2l0ZSxjLnNpdGUsdSk7bD1vWzBdLGM9b1tmLTFdLGMuZWRnZT1LZShsLnNpdGUsYy5zaXRlLG51bGwsdSksJGUobCksJGUoYyl9ZnVuY3Rpb24gSGUobil7Zm9yKHZhciB0LGUscix1LGk9bi54LGE9bi55LG89YWwuXztvOylpZihyPU9lKG8sYSktaSxyPlBhKW89by5MO2Vsc2V7aWYodT1pLUllKG8sYSksISh1PlBhKSl7cj4tUGE/KHQ9by5QLGU9byk6dT4tUGE/KHQ9byxlPW8uTik6dD1lPW87YnJlYWt9aWYoIW8uUil7dD1vO2JyZWFrfW89by5SfXZhciBsPVVlKG4pO2lmKGFsLmluc2VydCh0LGwpLHR8fGUpe2lmKHQ9PT1lKXJldHVybiBCZSh0KSxlPVVlKHQuc2l0ZSksYWwuaW5zZXJ0KGwsZSksbC5lZGdlPWUuZWRnZT1LZSh0LnNpdGUsbC5zaXRlKSwkZSh0KSx2b2lkICRlKGUpO2lmKCFlKXJldHVybiB2b2lkKGwuZWRnZT1LZSh0LnNpdGUsbC5zaXRlKSk7QmUodCksQmUoZSk7dmFyIGM9dC5zaXRlLHM9Yy54LGY9Yy55LGg9bi54LXMsZz1uLnktZixwPWUuc2l0ZSx2PXAueC1zLGQ9cC55LWYsbT0yKihoKmQtZyp2KSx5PWgqaCtnKmcsTT12KnYrZCpkLHg9e3g6KGQqeS1nKk0pL20rcyx5OihoKk0tdip5KS9tK2Z9O25yKGUuZWRnZSxjLHAseCksbC5lZGdlPUtlKGMsbixudWxsLHgpLGUuZWRnZT1LZShuLHAsbnVsbCx4KSwkZSh0KSwkZShlKX19ZnVuY3Rpb24gT2Uobix0KXt2YXIgZT1uLnNpdGUscj1lLngsdT1lLnksaT11LXQ7aWYoIWkpcmV0dXJuIHI7dmFyIGE9bi5QO2lmKCFhKXJldHVybi0oMS8wKTtlPWEuc2l0ZTt2YXIgbz1lLngsbD1lLnksYz1sLXQ7aWYoIWMpcmV0dXJuIG87dmFyIHM9by1yLGY9MS9pLTEvYyxoPXMvYztyZXR1cm4gZj8oLWgrTWF0aC5zcXJ0KGgqaC0yKmYqKHMqcy8oLTIqYyktbCtjLzIrdS1pLzIpKSkvZityOihyK28pLzJ9ZnVuY3Rpb24gSWUobix0KXt2YXIgZT1uLk47aWYoZSlyZXR1cm4gT2UoZSx0KTt2YXIgcj1uLnNpdGU7cmV0dXJuIHIueT09PXQ/ci54OjEvMH1mdW5jdGlvbiBZZShuKXt0aGlzLnNpdGU9bix0aGlzLmVkZ2VzPVtdfWZ1bmN0aW9uIFplKG4pe2Zvcih2YXIgdCxlLHIsdSxpLGEsbyxsLGMscyxmPW5bMF1bMF0saD1uWzFdWzBdLGc9blswXVsxXSxwPW5bMV1bMV0sdj1pbCxkPXYubGVuZ3RoO2QtLTspaWYoaT12W2RdLGkmJmkucHJlcGFyZSgpKWZvcihvPWkuZWRnZXMsbD1vLmxlbmd0aCxhPTA7bD5hOylzPW9bYV0uZW5kKCkscj1zLngsdT1zLnksYz1vWysrYSVsXS5zdGFydCgpLHQ9Yy54LGU9Yy55LChNYShyLXQpPlBhfHxNYSh1LWUpPlBhKSYmKG8uc3BsaWNlKGEsMCxuZXcgdHIoUWUoaS5zaXRlLHMsTWEoci1mKTxQYSYmcC11PlBhP3t4OmYseTpNYSh0LWYpPFBhP2U6cH06TWEodS1wKTxQYSYmaC1yPlBhP3t4Ok1hKGUtcCk8UGE/dDpoLHk6cH06TWEoci1oKTxQYSYmdS1nPlBhP3t4OmgseTpNYSh0LWgpPFBhP2U6Z306TWEodS1nKTxQYSYmci1mPlBhP3t4Ok1hKGUtZyk8UGE/dDpmLHk6Z306bnVsbCksaS5zaXRlLG51bGwpKSwrK2wpfWZ1bmN0aW9uIFZlKG4sdCl7cmV0dXJuIHQuYW5nbGUtbi5hbmdsZX1mdW5jdGlvbiBYZSgpe3JyKHRoaXMpLHRoaXMueD10aGlzLnk9dGhpcy5hcmM9dGhpcy5zaXRlPXRoaXMuY3k9bnVsbH1mdW5jdGlvbiAkZShuKXt2YXIgdD1uLlAsZT1uLk47aWYodCYmZSl7dmFyIHI9dC5zaXRlLHU9bi5zaXRlLGk9ZS5zaXRlO2lmKHIhPT1pKXt2YXIgYT11Lngsbz11LnksbD1yLngtYSxjPXIueS1vLHM9aS54LWEsZj1pLnktbyxoPTIqKGwqZi1jKnMpO2lmKCEoaD49LVVhKSl7dmFyIGc9bCpsK2MqYyxwPXMqcytmKmYsdj0oZipnLWMqcCkvaCxkPShsKnAtcypnKS9oLGY9ZCtvLG09c2wucG9wKCl8fG5ldyBYZTttLmFyYz1uLG0uc2l0ZT11LG0ueD12K2EsbS55PWYrTWF0aC5zcXJ0KHYqditkKmQpLG0uY3k9ZixuLmNpcmNsZT1tO2Zvcih2YXIgeT1udWxsLE09bGwuXztNOylpZihtLnk8TS55fHxtLnk9PT1NLnkmJm0ueDw9TS54KXtpZighTS5MKXt5PU0uUDticmVha31NPU0uTH1lbHNle2lmKCFNLlIpe3k9TTticmVha31NPU0uUn1sbC5pbnNlcnQoeSxtKSx5fHwob2w9bSl9fX19ZnVuY3Rpb24gQmUobil7dmFyIHQ9bi5jaXJjbGU7dCYmKHQuUHx8KG9sPXQuTiksbGwucmVtb3ZlKHQpLHNsLnB1c2godCkscnIodCksbi5jaXJjbGU9bnVsbCl9ZnVuY3Rpb24gV2Uobil7Zm9yKHZhciB0LGU9dWwscj1ZdChuWzBdWzBdLG5bMF1bMV0sblsxXVswXSxuWzFdWzFdKSx1PWUubGVuZ3RoO3UtLTspdD1lW3VdLCghSmUodCxuKXx8IXIodCl8fE1hKHQuYS54LXQuYi54KTxQYSYmTWEodC5hLnktdC5iLnkpPFBhKSYmKHQuYT10LmI9bnVsbCxlLnNwbGljZSh1LDEpKX1mdW5jdGlvbiBKZShuLHQpe3ZhciBlPW4uYjtpZihlKXJldHVybiEwO3ZhciByLHUsaT1uLmEsYT10WzBdWzBdLG89dFsxXVswXSxsPXRbMF1bMV0sYz10WzFdWzFdLHM9bi5sLGY9bi5yLGg9cy54LGc9cy55LHA9Zi54LHY9Zi55LGQ9KGgrcCkvMixtPShnK3YpLzI7aWYodj09PWcpe2lmKGE+ZHx8ZD49bylyZXR1cm47aWYoaD5wKXtpZihpKXtpZihpLnk+PWMpcmV0dXJufWVsc2UgaT17eDpkLHk6bH07ZT17eDpkLHk6Y319ZWxzZXtpZihpKXtpZihpLnk8bClyZXR1cm59ZWxzZSBpPXt4OmQseTpjfTtlPXt4OmQseTpsfX19ZWxzZSBpZihyPShoLXApLyh2LWcpLHU9bS1yKmQsLTE+cnx8cj4xKWlmKGg+cCl7aWYoaSl7aWYoaS55Pj1jKXJldHVybn1lbHNlIGk9e3g6KGwtdSkvcix5Omx9O2U9e3g6KGMtdSkvcix5OmN9fWVsc2V7aWYoaSl7aWYoaS55PGwpcmV0dXJufWVsc2UgaT17eDooYy11KS9yLHk6Y307ZT17eDoobC11KS9yLHk6bH19ZWxzZSBpZih2Pmcpe2lmKGkpe2lmKGkueD49bylyZXR1cm59ZWxzZSBpPXt4OmEseTpyKmErdX07ZT17eDpvLHk6cipvK3V9fWVsc2V7aWYoaSl7aWYoaS54PGEpcmV0dXJufWVsc2UgaT17eDpvLHk6cipvK3V9O2U9e3g6YSx5OnIqYSt1fX1yZXR1cm4gbi5hPWksbi5iPWUsITB9ZnVuY3Rpb24gR2Uobix0KXt0aGlzLmw9bix0aGlzLnI9dCx0aGlzLmE9dGhpcy5iPW51bGx9ZnVuY3Rpb24gS2Uobix0LGUscil7dmFyIHU9bmV3IEdlKG4sdCk7cmV0dXJuIHVsLnB1c2godSksZSYmbnIodSxuLHQsZSksciYmbnIodSx0LG4sciksaWxbbi5pXS5lZGdlcy5wdXNoKG5ldyB0cih1LG4sdCkpLGlsW3QuaV0uZWRnZXMucHVzaChuZXcgdHIodSx0LG4pKSx1fWZ1bmN0aW9uIFFlKG4sdCxlKXt2YXIgcj1uZXcgR2UobixudWxsKTtyZXR1cm4gci5hPXQsci5iPWUsdWwucHVzaChyKSxyfWZ1bmN0aW9uIG5yKG4sdCxlLHIpe24uYXx8bi5iP24ubD09PWU/bi5iPXI6bi5hPXI6KG4uYT1yLG4ubD10LG4ucj1lKX1mdW5jdGlvbiB0cihuLHQsZSl7dmFyIHI9bi5hLHU9bi5iO3RoaXMuZWRnZT1uLHRoaXMuc2l0ZT10LHRoaXMuYW5nbGU9ZT9NYXRoLmF0YW4yKGUueS10LnksZS54LXQueCk6bi5sPT09dD9NYXRoLmF0YW4yKHUueC1yLngsci55LXUueSk6TWF0aC5hdGFuMihyLngtdS54LHUueS1yLnkpfWZ1bmN0aW9uIGVyKCl7dGhpcy5fPW51bGx9ZnVuY3Rpb24gcnIobil7bi5VPW4uQz1uLkw9bi5SPW4uUD1uLk49bnVsbH1mdW5jdGlvbiB1cihuLHQpe3ZhciBlPXQscj10LlIsdT1lLlU7dT91Lkw9PT1lP3UuTD1yOnUuUj1yOm4uXz1yLHIuVT11LGUuVT1yLGUuUj1yLkwsZS5SJiYoZS5SLlU9ZSksci5MPWV9ZnVuY3Rpb24gaXIobix0KXt2YXIgZT10LHI9dC5MLHU9ZS5VO3U/dS5MPT09ZT91Lkw9cjp1LlI9cjpuLl89cixyLlU9dSxlLlU9cixlLkw9ci5SLGUuTCYmKGUuTC5VPWUpLHIuUj1lfWZ1bmN0aW9uIGFyKG4pe2Zvcig7bi5MOyluPW4uTDtyZXR1cm4gbn1mdW5jdGlvbiBvcihuLHQpe3ZhciBlLHIsdSxpPW4uc29ydChscikucG9wKCk7Zm9yKHVsPVtdLGlsPW5ldyBBcnJheShuLmxlbmd0aCksYWw9bmV3IGVyLGxsPW5ldyBlcjs7KWlmKHU9b2wsaSYmKCF1fHxpLnk8dS55fHxpLnk9PT11LnkmJmkueDx1LngpKShpLnghPT1lfHxpLnkhPT1yKSYmKGlsW2kuaV09bmV3IFllKGkpLEhlKGkpLGU9aS54LHI9aS55KSxpPW4ucG9wKCk7ZWxzZXtpZighdSlicmVhaztGZSh1LmFyYyl9dCYmKFdlKHQpLFplKHQpKTt2YXIgYT17Y2VsbHM6aWwsZWRnZXM6dWx9O3JldHVybiBhbD1sbD11bD1pbD1udWxsLGF9ZnVuY3Rpb24gbHIobix0KXtyZXR1cm4gdC55LW4ueXx8dC54LW4ueH1mdW5jdGlvbiBjcihuLHQsZSl7cmV0dXJuKG4ueC1lLngpKih0Lnktbi55KS0obi54LXQueCkqKGUueS1uLnkpfWZ1bmN0aW9uIHNyKG4pe3JldHVybiBuLnh9ZnVuY3Rpb24gZnIobil7cmV0dXJuIG4ueX1mdW5jdGlvbiBocigpe3JldHVybntsZWFmOiEwLG5vZGVzOltdLHBvaW50Om51bGwseDpudWxsLHk6bnVsbH19ZnVuY3Rpb24gZ3Iobix0LGUscix1LGkpe2lmKCFuKHQsZSxyLHUsaSkpe3ZhciBhPS41KihlK3UpLG89LjUqKHIraSksbD10Lm5vZGVzO2xbMF0mJmdyKG4sbFswXSxlLHIsYSxvKSxsWzFdJiZncihuLGxbMV0sYSxyLHUsbyksbFsyXSYmZ3IobixsWzJdLGUsbyxhLGkpLGxbM10mJmdyKG4sbFszXSxhLG8sdSxpKX19ZnVuY3Rpb24gcHIobix0LGUscix1LGksYSl7dmFyIG8sbD0xLzA7cmV0dXJuIGZ1bmN0aW9uIGMobixzLGYsaCxnKXtpZighKHM+aXx8Zj5hfHxyPmh8fHU+Zykpe2lmKHA9bi5wb2ludCl7dmFyIHAsdj10LW4ueCxkPWUtbi55LG09dip2K2QqZDtpZihsPm0pe3ZhciB5PU1hdGguc3FydChsPW0pO3I9dC15LHU9ZS15LGk9dCt5LGE9ZSt5LG89cH19Zm9yKHZhciBNPW4ubm9kZXMseD0uNSoocytoKSxiPS41KihmK2cpLF89dD49eCx3PWU+PWIsUz13PDwxfF8saz1TKzQ7az5TOysrUylpZihuPU1bMyZTXSlzd2l0Y2goMyZTKXtjYXNlIDA6YyhuLHMsZix4LGIpO2JyZWFrO2Nhc2UgMTpjKG4seCxmLGgsYik7YnJlYWs7Y2FzZSAyOmMobixzLGIseCxnKTticmVhaztjYXNlIDM6YyhuLHgsYixoLGcpfX19KG4scix1LGksYSksb31mdW5jdGlvbiB2cihuLHQpe249b2EucmdiKG4pLHQ9b2EucmdiKHQpO3ZhciBlPW4ucixyPW4uZyx1PW4uYixpPXQuci1lLGE9dC5nLXIsbz10LmItdTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIiMiK2JuKE1hdGgucm91bmQoZStpKm4pKStibihNYXRoLnJvdW5kKHIrYSpuKSkrYm4oTWF0aC5yb3VuZCh1K28qbikpfX1mdW5jdGlvbiBkcihuLHQpe3ZhciBlLHI9e30sdT17fTtmb3IoZSBpbiBuKWUgaW4gdD9yW2VdPU1yKG5bZV0sdFtlXSk6dVtlXT1uW2VdO2ZvcihlIGluIHQpZSBpbiBufHwodVtlXT10W2VdKTtyZXR1cm4gZnVuY3Rpb24obil7Zm9yKGUgaW4gcil1W2VdPXJbZV0obik7cmV0dXJuIHV9fWZ1bmN0aW9uIG1yKG4sdCl7cmV0dXJuIG49K24sdD0rdCxmdW5jdGlvbihlKXtyZXR1cm4gbiooMS1lKSt0KmV9fWZ1bmN0aW9uIHlyKG4sdCl7dmFyIGUscix1LGk9aGwubGFzdEluZGV4PWdsLmxhc3RJbmRleD0wLGE9LTEsbz1bXSxsPVtdO2ZvcihuKz0iIix0Kz0iIjsoZT1obC5leGVjKG4pKSYmKHI9Z2wuZXhlYyh0KSk7KSh1PXIuaW5kZXgpPmkmJih1PXQuc2xpY2UoaSx1KSxvW2FdP29bYV0rPXU6b1srK2FdPXUpLChlPWVbMF0pPT09KHI9clswXSk/b1thXT9vW2FdKz1yOm9bKythXT1yOihvWysrYV09bnVsbCxsLnB1c2goe2k6YSx4Om1yKGUscil9KSksaT1nbC5sYXN0SW5kZXg7cmV0dXJuIGk8dC5sZW5ndGgmJih1PXQuc2xpY2UoaSksb1thXT9vW2FdKz11Om9bKythXT11KSxvLmxlbmd0aDwyP2xbMF0/KHQ9bFswXS54LGZ1bmN0aW9uKG4pe3JldHVybiB0KG4pKyIifSk6ZnVuY3Rpb24oKXtyZXR1cm4gdH06KHQ9bC5sZW5ndGgsZnVuY3Rpb24obil7Zm9yKHZhciBlLHI9MDt0PnI7KytyKW9bKGU9bFtyXSkuaV09ZS54KG4pO3JldHVybiBvLmpvaW4oIiIpfSl9ZnVuY3Rpb24gTXIobix0KXtmb3IodmFyIGUscj1vYS5pbnRlcnBvbGF0b3JzLmxlbmd0aDstLXI+PTAmJiEoZT1vYS5pbnRlcnBvbGF0b3JzW3JdKG4sdCkpOyk7cmV0dXJuIGV9ZnVuY3Rpb24geHIobix0KXt2YXIgZSxyPVtdLHU9W10saT1uLmxlbmd0aCxhPXQubGVuZ3RoLG89TWF0aC5taW4obi5sZW5ndGgsdC5sZW5ndGgpO2ZvcihlPTA7bz5lOysrZSlyLnB1c2goTXIobltlXSx0W2VdKSk7Zm9yKDtpPmU7KytlKXVbZV09bltlXTtmb3IoO2E+ZTsrK2UpdVtlXT10W2VdO3JldHVybiBmdW5jdGlvbihuKXtmb3IoZT0wO28+ZTsrK2UpdVtlXT1yW2VdKG4pO3JldHVybiB1fX1mdW5jdGlvbiBicihuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIDA+PXQ/MDp0Pj0xPzE6bih0KX19ZnVuY3Rpb24gX3Iobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiAxLW4oMS10KX19ZnVuY3Rpb24gd3Iobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybi41KiguNT50P24oMip0KToyLW4oMi0yKnQpKX19ZnVuY3Rpb24gU3Iobil7cmV0dXJuIG4qbn1mdW5jdGlvbiBrcihuKXtyZXR1cm4gbipuKm59ZnVuY3Rpb24gTnIobil7aWYoMD49bilyZXR1cm4gMDtpZihuPj0xKXJldHVybiAxO3ZhciB0PW4qbixlPXQqbjtyZXR1cm4gNCooLjU+bj9lOjMqKG4tdCkrZS0uNzUpfWZ1bmN0aW9uIEVyKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codCxuKX19ZnVuY3Rpb24gQXIobil7cmV0dXJuIDEtTWF0aC5jb3MobipPYSl9ZnVuY3Rpb24gQ3Iobil7cmV0dXJuIE1hdGgucG93KDIsMTAqKG4tMSkpfWZ1bmN0aW9uIHpyKG4pe3JldHVybiAxLU1hdGguc3FydCgxLW4qbil9ZnVuY3Rpb24gTHIobix0KXt2YXIgZTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYodD0uNDUpLGFyZ3VtZW50cy5sZW5ndGg/ZT10L0ZhKk1hdGguYXNpbigxL24pOihuPTEsZT10LzQpLGZ1bmN0aW9uKHIpe3JldHVybiAxK24qTWF0aC5wb3coMiwtMTAqcikqTWF0aC5zaW4oKHItZSkqRmEvdCl9fWZ1bmN0aW9uIHFyKG4pe3JldHVybiBufHwobj0xLjcwMTU4KSxmdW5jdGlvbih0KXtyZXR1cm4gdCp0KigobisxKSp0LW4pfX1mdW5jdGlvbiBUcihuKXtyZXR1cm4gMS8yLjc1Pm4/Ny41NjI1Km4qbjoyLzIuNzU+bj83LjU2MjUqKG4tPTEuNS8yLjc1KSpuKy43NToyLjUvMi43NT5uPzcuNTYyNSoobi09Mi4yNS8yLjc1KSpuKy45Mzc1OjcuNTYyNSoobi09Mi42MjUvMi43NSkqbisuOTg0Mzc1fWZ1bmN0aW9uIFJyKG4sdCl7bj1vYS5oY2wobiksdD1vYS5oY2wodCk7dmFyIGU9bi5oLHI9bi5jLHU9bi5sLGk9dC5oLWUsYT10LmMtcixvPXQubC11O3JldHVybiBpc05hTihhKSYmKGE9MCxyPWlzTmFOKHIpP3QuYzpyKSxpc05hTihpKT8oaT0wLGU9aXNOYU4oZSk/dC5oOmUpOmk+MTgwP2ktPTM2MDotMTgwPmkmJihpKz0zNjApLGZ1bmN0aW9uKG4pe3JldHVybiBmbihlK2kqbixyK2Eqbix1K28qbikrIiJ9fWZ1bmN0aW9uIERyKG4sdCl7bj1vYS5oc2wobiksdD1vYS5oc2wodCk7dmFyIGU9bi5oLHI9bi5zLHU9bi5sLGk9dC5oLWUsYT10LnMtcixvPXQubC11O3JldHVybiBpc05hTihhKSYmKGE9MCxyPWlzTmFOKHIpP3QuczpyKSxpc05hTihpKT8oaT0wLGU9aXNOYU4oZSk/dC5oOmUpOmk+MTgwP2ktPTM2MDotMTgwPmkmJihpKz0zNjApLGZ1bmN0aW9uKG4pe3JldHVybiBjbihlK2kqbixyK2Eqbix1K28qbikrIiJ9fWZ1bmN0aW9uIFByKG4sdCl7bj1vYS5sYWIobiksdD1vYS5sYWIodCk7dmFyIGU9bi5sLHI9bi5hLHU9bi5iLGk9dC5sLWUsYT10LmEtcixvPXQuYi11O3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZ24oZStpKm4scithKm4sdStvKm4pKyIifX1mdW5jdGlvbiBVcihuLHQpe3JldHVybiB0LT1uLGZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnJvdW5kKG4rdCplKX19ZnVuY3Rpb24ganIobil7dmFyIHQ9W24uYSxuLmJdLGU9W24uYyxuLmRdLHI9SHIodCksdT1Gcih0LGUpLGk9SHIoT3IoZSx0LC11KSl8fDA7dFswXSplWzFdPGVbMF0qdFsxXSYmKHRbMF0qPS0xLHRbMV0qPS0xLHIqPS0xLHUqPS0xKSx0aGlzLnJvdGF0ZT0ocj9NYXRoLmF0YW4yKHRbMV0sdFswXSk6TWF0aC5hdGFuMigtZVswXSxlWzFdKSkqWWEsdGhpcy50cmFuc2xhdGU9W24uZSxuLmZdLHRoaXMuc2NhbGU9W3IsaV0sdGhpcy5za2V3PWk/TWF0aC5hdGFuMih1LGkpKllhOjB9ZnVuY3Rpb24gRnIobix0KXtyZXR1cm4gblswXSp0WzBdK25bMV0qdFsxXX1mdW5jdGlvbiBIcihuKXt2YXIgdD1NYXRoLnNxcnQoRnIobixuKSk7cmV0dXJuIHQmJihuWzBdLz10LG5bMV0vPXQpLHR9ZnVuY3Rpb24gT3Iobix0LGUpe3JldHVybiBuWzBdKz1lKnRbMF0sblsxXSs9ZSp0WzFdLG59ZnVuY3Rpb24gSXIobil7cmV0dXJuIG4ubGVuZ3RoP24ucG9wKCkrIiwiOiIifWZ1bmN0aW9uIFlyKG4sdCxlLHIpe2lmKG5bMF0hPT10WzBdfHxuWzFdIT09dFsxXSl7dmFyIHU9ZS5wdXNoKCJ0cmFuc2xhdGUoIixudWxsLCIsIixudWxsLCIpIik7ci5wdXNoKHtpOnUtNCx4Om1yKG5bMF0sdFswXSl9LHtpOnUtMix4Om1yKG5bMV0sdFsxXSl9KX1lbHNlKHRbMF18fHRbMV0pJiZlLnB1c2goInRyYW5zbGF0ZSgiK3QrIikiKX1mdW5jdGlvbiBacihuLHQsZSxyKXtuIT09dD8obi10PjE4MD90Kz0zNjA6dC1uPjE4MCYmKG4rPTM2MCksci5wdXNoKHtpOmUucHVzaChJcihlKSsicm90YXRlKCIsbnVsbCwiKSIpLTIseDptcihuLHQpfSkpOnQmJmUucHVzaChJcihlKSsicm90YXRlKCIrdCsiKSIpfWZ1bmN0aW9uIFZyKG4sdCxlLHIpe24hPT10P3IucHVzaCh7aTplLnB1c2goSXIoZSkrInNrZXdYKCIsbnVsbCwiKSIpLTIseDptcihuLHQpfSk6dCYmZS5wdXNoKElyKGUpKyJza2V3WCgiK3QrIikiKX1mdW5jdGlvbiBYcihuLHQsZSxyKXtpZihuWzBdIT09dFswXXx8blsxXSE9PXRbMV0pe3ZhciB1PWUucHVzaChJcihlKSsic2NhbGUoIixudWxsLCIsIixudWxsLCIpIik7ci5wdXNoKHtpOnUtNCx4Om1yKG5bMF0sdFswXSl9LHtpOnUtMix4Om1yKG5bMV0sdFsxXSl9KX1lbHNlKDEhPT10WzBdfHwxIT09dFsxXSkmJmUucHVzaChJcihlKSsic2NhbGUoIit0KyIpIil9ZnVuY3Rpb24gJHIobix0KXt2YXIgZT1bXSxyPVtdO3JldHVybiBuPW9hLnRyYW5zZm9ybShuKSx0PW9hLnRyYW5zZm9ybSh0KSxZcihuLnRyYW5zbGF0ZSx0LnRyYW5zbGF0ZSxlLHIpLFpyKG4ucm90YXRlLHQucm90YXRlLGUsciksVnIobi5za2V3LHQuc2tldyxlLHIpLFhyKG4uc2NhbGUsdC5zY2FsZSxlLHIpLG49dD1udWxsLGZ1bmN0aW9uKG4pe2Zvcih2YXIgdCx1PS0xLGk9ci5sZW5ndGg7Kyt1PGk7KWVbKHQ9clt1XSkuaV09dC54KG4pO3JldHVybiBlLmpvaW4oIiIpfX1mdW5jdGlvbiBCcihuLHQpe3JldHVybiB0PSh0LT1uPStuKXx8MS90LGZ1bmN0aW9uKGUpe3JldHVybihlLW4pL3R9fWZ1bmN0aW9uIFdyKG4sdCl7cmV0dXJuIHQ9KHQtPW49K24pfHwxL3QsZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4oMSwoZS1uKS90KSl9fWZ1bmN0aW9uIEpyKG4pe2Zvcih2YXIgdD1uLnNvdXJjZSxlPW4udGFyZ2V0LHI9S3IodCxlKSx1PVt0XTt0IT09cjspdD10LnBhcmVudCx1LnB1c2godCk7Zm9yKHZhciBpPXUubGVuZ3RoO2UhPT1yOyl1LnNwbGljZShpLDAsZSksZT1lLnBhcmVudDtyZXR1cm4gdX1mdW5jdGlvbiBHcihuKXtmb3IodmFyIHQ9W10sZT1uLnBhcmVudDtudWxsIT1lOyl0LnB1c2gobiksbj1lLGU9ZS5wYXJlbnQ7cmV0dXJuIHQucHVzaChuKSx0fWZ1bmN0aW9uIEtyKG4sdCl7aWYobj09PXQpcmV0dXJuIG47Zm9yKHZhciBlPUdyKG4pLHI9R3IodCksdT1lLnBvcCgpLGk9ci5wb3AoKSxhPW51bGw7dT09PWk7KWE9dSx1PWUucG9wKCksaT1yLnBvcCgpO3JldHVybiBhfWZ1bmN0aW9uIFFyKG4pe24uZml4ZWR8PTJ9ZnVuY3Rpb24gbnUobil7bi5maXhlZCY9LTd9ZnVuY3Rpb24gdHUobil7bi5maXhlZHw9NCxuLnB4PW4ueCxuLnB5PW4ueX1mdW5jdGlvbiBldShuKXtuLmZpeGVkJj0tNX1mdW5jdGlvbiBydShuLHQsZSl7dmFyIHI9MCx1PTA7aWYobi5jaGFyZ2U9MCwhbi5sZWFmKWZvcih2YXIgaSxhPW4ubm9kZXMsbz1hLmxlbmd0aCxsPS0xOysrbDxvOylpPWFbbF0sbnVsbCE9aSYmKHJ1KGksdCxlKSxuLmNoYXJnZSs9aS5jaGFyZ2Uscis9aS5jaGFyZ2UqaS5jeCx1Kz1pLmNoYXJnZSppLmN5KTtpZihuLnBvaW50KXtuLmxlYWZ8fChuLnBvaW50LngrPU1hdGgucmFuZG9tKCktLjUsbi5wb2ludC55Kz1NYXRoLnJhbmRvbSgpLS41KTt2YXIgYz10KmVbbi5wb2ludC5pbmRleF07bi5jaGFyZ2UrPW4ucG9pbnRDaGFyZ2U9YyxyKz1jKm4ucG9pbnQueCx1Kz1jKm4ucG9pbnQueX1uLmN4PXIvbi5jaGFyZ2Usbi5jeT11L24uY2hhcmdlfWZ1bmN0aW9uIHV1KG4sdCl7cmV0dXJuIG9hLnJlYmluZChuLHQsInNvcnQiLCJjaGlsZHJlbiIsInZhbHVlIiksbi5ub2Rlcz1uLG4ubGlua3M9c3Usbn1mdW5jdGlvbiBpdShuLHQpe2Zvcih2YXIgZT1bbl07bnVsbCE9KG49ZS5wb3AoKSk7KWlmKHQobiksKHU9bi5jaGlsZHJlbikmJihyPXUubGVuZ3RoKSlmb3IodmFyIHIsdTstLXI+PTA7KWUucHVzaCh1W3JdKX1mdW5jdGlvbiBhdShuLHQpe2Zvcih2YXIgZT1bbl0scj1bXTtudWxsIT0obj1lLnBvcCgpKTspaWYoci5wdXNoKG4pLChpPW4uY2hpbGRyZW4pJiYodT1pLmxlbmd0aCkpZm9yKHZhciB1LGksYT0tMTsrK2E8dTspZS5wdXNoKGlbYV0pO2Zvcig7bnVsbCE9KG49ci5wb3AoKSk7KXQobil9ZnVuY3Rpb24gb3Uobil7cmV0dXJuIG4uY2hpbGRyZW59ZnVuY3Rpb24gbHUobil7cmV0dXJuIG4udmFsdWV9ZnVuY3Rpb24gY3Uobix0KXtyZXR1cm4gdC52YWx1ZS1uLnZhbHVlfWZ1bmN0aW9uIHN1KG4pe3JldHVybiBvYS5tZXJnZShuLm1hcChmdW5jdGlvbihuKXtyZXR1cm4obi5jaGlsZHJlbnx8W10pLm1hcChmdW5jdGlvbih0KXtyZXR1cm57c291cmNlOm4sdGFyZ2V0OnR9fSl9KSl9ZnVuY3Rpb24gZnUobil7cmV0dXJuIG4ueH1mdW5jdGlvbiBodShuKXtyZXR1cm4gbi55fWZ1bmN0aW9uIGd1KG4sdCxlKXtuLnkwPXQsbi55PWV9ZnVuY3Rpb24gcHUobil7cmV0dXJuIG9hLnJhbmdlKG4ubGVuZ3RoKX1mdW5jdGlvbiB2dShuKXtmb3IodmFyIHQ9LTEsZT1uWzBdLmxlbmd0aCxyPVtdOysrdDxlOylyW3RdPTA7cmV0dXJuIHJ9ZnVuY3Rpb24gZHUobil7Zm9yKHZhciB0LGU9MSxyPTAsdT1uWzBdWzFdLGk9bi5sZW5ndGg7aT5lOysrZSkodD1uW2VdWzFdKT51JiYocj1lLHU9dCk7cmV0dXJuIHJ9ZnVuY3Rpb24gbXUobil7cmV0dXJuIG4ucmVkdWNlKHl1LDApfWZ1bmN0aW9uIHl1KG4sdCl7cmV0dXJuIG4rdFsxXX1mdW5jdGlvbiBNdShuLHQpe3JldHVybiB4dShuLE1hdGguY2VpbChNYXRoLmxvZyh0Lmxlbmd0aCkvTWF0aC5MTjIrMSkpfWZ1bmN0aW9uIHh1KG4sdCl7Zm9yKHZhciBlPS0xLHI9K25bMF0sdT0oblsxXS1yKS90LGk9W107KytlPD10OylpW2VdPXUqZStyO3JldHVybiBpfWZ1bmN0aW9uIGJ1KG4pe3JldHVybltvYS5taW4obiksb2EubWF4KG4pXX1mdW5jdGlvbiBfdShuLHQpe3JldHVybiBuLnZhbHVlLXQudmFsdWV9ZnVuY3Rpb24gd3Uobix0KXt2YXIgZT1uLl9wYWNrX25leHQ7bi5fcGFja19uZXh0PXQsdC5fcGFja19wcmV2PW4sdC5fcGFja19uZXh0PWUsZS5fcGFja19wcmV2PXR9ZnVuY3Rpb24gU3Uobix0KXtuLl9wYWNrX25leHQ9dCx0Ll9wYWNrX3ByZXY9bn1mdW5jdGlvbiBrdShuLHQpe3ZhciBlPXQueC1uLngscj10Lnktbi55LHU9bi5yK3QucjtyZXR1cm4uOTk5KnUqdT5lKmUrcipyfWZ1bmN0aW9uIE51KG4pe2Z1bmN0aW9uIHQobil7cz1NYXRoLm1pbihuLngtbi5yLHMpLGY9TWF0aC5tYXgobi54K24ucixmKSxoPU1hdGgubWluKG4ueS1uLnIsaCksZz1NYXRoLm1heChuLnkrbi5yLGcpfWlmKChlPW4uY2hpbGRyZW4pJiYoYz1lLmxlbmd0aCkpe3ZhciBlLHIsdSxpLGEsbyxsLGMscz0xLzAsZj0tKDEvMCksaD0xLzAsZz0tKDEvMCk7aWYoZS5mb3JFYWNoKEV1KSxyPWVbMF0sci54PS1yLnIsci55PTAsdChyKSxjPjEmJih1PWVbMV0sdS54PXUucix1Lnk9MCx0KHUpLGM+MikpZm9yKGk9ZVsyXSx6dShyLHUsaSksdChpKSx3dShyLGkpLHIuX3BhY2tfcHJldj1pLHd1KGksdSksdT1yLl9wYWNrX25leHQsYT0zO2M+YTthKyspe3p1KHIsdSxpPWVbYV0pO3ZhciBwPTAsdj0xLGQ9MTtmb3Iobz11Ll9wYWNrX25leHQ7byE9PXU7bz1vLl9wYWNrX25leHQsdisrKWlmKGt1KG8saSkpe3A9MTticmVha31pZigxPT1wKWZvcihsPXIuX3BhY2tfcHJldjtsIT09by5fcGFja19wcmV2JiYha3UobCxpKTtsPWwuX3BhY2tfcHJldixkKyspO3A/KGQ+dnx8dj09ZCYmdS5yPHIucj9TdShyLHU9byk6U3Uocj1sLHUpLGEtLSk6KHd1KHIsaSksdT1pLHQoaSkpfXZhciBtPShzK2YpLzIseT0oaCtnKS8yLE09MDtmb3IoYT0wO2M+YTthKyspaT1lW2FdLGkueC09bSxpLnktPXksTT1NYXRoLm1heChNLGkucitNYXRoLnNxcnQoaS54KmkueCtpLnkqaS55KSk7bi5yPU0sZS5mb3JFYWNoKEF1KX19ZnVuY3Rpb24gRXUobil7bi5fcGFja19uZXh0PW4uX3BhY2tfcHJldj1ufWZ1bmN0aW9uIEF1KG4pe2RlbGV0ZSBuLl9wYWNrX25leHQsZGVsZXRlIG4uX3BhY2tfcHJldn1mdW5jdGlvbiBDdShuLHQsZSxyKXt2YXIgdT1uLmNoaWxkcmVuO2lmKG4ueD10Kz1yKm4ueCxuLnk9ZSs9cipuLnksbi5yKj1yLHUpZm9yKHZhciBpPS0xLGE9dS5sZW5ndGg7KytpPGE7KUN1KHVbaV0sdCxlLHIpfWZ1bmN0aW9uIHp1KG4sdCxlKXt2YXIgcj1uLnIrZS5yLHU9dC54LW4ueCxpPXQueS1uLnk7aWYociYmKHV8fGkpKXt2YXIgYT10LnIrZS5yLG89dSp1K2kqaTthKj1hLHIqPXI7dmFyIGw9LjUrKHItYSkvKDIqbyksYz1NYXRoLnNxcnQoTWF0aC5tYXgoMCwyKmEqKHIrbyktKHItPW8pKnItYSphKSkvKDIqbyk7ZS54PW4ueCtsKnUrYyppLGUueT1uLnkrbCppLWMqdX1lbHNlIGUueD1uLngrcixlLnk9bi55fWZ1bmN0aW9uIEx1KG4sdCl7cmV0dXJuIG4ucGFyZW50PT10LnBhcmVudD8xOjJ9ZnVuY3Rpb24gcXUobil7dmFyIHQ9bi5jaGlsZHJlbjtyZXR1cm4gdC5sZW5ndGg/dFswXTpuLnR9ZnVuY3Rpb24gVHUobil7dmFyIHQsZT1uLmNoaWxkcmVuO3JldHVybih0PWUubGVuZ3RoKT9lW3QtMV06bi50fWZ1bmN0aW9uIFJ1KG4sdCxlKXt2YXIgcj1lLyh0Lmktbi5pKTt0LmMtPXIsdC5zKz1lLG4uYys9cix0LnorPWUsdC5tKz1lfWZ1bmN0aW9uIER1KG4pe2Zvcih2YXIgdCxlPTAscj0wLHU9bi5jaGlsZHJlbixpPXUubGVuZ3RoOy0taT49MDspdD11W2ldLHQueis9ZSx0Lm0rPWUsZSs9dC5zKyhyKz10LmMpfWZ1bmN0aW9uIFB1KG4sdCxlKXtyZXR1cm4gbi5hLnBhcmVudD09PXQucGFyZW50P24uYTplfWZ1bmN0aW9uIFV1KG4pe3JldHVybiAxK29hLm1heChuLGZ1bmN0aW9uKG4pe3JldHVybiBuLnl9KX1mdW5jdGlvbiBqdShuKXtyZXR1cm4gbi5yZWR1Y2UoZnVuY3Rpb24obix0KXtyZXR1cm4gbit0Lnh9LDApL24ubGVuZ3RofWZ1bmN0aW9uIEZ1KG4pe3ZhciB0PW4uY2hpbGRyZW47cmV0dXJuIHQmJnQubGVuZ3RoP0Z1KHRbMF0pOm59ZnVuY3Rpb24gSHUobil7dmFyIHQsZT1uLmNoaWxkcmVuO3JldHVybiBlJiYodD1lLmxlbmd0aCk/SHUoZVt0LTFdKTpufWZ1bmN0aW9uIE91KG4pe3JldHVybnt4Om4ueCx5Om4ueSxkeDpuLmR4LGR5Om4uZHl9fWZ1bmN0aW9uIEl1KG4sdCl7dmFyIGU9bi54K3RbM10scj1uLnkrdFswXSx1PW4uZHgtdFsxXS10WzNdLGk9bi5keS10WzBdLXRbMl07cmV0dXJuIDA+dSYmKGUrPXUvMix1PTApLDA+aSYmKHIrPWkvMixpPTApLHt4OmUseTpyLGR4OnUsZHk6aX19ZnVuY3Rpb24gWXUobil7dmFyIHQ9blswXSxlPW5bbi5sZW5ndGgtMV07cmV0dXJuIGU+dD9bdCxlXTpbZSx0XX1mdW5jdGlvbiBadShuKXtyZXR1cm4gbi5yYW5nZUV4dGVudD9uLnJhbmdlRXh0ZW50KCk6WXUobi5yYW5nZSgpKX1mdW5jdGlvbiBWdShuLHQsZSxyKXt2YXIgdT1lKG5bMF0sblsxXSksaT1yKHRbMF0sdFsxXSk7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBpKHUobikpfX1mdW5jdGlvbiBYdShuLHQpe3ZhciBlLHI9MCx1PW4ubGVuZ3RoLTEsaT1uW3JdLGE9blt1XTtyZXR1cm4gaT5hJiYoZT1yLHI9dSx1PWUsZT1pLGk9YSxhPWUpLG5bcl09dC5mbG9vcihpKSxuW3VdPXQuY2VpbChhKSxufWZ1bmN0aW9uICR1KG4pe3JldHVybiBuP3tmbG9vcjpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5mbG9vcih0L24pKm59LGNlaWw6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguY2VpbCh0L24pKm59fTpTbH1mdW5jdGlvbiBCdShuLHQsZSxyKXt2YXIgdT1bXSxpPVtdLGE9MCxvPU1hdGgubWluKG4ubGVuZ3RoLHQubGVuZ3RoKS0xO2ZvcihuW29dPG5bMF0mJihuPW4uc2xpY2UoKS5yZXZlcnNlKCksdD10LnNsaWNlKCkucmV2ZXJzZSgpKTsrK2E8PW87KXUucHVzaChlKG5bYS0xXSxuW2FdKSksaS5wdXNoKHIodFthLTFdLHRbYV0pKTtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9b2EuYmlzZWN0KG4sdCwxLG8pLTE7cmV0dXJuIGlbZV0odVtlXSh0KSl9fWZ1bmN0aW9uIFd1KG4sdCxlLHIpe2Z1bmN0aW9uIHUoKXt2YXIgdT1NYXRoLm1pbihuLmxlbmd0aCx0Lmxlbmd0aCk+Mj9CdTpWdSxsPXI/V3I6QnI7cmV0dXJuIGE9dShuLHQsbCxlKSxvPXUodCxuLGwsTXIpLGl9ZnVuY3Rpb24gaShuKXtyZXR1cm4gYShuKX12YXIgYSxvO3JldHVybiBpLmludmVydD1mdW5jdGlvbihuKXtyZXR1cm4gbyhuKX0saS5kb21haW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49dC5tYXAoTnVtYmVyKSx1KCkpOm59LGkucmFuZ2U9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9bix1KCkpOnR9LGkucmFuZ2VSb3VuZD1mdW5jdGlvbihuKXtyZXR1cm4gaS5yYW5nZShuKS5pbnRlcnBvbGF0ZShVcil9LGkuY2xhbXA9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9bix1KCkpOnJ9LGkuaW50ZXJwb2xhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9bix1KCkpOmV9LGkudGlja3M9ZnVuY3Rpb24odCl7cmV0dXJuIFF1KG4sdCl9LGkudGlja0Zvcm1hdD1mdW5jdGlvbih0LGUpe3JldHVybiBuaShuLHQsZSl9LGkubmljZT1mdW5jdGlvbih0KXtyZXR1cm4gR3Uobix0KSx1KCl9LGkuY29weT1mdW5jdGlvbigpe3JldHVybiBXdShuLHQsZSxyKX0sdSgpfWZ1bmN0aW9uIEp1KG4sdCl7cmV0dXJuIG9hLnJlYmluZChuLHQsInJhbmdlIiwicmFuZ2VSb3VuZCIsImludGVycG9sYXRlIiwiY2xhbXAiKX1mdW5jdGlvbiBHdShuLHQpe3JldHVybiBYdShuLCR1KEt1KG4sdClbMl0pKSxYdShuLCR1KEt1KG4sdClbMl0pKSxufWZ1bmN0aW9uIEt1KG4sdCl7bnVsbD09dCYmKHQ9MTApO3ZhciBlPVl1KG4pLHI9ZVsxXS1lWzBdLHU9TWF0aC5wb3coMTAsTWF0aC5mbG9vcihNYXRoLmxvZyhyL3QpL01hdGguTE4xMCkpLGk9dC9yKnU7cmV0dXJuLjE1Pj1pP3UqPTEwOi4zNT49aT91Kj01Oi43NT49aSYmKHUqPTIpLGVbMF09TWF0aC5jZWlsKGVbMF0vdSkqdSxlWzFdPU1hdGguZmxvb3IoZVsxXS91KSp1Ky41KnUsZVsyXT11LGV9ZnVuY3Rpb24gUXUobix0KXtyZXR1cm4gb2EucmFuZ2UuYXBwbHkob2EsS3Uobix0KSl9ZnVuY3Rpb24gbmkobix0LGUpe3ZhciByPUt1KG4sdCk7aWYoZSl7dmFyIHU9Zm8uZXhlYyhlKTtpZih1LnNoaWZ0KCksInMiPT09dVs4XSl7dmFyIGk9b2EuZm9ybWF0UHJlZml4KE1hdGgubWF4KE1hKHJbMF0pLE1hKHJbMV0pKSk7cmV0dXJuIHVbN118fCh1WzddPSIuIit0aShpLnNjYWxlKHJbMl0pKSksdVs4XT0iZiIsZT1vYS5mb3JtYXQodS5qb2luKCIiKSksZnVuY3Rpb24obil7cmV0dXJuIGUoaS5zY2FsZShuKSkraS5zeW1ib2x9fXVbN118fCh1WzddPSIuIitlaSh1WzhdLHIpKSxlPXUuam9pbigiIil9ZWxzZSBlPSIsLiIrdGkoclsyXSkrImYiO3JldHVybiBvYS5mb3JtYXQoZSl9ZnVuY3Rpb24gdGkobil7cmV0dXJuLU1hdGguZmxvb3IoTWF0aC5sb2cobikvTWF0aC5MTjEwKy4wMSl9ZnVuY3Rpb24gZWkobix0KXt2YXIgZT10aSh0WzJdKTtyZXR1cm4gbiBpbiBrbD9NYXRoLmFicyhlLXRpKE1hdGgubWF4KE1hKHRbMF0pLE1hKHRbMV0pKSkpKyArKCJlIiE9PW4pOmUtMiooIiUiPT09bil9ZnVuY3Rpb24gcmkobix0LGUscil7ZnVuY3Rpb24gdShuKXtyZXR1cm4oZT9NYXRoLmxvZygwPm4/MDpuKTotTWF0aC5sb2cobj4wPzA6LW4pKS9NYXRoLmxvZyh0KX1mdW5jdGlvbiBpKG4pe3JldHVybiBlP01hdGgucG93KHQsbik6LU1hdGgucG93KHQsLW4pfWZ1bmN0aW9uIGEodCl7cmV0dXJuIG4odSh0KSl9cmV0dXJuIGEuaW52ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiBpKG4uaW52ZXJ0KHQpKX0sYS5kb21haW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9dFswXT49MCxuLmRvbWFpbigocj10Lm1hcChOdW1iZXIpKS5tYXAodSkpLGEpOnJ9LGEuYmFzZT1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD0rZSxuLmRvbWFpbihyLm1hcCh1KSksYSk6dH0sYS5uaWNlPWZ1bmN0aW9uKCl7dmFyIHQ9WHUoci5tYXAodSksZT9NYXRoOkVsKTtyZXR1cm4gbi5kb21haW4odCkscj10Lm1hcChpKSxhfSxhLnRpY2tzPWZ1bmN0aW9uKCl7dmFyIG49WXUociksYT1bXSxvPW5bMF0sbD1uWzFdLGM9TWF0aC5mbG9vcih1KG8pKSxzPU1hdGguY2VpbCh1KGwpKSxmPXQlMT8yOnQ7aWYoaXNGaW5pdGUocy1jKSl7aWYoZSl7Zm9yKDtzPmM7YysrKWZvcih2YXIgaD0xO2Y+aDtoKyspYS5wdXNoKGkoYykqaCk7YS5wdXNoKGkoYykpfWVsc2UgZm9yKGEucHVzaChpKGMpKTtjKys8czspZm9yKHZhciBoPWYtMTtoPjA7aC0tKWEucHVzaChpKGMpKmgpO2ZvcihjPTA7YVtjXTxvO2MrKyk7Zm9yKHM9YS5sZW5ndGg7YVtzLTFdPmw7cy0tKTthPWEuc2xpY2UoYyxzKX1yZXR1cm4gYX0sYS50aWNrRm9ybWF0PWZ1bmN0aW9uKG4sZSl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIE5sO2FyZ3VtZW50cy5sZW5ndGg8Mj9lPU5sOiJmdW5jdGlvbiIhPXR5cGVvZiBlJiYoZT1vYS5mb3JtYXQoZSkpO3ZhciByPU1hdGgubWF4KDEsdCpuL2EudGlja3MoKS5sZW5ndGgpO3JldHVybiBmdW5jdGlvbihuKXt2YXIgYT1uL2koTWF0aC5yb3VuZCh1KG4pKSk7cmV0dXJuIHQtLjU+YSp0JiYoYSo9dCkscj49YT9lKG4pOiIifX0sYS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIHJpKG4uY29weSgpLHQsZSxyKX0sSnUoYSxuKX1mdW5jdGlvbiB1aShuLHQsZSl7ZnVuY3Rpb24gcih0KXtyZXR1cm4gbih1KHQpKX12YXIgdT1paSh0KSxpPWlpKDEvdCk7cmV0dXJuIHIuaW52ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiBpKG4uaW52ZXJ0KHQpKX0sci5kb21haW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG4uZG9tYWluKChlPXQubWFwKE51bWJlcikpLm1hcCh1KSkscik6ZX0sci50aWNrcz1mdW5jdGlvbihuKXtyZXR1cm4gUXUoZSxuKX0sci50aWNrRm9ybWF0PWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG5pKGUsbix0KX0sci5uaWNlPWZ1bmN0aW9uKG4pe3JldHVybiByLmRvbWFpbihHdShlLG4pKX0sci5leHBvbmVudD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT1paSh0PWEpLGk9aWkoMS90KSxuLmRvbWFpbihlLm1hcCh1KSkscik6dH0sci5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIHVpKG4uY29weSgpLHQsZSl9LEp1KHIsbil9ZnVuY3Rpb24gaWkobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiAwPnQ/LU1hdGgucG93KC10LG4pOk1hdGgucG93KHQsbil9fWZ1bmN0aW9uIGFpKG4sdCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gaVsoKHUuZ2V0KGUpfHwoInJhbmdlIj09PXQudD91LnNldChlLG4ucHVzaChlKSk6TmFOKSktMSklaS5sZW5ndGhdfWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gb2EucmFuZ2Uobi5sZW5ndGgpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gdCtlKm59KX12YXIgdSxpLGE7cmV0dXJuIGUuZG9tYWluPWZ1bmN0aW9uKHIpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiBuO249W10sdT1uZXcgYztmb3IodmFyIGksYT0tMSxvPXIubGVuZ3RoOysrYTxvOyl1LmhhcyhpPXJbYV0pfHx1LnNldChpLG4ucHVzaChpKSk7cmV0dXJuIGVbdC50XS5hcHBseShlLHQuYSl9LGUucmFuZ2U9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9bixhPTAsdD17dDoicmFuZ2UiLGE6YXJndW1lbnRzfSxlKTppfSxlLnJhbmdlUG9pbnRzPWZ1bmN0aW9uKHUsbyl7YXJndW1lbnRzLmxlbmd0aDwyJiYobz0wKTt2YXIgbD11WzBdLGM9dVsxXSxzPW4ubGVuZ3RoPDI/KGw9KGwrYykvMiwwKTooYy1sKS8obi5sZW5ndGgtMStvKTtyZXR1cm4gaT1yKGwrcypvLzIscyksYT0wLHQ9e3Q6InJhbmdlUG9pbnRzIixhOmFyZ3VtZW50c30sZX0sZS5yYW5nZVJvdW5kUG9pbnRzPWZ1bmN0aW9uKHUsbyl7YXJndW1lbnRzLmxlbmd0aDwyJiYobz0wKTt2YXIgbD11WzBdLGM9dVsxXSxzPW4ubGVuZ3RoPDI/KGw9Yz1NYXRoLnJvdW5kKChsK2MpLzIpLDApOihjLWwpLyhuLmxlbmd0aC0xK28pfDA7cmV0dXJuIGk9cihsK01hdGgucm91bmQocypvLzIrKGMtbC0obi5sZW5ndGgtMStvKSpzKS8yKSxzKSxhPTAsdD17dDoicmFuZ2VSb3VuZFBvaW50cyIsYTphcmd1bWVudHN9LGV9LGUucmFuZ2VCYW5kcz1mdW5jdGlvbih1LG8sbCl7YXJndW1lbnRzLmxlbmd0aDwyJiYobz0wKSxhcmd1bWVudHMubGVuZ3RoPDMmJihsPW8pO3ZhciBjPXVbMV08dVswXSxzPXVbYy0wXSxmPXVbMS1jXSxoPShmLXMpLyhuLmxlbmd0aC1vKzIqbCk7cmV0dXJuIGk9cihzK2gqbCxoKSxjJiZpLnJldmVyc2UoKSxhPWgqKDEtbyksdD17dDoicmFuZ2VCYW5kcyIsYTphcmd1bWVudHN9LGV9LGUucmFuZ2VSb3VuZEJhbmRzPWZ1bmN0aW9uKHUsbyxsKXthcmd1bWVudHMubGVuZ3RoPDImJihvPTApLGFyZ3VtZW50cy5sZW5ndGg8MyYmKGw9byk7dmFyIGM9dVsxXTx1WzBdLHM9dVtjLTBdLGY9dVsxLWNdLGg9TWF0aC5mbG9vcigoZi1zKS8obi5sZW5ndGgtbysyKmwpKTtyZXR1cm4gaT1yKHMrTWF0aC5yb3VuZCgoZi1zLShuLmxlbmd0aC1vKSpoKS8yKSxoKSxjJiZpLnJldmVyc2UoKSxhPU1hdGgucm91bmQoaCooMS1vKSksdD17dDoicmFuZ2VSb3VuZEJhbmRzIixhOmFyZ3VtZW50c30sZX0sZS5yYW5nZUJhbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gYX0sZS5yYW5nZUV4dGVudD1mdW5jdGlvbigpe3JldHVybiBZdSh0LmFbMF0pfSxlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gYWkobix0KX0sZS5kb21haW4obil9ZnVuY3Rpb24gb2kobix0KXtmdW5jdGlvbiBpKCl7dmFyIGU9MCxyPXQubGVuZ3RoO2ZvcihvPVtdOysrZTxyOylvW2UtMV09b2EucXVhbnRpbGUobixlL3IpO3JldHVybiBhfWZ1bmN0aW9uIGEobil7cmV0dXJuIGlzTmFOKG49K24pP3ZvaWQgMDp0W29hLmJpc2VjdChvLG4pXX12YXIgbztyZXR1cm4gYS5kb21haW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49dC5tYXAocikuZmlsdGVyKHUpLnNvcnQoZSksaSgpKTpufSxhLnJhbmdlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PW4saSgpKTp0fSxhLnF1YW50aWxlcz1mdW5jdGlvbigpe3JldHVybiBvfSxhLmludmVydEV4dGVudD1mdW5jdGlvbihlKXtyZXR1cm4gZT10LmluZGV4T2YoZSksMD5lP1tOYU4sTmFOXTpbZT4wP29bZS0xXTpuWzBdLGU8by5sZW5ndGg/b1tlXTpuW24ubGVuZ3RoLTFdXX0sYS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIG9pKG4sdCl9LGkoKX1mdW5jdGlvbiBsaShuLHQsZSl7ZnVuY3Rpb24gcih0KXtyZXR1cm4gZVtNYXRoLm1heCgwLE1hdGgubWluKGEsTWF0aC5mbG9vcihpKih0LW4pKSkpXX1mdW5jdGlvbiB1KCl7cmV0dXJuIGk9ZS5sZW5ndGgvKHQtbiksYT1lLmxlbmd0aC0xLHJ9dmFyIGksYTtyZXR1cm4gci5kb21haW49ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49K2VbMF0sdD0rZVtlLmxlbmd0aC0xXSx1KCkpOltuLHRdfSxyLnJhbmdlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPW4sdSgpKTplfSxyLmludmVydEV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gdD1lLmluZGV4T2YodCksdD0wPnQ/TmFOOnQvaStuLFt0LHQrMS9pXX0sci5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIGxpKG4sdCxlKX0sdSgpfWZ1bmN0aW9uIGNpKG4sdCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gZT49ZT90W29hLmJpc2VjdChuLGUpXTp2b2lkIDB9cmV0dXJuIGUuZG9tYWluPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPXQsZSk6bn0sZS5yYW5nZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1uLGUpOnR9LGUuaW52ZXJ0RXh0ZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlPXQuaW5kZXhPZihlKSxbbltlLTFdLG5bZV1dfSxlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gY2kobix0KX0sZX1mdW5jdGlvbiBzaShuKXtmdW5jdGlvbiB0KG4pe3JldHVybitufXJldHVybiB0LmludmVydD10LHQuZG9tYWluPXQucmFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49ZS5tYXAodCksdCk6bn0sdC50aWNrcz1mdW5jdGlvbih0KXtyZXR1cm4gUXUobix0KX0sdC50aWNrRm9ybWF0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5pKG4sdCxlKX0sdC5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIHNpKG4pfSx0fWZ1bmN0aW9uIGZpKCl7cmV0dXJuIDB9ZnVuY3Rpb24gaGkobil7cmV0dXJuIG4uaW5uZXJSYWRpdXN9ZnVuY3Rpb24gZ2kobil7cmV0dXJuIG4ub3V0ZXJSYWRpdXN9ZnVuY3Rpb24gcGkobil7cmV0dXJuIG4uc3RhcnRBbmdsZX1mdW5jdGlvbiB2aShuKXtyZXR1cm4gbi5lbmRBbmdsZX1mdW5jdGlvbiBkaShuKXtyZXR1cm4gbiYmbi5wYWRBbmdsZX1mdW5jdGlvbiBtaShuLHQsZSxyKXtyZXR1cm4obi1lKSp0LSh0LXIpKm4+MD8wOjF9ZnVuY3Rpb24geWkobix0LGUscix1KXt2YXIgaT1uWzBdLXRbMF0sYT1uWzFdLXRbMV0sbz0odT9yOi1yKS9NYXRoLnNxcnQoaSppK2EqYSksbD1vKmEsYz0tbyppLHM9blswXStsLGY9blsxXStjLGg9dFswXStsLGc9dFsxXStjLHA9KHMraCkvMix2PShmK2cpLzIsZD1oLXMsbT1nLWYseT1kKmQrbSptLE09ZS1yLHg9cypnLWgqZixiPSgwPm0/LTE6MSkqTWF0aC5zcXJ0KE1hdGgubWF4KDAsTSpNKnkteCp4KSksXz0oeCptLWQqYikveSx3PSgteCpkLW0qYikveSxTPSh4Km0rZCpiKS95LGs9KC14KmQrbSpiKS95LE49Xy1wLEU9dy12LEE9Uy1wLEM9ay12O3JldHVybiBOKk4rRSpFPkEqQStDKkMmJihfPVMsdz1rKSxbW18tbCx3LWNdLFtfKmUvTSx3KmUvTV1dfWZ1bmN0aW9uIE1pKG4pe2Z1bmN0aW9uIHQodCl7ZnVuY3Rpb24gYSgpe2MucHVzaCgiTSIsaShuKHMpLG8pKX1mb3IodmFyIGwsYz1bXSxzPVtdLGY9LTEsaD10Lmxlbmd0aCxnPUVuKGUpLHA9RW4ocik7KytmPGg7KXUuY2FsbCh0aGlzLGw9dFtmXSxmKT9zLnB1c2goWytnLmNhbGwodGhpcyxsLGYpLCtwLmNhbGwodGhpcyxsLGYpXSk6cy5sZW5ndGgmJihhKCkscz1bXSk7cmV0dXJuIHMubGVuZ3RoJiZhKCksYy5sZW5ndGg/Yy5qb2luKCIiKTpudWxsfXZhciBlPUNlLHI9emUsdT16dCxpPXhpLGE9aS5rZXksbz0uNztyZXR1cm4gdC54PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPW4sdCk6ZX0sdC55PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPW4sdCk6cn0sdC5kZWZpbmVkPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PW4sdCk6dX0sdC5pbnRlcnBvbGF0ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT0iZnVuY3Rpb24iPT10eXBlb2Ygbj9pPW46KGk9VGwuZ2V0KG4pfHx4aSkua2V5LHQpOmF9LHQudGVuc2lvbj1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz1uLHQpOm99LHR9ZnVuY3Rpb24geGkobil7cmV0dXJuIG4ubGVuZ3RoPjE/bi5qb2luKCJMIik6bisiWiJ9ZnVuY3Rpb24gYmkobil7cmV0dXJuIG4uam9pbigiTCIpKyJaIn1mdW5jdGlvbiBfaShuKXtmb3IodmFyIHQ9MCxlPW4ubGVuZ3RoLHI9blswXSx1PVtyWzBdLCIsIixyWzFdXTsrK3Q8ZTspdS5wdXNoKCJIIiwoclswXSsocj1uW3RdKVswXSkvMiwiViIsclsxXSk7cmV0dXJuIGU+MSYmdS5wdXNoKCJIIixyWzBdKSx1LmpvaW4oIiIpfWZ1bmN0aW9uIHdpKG4pe2Zvcih2YXIgdD0wLGU9bi5sZW5ndGgscj1uWzBdLHU9W3JbMF0sIiwiLHJbMV1dOysrdDxlOyl1LnB1c2goIlYiLChyPW5bdF0pWzFdLCJIIixyWzBdKTtyZXR1cm4gdS5qb2luKCIiKX1mdW5jdGlvbiBTaShuKXtmb3IodmFyIHQ9MCxlPW4ubGVuZ3RoLHI9blswXSx1PVtyWzBdLCIsIixyWzFdXTsrK3Q8ZTspdS5wdXNoKCJIIiwocj1uW3RdKVswXSwiViIsclsxXSk7cmV0dXJuIHUuam9pbigiIil9ZnVuY3Rpb24ga2kobix0KXtyZXR1cm4gbi5sZW5ndGg8ND94aShuKTpuWzFdK0FpKG4uc2xpY2UoMSwtMSksQ2kobix0KSl9ZnVuY3Rpb24gTmkobix0KXtyZXR1cm4gbi5sZW5ndGg8Mz9iaShuKTpuWzBdK0FpKChuLnB1c2goblswXSksbiksQ2koW25bbi5sZW5ndGgtMl1dLmNvbmNhdChuLFtuWzFdXSksdCkpfWZ1bmN0aW9uIEVpKG4sdCl7cmV0dXJuIG4ubGVuZ3RoPDM/eGkobik6blswXStBaShuLENpKG4sdCkpfWZ1bmN0aW9uIEFpKG4sdCl7aWYodC5sZW5ndGg8MXx8bi5sZW5ndGghPXQubGVuZ3RoJiZuLmxlbmd0aCE9dC5sZW5ndGgrMilyZXR1cm4geGkobik7dmFyIGU9bi5sZW5ndGghPXQubGVuZ3RoLHI9IiIsdT1uWzBdLGk9blsxXSxhPXRbMF0sbz1hLGw9MTtpZihlJiYocis9IlEiKyhpWzBdLTIqYVswXS8zKSsiLCIrKGlbMV0tMiphWzFdLzMpKyIsIitpWzBdKyIsIitpWzFdLHU9blsxXSxsPTIpLHQubGVuZ3RoPjEpe289dFsxXSxpPW5bbF0sbCsrLHIrPSJDIisodVswXSthWzBdKSsiLCIrKHVbMV0rYVsxXSkrIiwiKyhpWzBdLW9bMF0pKyIsIisoaVsxXS1vWzFdKSsiLCIraVswXSsiLCIraVsxXTtmb3IodmFyIGM9MjtjPHQubGVuZ3RoO2MrKyxsKyspaT1uW2xdLG89dFtjXSxyKz0iUyIrKGlbMF0tb1swXSkrIiwiKyhpWzFdLW9bMV0pKyIsIitpWzBdKyIsIitpWzFdfWlmKGUpe3ZhciBzPW5bbF07cis9IlEiKyhpWzBdKzIqb1swXS8zKSsiLCIrKGlbMV0rMipvWzFdLzMpKyIsIitzWzBdKyIsIitzWzFdfXJldHVybiByfWZ1bmN0aW9uIENpKG4sdCl7Zm9yKHZhciBlLHI9W10sdT0oMS10KS8yLGk9blswXSxhPW5bMV0sbz0xLGw9bi5sZW5ndGg7KytvPGw7KWU9aSxpPWEsYT1uW29dLHIucHVzaChbdSooYVswXS1lWzBdKSx1KihhWzFdLWVbMV0pXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gemkobil7aWYobi5sZW5ndGg8MylyZXR1cm4geGkobik7dmFyIHQ9MSxlPW4ubGVuZ3RoLHI9blswXSx1PXJbMF0saT1yWzFdLGE9W3UsdSx1LChyPW5bMV0pWzBdXSxvPVtpLGksaSxyWzFdXSxsPVt1LCIsIixpLCJMIixSaShQbCxhKSwiLCIsUmkoUGwsbyldO2ZvcihuLnB1c2gobltlLTFdKTsrK3Q8PWU7KXI9blt0XSxhLnNoaWZ0KCksYS5wdXNoKHJbMF0pLG8uc2hpZnQoKSxvLnB1c2goclsxXSksRGkobCxhLG8pO3JldHVybiBuLnBvcCgpLGwucHVzaCgiTCIsciksbC5qb2luKCIiKX1mdW5jdGlvbiBMaShuKXtpZihuLmxlbmd0aDw0KXJldHVybiB4aShuKTtmb3IodmFyIHQsZT1bXSxyPS0xLHU9bi5sZW5ndGgsaT1bMF0sYT1bMF07KytyPDM7KXQ9bltyXSxpLnB1c2godFswXSksYS5wdXNoKHRbMV0pO2ZvcihlLnB1c2goUmkoUGwsaSkrIiwiK1JpKFBsLGEpKSwtLXI7KytyPHU7KXQ9bltyXSxpLnNoaWZ0KCksaS5wdXNoKHRbMF0pLGEuc2hpZnQoKSxhLnB1c2godFsxXSksRGkoZSxpLGEpO3JldHVybiBlLmpvaW4oIiIpfWZ1bmN0aW9uIHFpKG4pe2Zvcih2YXIgdCxlLHI9LTEsdT1uLmxlbmd0aCxpPXUrNCxhPVtdLG89W107KytyPDQ7KWU9bltyJXVdLGEucHVzaChlWzBdKSxvLnB1c2goZVsxXSk7Zm9yKHQ9W1JpKFBsLGEpLCIsIixSaShQbCxvKV0sLS1yOysrcjxpOyllPW5bciV1XSxhLnNoaWZ0KCksYS5wdXNoKGVbMF0pLG8uc2hpZnQoKSxvLnB1c2goZVsxXSksRGkodCxhLG8pO3JldHVybiB0LmpvaW4oIiIpfWZ1bmN0aW9uIFRpKG4sdCl7dmFyIGU9bi5sZW5ndGgtMTtpZihlKWZvcih2YXIgcix1LGk9blswXVswXSxhPW5bMF1bMV0sbz1uW2VdWzBdLWksbD1uW2VdWzFdLWEsYz0tMTsrK2M8PWU7KXI9bltjXSx1PWMvZSxyWzBdPXQqclswXSsoMS10KSooaSt1Km8pLHJbMV09dCpyWzFdKygxLXQpKihhK3UqbCk7cmV0dXJuIHppKG4pfWZ1bmN0aW9uIFJpKG4sdCl7cmV0dXJuIG5bMF0qdFswXStuWzFdKnRbMV0rblsyXSp0WzJdK25bM10qdFszXX1mdW5jdGlvbiBEaShuLHQsZSl7bi5wdXNoKCJDIixSaShSbCx0KSwiLCIsUmkoUmwsZSksIiwiLFJpKERsLHQpLCIsIixSaShEbCxlKSwiLCIsUmkoUGwsdCksIiwiLFJpKFBsLGUpKX1mdW5jdGlvbiBQaShuLHQpe3JldHVybih0WzFdLW5bMV0pLyh0WzBdLW5bMF0pfWZ1bmN0aW9uIFVpKG4pe2Zvcih2YXIgdD0wLGU9bi5sZW5ndGgtMSxyPVtdLHU9blswXSxpPW5bMV0sYT1yWzBdPVBpKHUsaSk7Kyt0PGU7KXJbdF09KGErKGE9UGkodT1pLGk9blt0KzFdKSkpLzI7cmV0dXJuIHJbdF09YSxyfWZ1bmN0aW9uIGppKG4pe2Zvcih2YXIgdCxlLHIsdSxpPVtdLGE9VWkobiksbz0tMSxsPW4ubGVuZ3RoLTE7KytvPGw7KXQ9UGkobltvXSxuW28rMV0pLE1hKHQpPFBhP2Fbb109YVtvKzFdPTA6KGU9YVtvXS90LHI9YVtvKzFdL3QsdT1lKmUrcipyLHU+OSYmKHU9Myp0L01hdGguc3FydCh1KSxhW29dPXUqZSxhW28rMV09dSpyKSk7Zm9yKG89LTE7KytvPD1sOyl1PShuW01hdGgubWluKGwsbysxKV1bMF0tbltNYXRoLm1heCgwLG8tMSldWzBdKS8oNiooMSthW29dKmFbb10pKSxpLnB1c2goW3V8fDAsYVtvXSp1fHwwXSk7cmV0dXJuIGl9ZnVuY3Rpb24gRmkobil7cmV0dXJuIG4ubGVuZ3RoPDM/eGkobik6blswXStBaShuLGppKG4pKX1mdW5jdGlvbiBIaShuKXtmb3IodmFyIHQsZSxyLHU9LTEsaT1uLmxlbmd0aDsrK3U8aTspdD1uW3VdLGU9dFswXSxyPXRbMV0tT2EsdFswXT1lKk1hdGguY29zKHIpLHRbMV09ZSpNYXRoLnNpbihyKTtyZXR1cm4gbn1mdW5jdGlvbiBPaShuKXtmdW5jdGlvbiB0KHQpe2Z1bmN0aW9uIGwoKXt2LnB1c2goIk0iLG8obihtKSxmKSxzLGMobihkLnJldmVyc2UoKSksZiksIloiKX1mb3IodmFyIGgsZyxwLHY9W10sZD1bXSxtPVtdLHk9LTEsTT10Lmxlbmd0aCx4PUVuKGUpLGI9RW4odSksXz1lPT09cj9mdW5jdGlvbigpew0KcmV0dXJuIGd9OkVuKHIpLHc9dT09PWk/ZnVuY3Rpb24oKXtyZXR1cm4gcH06RW4oaSk7Kyt5PE07KWEuY2FsbCh0aGlzLGg9dFt5XSx5KT8oZC5wdXNoKFtnPSt4LmNhbGwodGhpcyxoLHkpLHA9K2IuY2FsbCh0aGlzLGgseSldKSxtLnB1c2goWytfLmNhbGwodGhpcyxoLHkpLCt3LmNhbGwodGhpcyxoLHkpXSkpOmQubGVuZ3RoJiYobCgpLGQ9W10sbT1bXSk7cmV0dXJuIGQubGVuZ3RoJiZsKCksdi5sZW5ndGg/di5qb2luKCIiKTpudWxsfXZhciBlPUNlLHI9Q2UsdT0wLGk9emUsYT16dCxvPXhpLGw9by5rZXksYz1vLHM9IkwiLGY9Ljc7cmV0dXJuIHQueD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT1yPW4sdCk6cn0sdC54MD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT1uLHQpOmV9LHQueDE9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9bix0KTpyfSx0Lnk9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9aT1uLHQpOml9LHQueTA9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9bix0KTp1fSx0LnkxPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPW4sdCk6aX0sdC5kZWZpbmVkPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPW4sdCk6YX0sdC5pbnRlcnBvbGF0ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD0iZnVuY3Rpb24iPT10eXBlb2Ygbj9vPW46KG89VGwuZ2V0KG4pfHx4aSkua2V5LGM9by5yZXZlcnNlfHxvLHM9by5jbG9zZWQ/Ik0iOiJMIix0KTpsfSx0LnRlbnNpb249ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9bix0KTpmfSx0fWZ1bmN0aW9uIElpKG4pe3JldHVybiBuLnJhZGl1c31mdW5jdGlvbiBZaShuKXtyZXR1cm5bbi54LG4ueV19ZnVuY3Rpb24gWmkobil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyksZT10WzBdLHI9dFsxXS1PYTtyZXR1cm5bZSpNYXRoLmNvcyhyKSxlKk1hdGguc2luKHIpXX19ZnVuY3Rpb24gVmkoKXtyZXR1cm4gNjR9ZnVuY3Rpb24gWGkoKXtyZXR1cm4iY2lyY2xlIn1mdW5jdGlvbiAkaShuKXt2YXIgdD1NYXRoLnNxcnQobi9qYSk7cmV0dXJuIk0wLCIrdCsiQSIrdCsiLCIrdCsiIDAgMSwxIDAsIistdCsiQSIrdCsiLCIrdCsiIDAgMSwxIDAsIit0KyJaIn1mdW5jdGlvbiBCaShuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdCxlLHI7KHQ9dGhpc1tuXSkmJihyPXRbZT10LmFjdGl2ZV0pJiYoci50aW1lci5jPW51bGwsci50aW1lci50PU5hTiwtLXQuY291bnQ/ZGVsZXRlIHRbZV06ZGVsZXRlIHRoaXNbbl0sdC5hY3RpdmUrPS41LHIuZXZlbnQmJnIuZXZlbnQuaW50ZXJydXB0LmNhbGwodGhpcyx0aGlzLl9fZGF0YV9fLHIuaW5kZXgpKX19ZnVuY3Rpb24gV2kobix0LGUpe3JldHVybiBTYShuLFlsKSxuLm5hbWVzcGFjZT10LG4uaWQ9ZSxufWZ1bmN0aW9uIEppKG4sdCxlLHIpe3ZhciB1PW4uaWQsaT1uLm5hbWVzcGFjZTtyZXR1cm4gWShuLCJmdW5jdGlvbiI9PXR5cGVvZiBlP2Z1bmN0aW9uKG4sYSxvKXtuW2ldW3VdLnR3ZWVuLnNldCh0LHIoZS5jYWxsKG4sbi5fX2RhdGFfXyxhLG8pKSl9OihlPXIoZSksZnVuY3Rpb24obil7bltpXVt1XS50d2Vlbi5zZXQodCxlKX0pKX1mdW5jdGlvbiBHaShuKXtyZXR1cm4gbnVsbD09biYmKG49IiIpLGZ1bmN0aW9uKCl7dGhpcy50ZXh0Q29udGVudD1ufX1mdW5jdGlvbiBLaShuKXtyZXR1cm4gbnVsbD09bj8iX190cmFuc2l0aW9uX18iOiJfX3RyYW5zaXRpb25fIituKyJfXyJ9ZnVuY3Rpb24gUWkobix0LGUscix1KXtmdW5jdGlvbiBpKG4pe3ZhciB0PXYuZGVsYXk7cmV0dXJuIHMudD10K2wsbj49dD9hKG4tdCk6dm9pZChzLmM9YSl9ZnVuY3Rpb24gYShlKXt2YXIgdT1wLmFjdGl2ZSxpPXBbdV07aSYmKGkudGltZXIuYz1udWxsLGkudGltZXIudD1OYU4sLS1wLmNvdW50LGRlbGV0ZSBwW3VdLGkuZXZlbnQmJmkuZXZlbnQuaW50ZXJydXB0LmNhbGwobixuLl9fZGF0YV9fLGkuaW5kZXgpKTtmb3IodmFyIGEgaW4gcClpZihyPithKXt2YXIgYz1wW2FdO2MudGltZXIuYz1udWxsLGMudGltZXIudD1OYU4sLS1wLmNvdW50LGRlbGV0ZSBwW2FdfXMuYz1vLHFuKGZ1bmN0aW9uKCl7cmV0dXJuIHMuYyYmbyhlfHwxKSYmKHMuYz1udWxsLHMudD1OYU4pLDF9LDAsbCkscC5hY3RpdmU9cix2LmV2ZW50JiZ2LmV2ZW50LnN0YXJ0LmNhbGwobixuLl9fZGF0YV9fLHQpLGc9W10sdi50d2Vlbi5mb3JFYWNoKGZ1bmN0aW9uKGUscil7KHI9ci5jYWxsKG4sbi5fX2RhdGFfXyx0KSkmJmcucHVzaChyKX0pLGg9di5lYXNlLGY9di5kdXJhdGlvbn1mdW5jdGlvbiBvKHUpe2Zvcih2YXIgaT11L2YsYT1oKGkpLG89Zy5sZW5ndGg7bz4wOylnWy0tb10uY2FsbChuLGEpO3JldHVybiBpPj0xPyh2LmV2ZW50JiZ2LmV2ZW50LmVuZC5jYWxsKG4sbi5fX2RhdGFfXyx0KSwtLXAuY291bnQ/ZGVsZXRlIHBbcl06ZGVsZXRlIG5bZV0sMSk6dm9pZCAwfXZhciBsLHMsZixoLGcscD1uW2VdfHwobltlXT17YWN0aXZlOjAsY291bnQ6MH0pLHY9cFtyXTt2fHwobD11LnRpbWUscz1xbihpLDAsbCksdj1wW3JdPXt0d2VlbjpuZXcgYyx0aW1lOmwsdGltZXI6cyxkZWxheTp1LmRlbGF5LGR1cmF0aW9uOnUuZHVyYXRpb24sZWFzZTp1LmVhc2UsaW5kZXg6dH0sdT1udWxsLCsrcC5jb3VudCl9ZnVuY3Rpb24gbmEobix0LGUpe24uYXR0cigidHJhbnNmb3JtIixmdW5jdGlvbihuKXt2YXIgcj10KG4pO3JldHVybiJ0cmFuc2xhdGUoIisoaXNGaW5pdGUocik/cjplKG4pKSsiLDApIn0pfWZ1bmN0aW9uIHRhKG4sdCxlKXtuLmF0dHIoInRyYW5zZm9ybSIsZnVuY3Rpb24obil7dmFyIHI9dChuKTtyZXR1cm4idHJhbnNsYXRlKDAsIisoaXNGaW5pdGUocik/cjplKG4pKSsiKSJ9KX1mdW5jdGlvbiBlYShuKXtyZXR1cm4gbi50b0lTT1N0cmluZygpfWZ1bmN0aW9uIHJhKG4sdCxlKXtmdW5jdGlvbiByKHQpe3JldHVybiBuKHQpfWZ1bmN0aW9uIHUobixlKXt2YXIgcj1uWzFdLW5bMF0sdT1yL2UsaT1vYS5iaXNlY3QoS2wsdSk7cmV0dXJuIGk9PUtsLmxlbmd0aD9bdC55ZWFyLEt1KG4ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBuLzMxNTM2ZTZ9KSxlKVsyXV06aT90W3UvS2xbaS0xXTxLbFtpXS91P2ktMTppXTpbdGMsS3UobixlKVsyXV19cmV0dXJuIHIuaW52ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB1YShuLmludmVydCh0KSl9LHIuZG9tYWluPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuLmRvbWFpbih0KSxyKTpuLmRvbWFpbigpLm1hcCh1YSl9LHIubmljZT1mdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIWlzTmFOKGUpJiYhbi5yYW5nZShlLHVhKCtlKzEpLHQpLmxlbmd0aH12YXIgaT1yLmRvbWFpbigpLGE9WXUoaSksbz1udWxsPT1uP3UoYSwxMCk6Im51bWJlciI9PXR5cGVvZiBuJiZ1KGEsbik7cmV0dXJuIG8mJihuPW9bMF0sdD1vWzFdKSxyLmRvbWFpbihYdShpLHQ+MT97Zmxvb3I6ZnVuY3Rpb24odCl7Zm9yKDtlKHQ9bi5mbG9vcih0KSk7KXQ9dWEodC0xKTtyZXR1cm4gdH0sY2VpbDpmdW5jdGlvbih0KXtmb3IoO2UodD1uLmNlaWwodCkpOyl0PXVhKCt0KzEpO3JldHVybiB0fX06bikpfSxyLnRpY2tzPWZ1bmN0aW9uKG4sdCl7dmFyIGU9WXUoci5kb21haW4oKSksaT1udWxsPT1uP3UoZSwxMCk6Im51bWJlciI9PXR5cGVvZiBuP3UoZSxuKTohbi5yYW5nZSYmW3tyYW5nZTpufSx0XTtyZXR1cm4gaSYmKG49aVswXSx0PWlbMV0pLG4ucmFuZ2UoZVswXSx1YSgrZVsxXSsxKSwxPnQ/MTp0KX0sci50aWNrRm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHIuY29weT1mdW5jdGlvbigpe3JldHVybiByYShuLmNvcHkoKSx0LGUpfSxKdShyLG4pfWZ1bmN0aW9uIHVhKG4pe3JldHVybiBuZXcgRGF0ZShuKX1mdW5jdGlvbiBpYShuKXtyZXR1cm4gSlNPTi5wYXJzZShuLnJlc3BvbnNlVGV4dCl9ZnVuY3Rpb24gYWEobil7dmFyIHQ9c2EuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gdC5zZWxlY3ROb2RlKHNhLmJvZHkpLHQuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KG4ucmVzcG9uc2VUZXh0KX12YXIgb2E9e3ZlcnNpb246IjMuNS4xNiJ9LGxhPVtdLnNsaWNlLGNhPWZ1bmN0aW9uKG4pe3JldHVybiBsYS5jYWxsKG4pfSxzYT10aGlzLmRvY3VtZW50O2lmKHNhKXRyeXtjYShzYS5kb2N1bWVudEVsZW1lbnQuY2hpbGROb2RlcylbMF0ubm9kZVR5cGV9Y2F0Y2goZmEpe2NhPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD1uLmxlbmd0aCxlPW5ldyBBcnJheSh0KTt0LS07KWVbdF09blt0XTtyZXR1cm4gZX19aWYoRGF0ZS5ub3d8fChEYXRlLm5vdz1mdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX0pLHNhKXRyeXtzYS5jcmVhdGVFbGVtZW50KCJESVYiKS5zdHlsZS5zZXRQcm9wZXJ0eSgib3BhY2l0eSIsMCwiIil9Y2F0Y2goaGEpe3ZhciBnYT10aGlzLkVsZW1lbnQucHJvdG90eXBlLHBhPWdhLnNldEF0dHJpYnV0ZSx2YT1nYS5zZXRBdHRyaWJ1dGVOUyxkYT10aGlzLkNTU1N0eWxlRGVjbGFyYXRpb24ucHJvdG90eXBlLG1hPWRhLnNldFByb3BlcnR5O2dhLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihuLHQpe3BhLmNhbGwodGhpcyxuLHQrIiIpfSxnYS5zZXRBdHRyaWJ1dGVOUz1mdW5jdGlvbihuLHQsZSl7dmEuY2FsbCh0aGlzLG4sdCxlKyIiKX0sZGEuc2V0UHJvcGVydHk9ZnVuY3Rpb24obix0LGUpe21hLmNhbGwodGhpcyxuLHQrIiIsZSl9fW9hLmFzY2VuZGluZz1lLG9hLmRlc2NlbmRpbmc9ZnVuY3Rpb24obix0KXtyZXR1cm4gbj50Py0xOnQ+bj8xOnQ+PW4/MDpOYU59LG9hLm1pbj1mdW5jdGlvbihuLHQpe3ZhciBlLHIsdT0tMSxpPW4ubGVuZ3RoO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IoOysrdTxpOylpZihudWxsIT0ocj1uW3VdKSYmcj49cil7ZT1yO2JyZWFrfWZvcig7Kyt1PGk7KW51bGwhPShyPW5bdV0pJiZlPnImJihlPXIpfWVsc2V7Zm9yKDsrK3U8aTspaWYobnVsbCE9KHI9dC5jYWxsKG4sblt1XSx1KSkmJnI+PXIpe2U9cjticmVha31mb3IoOysrdTxpOyludWxsIT0ocj10LmNhbGwobixuW3VdLHUpKSYmZT5yJiYoZT1yKX1yZXR1cm4gZX0sb2EubWF4PWZ1bmN0aW9uKG4sdCl7dmFyIGUscix1PS0xLGk9bi5sZW5ndGg7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcig7Kyt1PGk7KWlmKG51bGwhPShyPW5bdV0pJiZyPj1yKXtlPXI7YnJlYWt9Zm9yKDsrK3U8aTspbnVsbCE9KHI9blt1XSkmJnI+ZSYmKGU9cil9ZWxzZXtmb3IoOysrdTxpOylpZihudWxsIT0ocj10LmNhbGwobixuW3VdLHUpKSYmcj49cil7ZT1yO2JyZWFrfWZvcig7Kyt1PGk7KW51bGwhPShyPXQuY2FsbChuLG5bdV0sdSkpJiZyPmUmJihlPXIpfXJldHVybiBlfSxvYS5leHRlbnQ9ZnVuY3Rpb24obix0KXt2YXIgZSxyLHUsaT0tMSxhPW4ubGVuZ3RoO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IoOysraTxhOylpZihudWxsIT0ocj1uW2ldKSYmcj49cil7ZT11PXI7YnJlYWt9Zm9yKDsrK2k8YTspbnVsbCE9KHI9bltpXSkmJihlPnImJihlPXIpLHI+dSYmKHU9cikpfWVsc2V7Zm9yKDsrK2k8YTspaWYobnVsbCE9KHI9dC5jYWxsKG4sbltpXSxpKSkmJnI+PXIpe2U9dT1yO2JyZWFrfWZvcig7KytpPGE7KW51bGwhPShyPXQuY2FsbChuLG5baV0saSkpJiYoZT5yJiYoZT1yKSxyPnUmJih1PXIpKX1yZXR1cm5bZSx1XX0sb2Euc3VtPWZ1bmN0aW9uKG4sdCl7dmFyIGUscj0wLGk9bi5sZW5ndGgsYT0tMTtpZigxPT09YXJndW1lbnRzLmxlbmd0aClmb3IoOysrYTxpOyl1KGU9K25bYV0pJiYocis9ZSk7ZWxzZSBmb3IoOysrYTxpOyl1KGU9K3QuY2FsbChuLG5bYV0sYSkpJiYocis9ZSk7cmV0dXJuIHJ9LG9hLm1lYW49ZnVuY3Rpb24obix0KXt2YXIgZSxpPTAsYT1uLmxlbmd0aCxvPS0xLGw9YTtpZigxPT09YXJndW1lbnRzLmxlbmd0aClmb3IoOysrbzxhOyl1KGU9cihuW29dKSk/aSs9ZTotLWw7ZWxzZSBmb3IoOysrbzxhOyl1KGU9cih0LmNhbGwobixuW29dLG8pKSk/aSs9ZTotLWw7cmV0dXJuIGw/aS9sOnZvaWQgMH0sb2EucXVhbnRpbGU9ZnVuY3Rpb24obix0KXt2YXIgZT0obi5sZW5ndGgtMSkqdCsxLHI9TWF0aC5mbG9vcihlKSx1PStuW3ItMV0saT1lLXI7cmV0dXJuIGk/dStpKihuW3JdLXUpOnV9LG9hLm1lZGlhbj1mdW5jdGlvbihuLHQpe3ZhciBpLGE9W10sbz1uLmxlbmd0aCxsPS0xO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWZvcig7KytsPG87KXUoaT1yKG5bbF0pKSYmYS5wdXNoKGkpO2Vsc2UgZm9yKDsrK2w8bzspdShpPXIodC5jYWxsKG4sbltsXSxsKSkpJiZhLnB1c2goaSk7cmV0dXJuIGEubGVuZ3RoP29hLnF1YW50aWxlKGEuc29ydChlKSwuNSk6dm9pZCAwfSxvYS52YXJpYW5jZT1mdW5jdGlvbihuLHQpe3ZhciBlLGksYT1uLmxlbmd0aCxvPTAsbD0wLGM9LTEscz0wO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWZvcig7KytjPGE7KXUoZT1yKG5bY10pKSYmKGk9ZS1vLG8rPWkvKytzLGwrPWkqKGUtbykpO2Vsc2UgZm9yKDsrK2M8YTspdShlPXIodC5jYWxsKG4sbltjXSxjKSkpJiYoaT1lLW8sbys9aS8rK3MsbCs9aSooZS1vKSk7cmV0dXJuIHM+MT9sLyhzLTEpOnZvaWQgMH0sb2EuZGV2aWF0aW9uPWZ1bmN0aW9uKCl7dmFyIG49b2EudmFyaWFuY2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBuP01hdGguc3FydChuKTpufTt2YXIgeWE9aShlKTtvYS5iaXNlY3RMZWZ0PXlhLmxlZnQsb2EuYmlzZWN0PW9hLmJpc2VjdFJpZ2h0PXlhLnJpZ2h0LG9hLmJpc2VjdG9yPWZ1bmN0aW9uKG4pe3JldHVybiBpKDE9PT1uLmxlbmd0aD9mdW5jdGlvbih0LHIpe3JldHVybiBlKG4odCkscil9Om4pfSxvYS5zaHVmZmxlPWZ1bmN0aW9uKG4sdCxlKXsoaT1hcmd1bWVudHMubGVuZ3RoKTwzJiYoZT1uLmxlbmd0aCwyPmkmJih0PTApKTtmb3IodmFyIHIsdSxpPWUtdDtpOyl1PU1hdGgucmFuZG9tKCkqaS0tfDAscj1uW2krdF0sbltpK3RdPW5bdSt0XSxuW3UrdF09cjtyZXR1cm4gbn0sb2EucGVybXV0ZT1mdW5jdGlvbihuLHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxyPW5ldyBBcnJheShlKTtlLS07KXJbZV09blt0W2VdXTtyZXR1cm4gcn0sb2EucGFpcnM9ZnVuY3Rpb24obil7Zm9yKHZhciB0LGU9MCxyPW4ubGVuZ3RoLTEsdT1uWzBdLGk9bmV3IEFycmF5KDA+cj8wOnIpO3I+ZTspaVtlXT1bdD11LHU9blsrK2VdXTtyZXR1cm4gaX0sb2EudHJhbnNwb3NlPWZ1bmN0aW9uKG4pe2lmKCEodT1uLmxlbmd0aCkpcmV0dXJuW107Zm9yKHZhciB0PS0xLGU9b2EubWluKG4sYSkscj1uZXcgQXJyYXkoZSk7Kyt0PGU7KWZvcih2YXIgdSxpPS0xLG89clt0XT1uZXcgQXJyYXkodSk7KytpPHU7KW9baV09bltpXVt0XTtyZXR1cm4gcn0sb2EuemlwPWZ1bmN0aW9uKCl7cmV0dXJuIG9hLnRyYW5zcG9zZShhcmd1bWVudHMpfSxvYS5rZXlzPWZ1bmN0aW9uKG4pe3ZhciB0PVtdO2Zvcih2YXIgZSBpbiBuKXQucHVzaChlKTtyZXR1cm4gdH0sb2EudmFsdWVzPWZ1bmN0aW9uKG4pe3ZhciB0PVtdO2Zvcih2YXIgZSBpbiBuKXQucHVzaChuW2VdKTtyZXR1cm4gdH0sb2EuZW50cmllcz1mdW5jdGlvbihuKXt2YXIgdD1bXTtmb3IodmFyIGUgaW4gbil0LnB1c2goe2tleTplLHZhbHVlOm5bZV19KTtyZXR1cm4gdH0sb2EubWVyZ2U9ZnVuY3Rpb24obil7Zm9yKHZhciB0LGUscix1PW4ubGVuZ3RoLGk9LTEsYT0wOysraTx1OylhKz1uW2ldLmxlbmd0aDtmb3IoZT1uZXcgQXJyYXkoYSk7LS11Pj0wOylmb3Iocj1uW3VdLHQ9ci5sZW5ndGg7LS10Pj0wOyllWy0tYV09clt0XTtyZXR1cm4gZX07dmFyIE1hPU1hdGguYWJzO29hLnJhbmdlPWZ1bmN0aW9uKG4sdCxlKXtpZihhcmd1bWVudHMubGVuZ3RoPDMmJihlPTEsYXJndW1lbnRzLmxlbmd0aDwyJiYodD1uLG49MCkpLCh0LW4pL2U9PT0xLzApdGhyb3cgbmV3IEVycm9yKCJpbmZpbml0ZSByYW5nZSIpO3ZhciByLHU9W10saT1vKE1hKGUpKSxhPS0xO2lmKG4qPWksdCo9aSxlKj1pLDA+ZSlmb3IoOyhyPW4rZSorK2EpPnQ7KXUucHVzaChyL2kpO2Vsc2UgZm9yKDsocj1uK2UqKythKTx0Oyl1LnB1c2goci9pKTtyZXR1cm4gdX0sb2EubWFwPWZ1bmN0aW9uKG4sdCl7dmFyIGU9bmV3IGM7aWYobiBpbnN0YW5jZW9mIGMpbi5mb3JFYWNoKGZ1bmN0aW9uKG4sdCl7ZS5zZXQobix0KX0pO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShuKSl7dmFyIHIsdT0tMSxpPW4ubGVuZ3RoO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWZvcig7Kyt1PGk7KWUuc2V0KHUsblt1XSk7ZWxzZSBmb3IoOysrdTxpOyllLnNldCh0LmNhbGwobixyPW5bdV0sdSkscil9ZWxzZSBmb3IodmFyIGEgaW4gbillLnNldChhLG5bYV0pO3JldHVybiBlfTt2YXIgeGE9Il9fcHJvdG9fXyIsYmE9Ilx4MDAiO2woYyx7aGFzOmgsZ2V0OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9bcyhuKV19LHNldDpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl9bcyhuKV09dH0scmVtb3ZlOmcsa2V5czpwLHZhbHVlczpmdW5jdGlvbigpe3ZhciBuPVtdO2Zvcih2YXIgdCBpbiB0aGlzLl8pbi5wdXNoKHRoaXMuX1t0XSk7cmV0dXJuIG59LGVudHJpZXM6ZnVuY3Rpb24oKXt2YXIgbj1bXTtmb3IodmFyIHQgaW4gdGhpcy5fKW4ucHVzaCh7a2V5OmYodCksdmFsdWU6dGhpcy5fW3RdfSk7cmV0dXJuIG59LHNpemU6dixlbXB0eTpkLGZvckVhY2g6ZnVuY3Rpb24obil7Zm9yKHZhciB0IGluIHRoaXMuXyluLmNhbGwodGhpcyxmKHQpLHRoaXMuX1t0XSl9fSksb2EubmVzdD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4odCxhLG8pe2lmKG8+PWkubGVuZ3RoKXJldHVybiByP3IuY2FsbCh1LGEpOmU/YS5zb3J0KGUpOmE7Zm9yKHZhciBsLHMsZixoLGc9LTEscD1hLmxlbmd0aCx2PWlbbysrXSxkPW5ldyBjOysrZzxwOykoaD1kLmdldChsPXYocz1hW2ddKSkpP2gucHVzaChzKTpkLnNldChsLFtzXSk7cmV0dXJuIHQ/KHM9dCgpLGY9ZnVuY3Rpb24oZSxyKXtzLnNldChlLG4odCxyLG8pKX0pOihzPXt9LGY9ZnVuY3Rpb24oZSxyKXtzW2VdPW4odCxyLG8pfSksZC5mb3JFYWNoKGYpLHN9ZnVuY3Rpb24gdChuLGUpe2lmKGU+PWkubGVuZ3RoKXJldHVybiBuO3ZhciByPVtdLHU9YVtlKytdO3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24obix1KXtyLnB1c2goe2tleTpuLHZhbHVlczp0KHUsZSl9KX0pLHU/ci5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHUobi5rZXksdC5rZXkpfSk6cn12YXIgZSxyLHU9e30saT1bXSxhPVtdO3JldHVybiB1Lm1hcD1mdW5jdGlvbih0LGUpe3JldHVybiBuKGUsdCwwKX0sdS5lbnRyaWVzPWZ1bmN0aW9uKGUpe3JldHVybiB0KG4ob2EubWFwLGUsMCksMCl9LHUua2V5PWZ1bmN0aW9uKG4pe3JldHVybiBpLnB1c2gobiksdX0sdS5zb3J0S2V5cz1mdW5jdGlvbihuKXtyZXR1cm4gYVtpLmxlbmd0aC0xXT1uLHV9LHUuc29ydFZhbHVlcz1mdW5jdGlvbihuKXtyZXR1cm4gZT1uLHV9LHUucm9sbHVwPWZ1bmN0aW9uKG4pe3JldHVybiByPW4sdX0sdX0sb2Euc2V0PWZ1bmN0aW9uKG4pe3ZhciB0PW5ldyBtO2lmKG4pZm9yKHZhciBlPTAscj1uLmxlbmd0aDtyPmU7KytlKXQuYWRkKG5bZV0pO3JldHVybiB0fSxsKG0se2hhczpoLGFkZDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fW3Mobis9IiIpXT0hMCxufSxyZW1vdmU6Zyx2YWx1ZXM6cCxzaXplOnYsZW1wdHk6ZCxmb3JFYWNoOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiB0aGlzLl8pbi5jYWxsKHRoaXMsZih0KSl9fSksb2EuYmVoYXZpb3I9e30sb2EucmViaW5kPWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlLHI9MSx1PWFyZ3VtZW50cy5sZW5ndGg7KytyPHU7KW5bZT1hcmd1bWVudHNbcl1dPU0obix0LHRbZV0pO3JldHVybiBufTt2YXIgX2E9WyJ3ZWJraXQiLCJtcyIsIm1veiIsIk1veiIsIm8iLCJPIl07b2EuZGlzcGF0Y2g9ZnVuY3Rpb24oKXtmb3IodmFyIG49bmV3IF8sdD0tMSxlPWFyZ3VtZW50cy5sZW5ndGg7Kyt0PGU7KW5bYXJndW1lbnRzW3RdXT13KG4pO3JldHVybiBufSxfLnByb3RvdHlwZS5vbj1mdW5jdGlvbihuLHQpe3ZhciBlPW4uaW5kZXhPZigiLiIpLHI9IiI7aWYoZT49MCYmKHI9bi5zbGljZShlKzEpLG49bi5zbGljZSgwLGUpKSxuKXJldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/dGhpc1tuXS5vbihyKTp0aGlzW25dLm9uKHIsdCk7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKG51bGw9PXQpZm9yKG4gaW4gdGhpcyl0aGlzLmhhc093blByb3BlcnR5KG4pJiZ0aGlzW25dLm9uKHIsbnVsbCk7cmV0dXJuIHRoaXN9fSxvYS5ldmVudD1udWxsLG9hLnJlcXVvdGU9ZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZSh3YSwiXFwkJiIpfTt2YXIgd2E9L1tcXFxeXCRcKlwrXD9cfFxbXF1cKFwpXC5ce1x9XS9nLFNhPXt9Ll9fcHJvdG9fXz9mdW5jdGlvbihuLHQpe24uX19wcm90b19fPXR9OmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlIGluIHQpbltlXT10W2VdfSxrYT1mdW5jdGlvbihuLHQpe3JldHVybiB0LnF1ZXJ5U2VsZWN0b3Iobil9LE5hPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQucXVlcnlTZWxlY3RvckFsbChuKX0sRWE9ZnVuY3Rpb24obix0KXt2YXIgZT1uLm1hdGNoZXN8fG5beChuLCJtYXRjaGVzU2VsZWN0b3IiKV07cmV0dXJuKEVhPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGUuY2FsbChuLHQpfSkobix0KX07ImZ1bmN0aW9uIj09dHlwZW9mIFNpenpsZSYmKGthPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIFNpenpsZShuLHQpWzBdfHxudWxsfSxOYT1TaXp6bGUsRWE9U2l6emxlLm1hdGNoZXNTZWxlY3Rvciksb2Euc2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG9hLnNlbGVjdChzYS5kb2N1bWVudEVsZW1lbnQpfTt2YXIgQWE9b2Euc2VsZWN0aW9uLnByb3RvdHlwZT1bXTtBYS5zZWxlY3Q9ZnVuY3Rpb24obil7dmFyIHQsZSxyLHUsaT1bXTtuPUEobik7Zm9yKHZhciBhPS0xLG89dGhpcy5sZW5ndGg7KythPG87KXtpLnB1c2godD1bXSksdC5wYXJlbnROb2RlPShyPXRoaXNbYV0pLnBhcmVudE5vZGU7Zm9yKHZhciBsPS0xLGM9ci5sZW5ndGg7KytsPGM7KSh1PXJbbF0pPyh0LnB1c2goZT1uLmNhbGwodSx1Ll9fZGF0YV9fLGwsYSkpLGUmJiJfX2RhdGFfXyJpbiB1JiYoZS5fX2RhdGFfXz11Ll9fZGF0YV9fKSk6dC5wdXNoKG51bGwpfXJldHVybiBFKGkpfSxBYS5zZWxlY3RBbGw9ZnVuY3Rpb24obil7dmFyIHQsZSxyPVtdO249QyhuKTtmb3IodmFyIHU9LTEsaT10aGlzLmxlbmd0aDsrK3U8aTspZm9yKHZhciBhPXRoaXNbdV0sbz0tMSxsPWEubGVuZ3RoOysrbzxsOykoZT1hW29dKSYmKHIucHVzaCh0PWNhKG4uY2FsbChlLGUuX19kYXRhX18sbyx1KSkpLHQucGFyZW50Tm9kZT1lKTtyZXR1cm4gRShyKX07dmFyIENhPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIix6YT17c3ZnOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIseGh0bWw6Q2EseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhtbDoiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlIix4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy8ifTtvYS5ucz17cHJlZml4OnphLHF1YWxpZnk6ZnVuY3Rpb24obil7dmFyIHQ9bi5pbmRleE9mKCI6IiksZT1uO3JldHVybiB0Pj0wJiYieG1sbnMiIT09KGU9bi5zbGljZSgwLHQpKSYmKG49bi5zbGljZSh0KzEpKSx6YS5oYXNPd25Qcm9wZXJ0eShlKT97c3BhY2U6emFbZV0sbG9jYWw6bn06bn19LEFhLmF0dHI9ZnVuY3Rpb24obix0KXtpZihhcmd1bWVudHMubGVuZ3RoPDIpe2lmKCJzdHJpbmciPT10eXBlb2Ygbil7dmFyIGU9dGhpcy5ub2RlKCk7cmV0dXJuIG49b2EubnMucXVhbGlmeShuKSxuLmxvY2FsP2UuZ2V0QXR0cmlidXRlTlMobi5zcGFjZSxuLmxvY2FsKTplLmdldEF0dHJpYnV0ZShuKX1mb3IodCBpbiBuKXRoaXMuZWFjaCh6KHQsblt0XSkpO3JldHVybiB0aGlzfXJldHVybiB0aGlzLmVhY2goeihuLHQpKX0sQWEuY2xhc3NlZD1mdW5jdGlvbihuLHQpe2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil7aWYoInN0cmluZyI9PXR5cGVvZiBuKXt2YXIgZT10aGlzLm5vZGUoKSxyPShuPVQobikpLmxlbmd0aCx1PS0xO2lmKHQ9ZS5jbGFzc0xpc3Qpe2Zvcig7Kyt1PHI7KWlmKCF0LmNvbnRhaW5zKG5bdV0pKXJldHVybiExfWVsc2UgZm9yKHQ9ZS5nZXRBdHRyaWJ1dGUoImNsYXNzIik7Kyt1PHI7KWlmKCFxKG5bdV0pLnRlc3QodCkpcmV0dXJuITE7cmV0dXJuITB9Zm9yKHQgaW4gbil0aGlzLmVhY2goUih0LG5bdF0pKTtyZXR1cm4gdGhpc31yZXR1cm4gdGhpcy5lYWNoKFIobix0KSl9LEFhLnN0eWxlPWZ1bmN0aW9uKG4sZSxyKXt2YXIgdT1hcmd1bWVudHMubGVuZ3RoO2lmKDM+dSl7aWYoInN0cmluZyIhPXR5cGVvZiBuKXsyPnUmJihlPSIiKTtmb3IociBpbiBuKXRoaXMuZWFjaChQKHIsbltyXSxlKSk7cmV0dXJuIHRoaXN9aWYoMj51KXt2YXIgaT10aGlzLm5vZGUoKTtyZXR1cm4gdChpKS5nZXRDb21wdXRlZFN0eWxlKGksbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShuKX1yPSIifXJldHVybiB0aGlzLmVhY2goUChuLGUscikpfSxBYS5wcm9wZXJ0eT1mdW5jdGlvbihuLHQpe2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil7aWYoInN0cmluZyI9PXR5cGVvZiBuKXJldHVybiB0aGlzLm5vZGUoKVtuXTtmb3IodCBpbiBuKXRoaXMuZWFjaChVKHQsblt0XSkpO3JldHVybiB0aGlzfXJldHVybiB0aGlzLmVhY2goVShuLHQpKX0sQWEudGV4dD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLmVhY2goImZ1bmN0aW9uIj09dHlwZW9mIG4/ZnVuY3Rpb24oKXt2YXIgdD1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnRleHRDb250ZW50PW51bGw9PXQ/IiI6dH06bnVsbD09bj9mdW5jdGlvbigpe3RoaXMudGV4dENvbnRlbnQ9IiJ9OmZ1bmN0aW9uKCl7dGhpcy50ZXh0Q29udGVudD1ufSk6dGhpcy5ub2RlKCkudGV4dENvbnRlbnR9LEFhLmh0bWw9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5lYWNoKCJmdW5jdGlvbiI9PXR5cGVvZiBuP2Z1bmN0aW9uKCl7dmFyIHQ9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5pbm5lckhUTUw9bnVsbD09dD8iIjp0fTpudWxsPT1uP2Z1bmN0aW9uKCl7dGhpcy5pbm5lckhUTUw9IiJ9OmZ1bmN0aW9uKCl7dGhpcy5pbm5lckhUTUw9bn0pOnRoaXMubm9kZSgpLmlubmVySFRNTH0sQWEuYXBwZW5kPWZ1bmN0aW9uKG4pe3JldHVybiBuPWoobiksdGhpcy5zZWxlY3QoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcHBlbmRDaGlsZChuLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9KX0sQWEuaW5zZXJ0PWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49aihuKSx0PUEodCksdGhpcy5zZWxlY3QoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUobi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fG51bGwpfSl9LEFhLnJlbW92ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goRil9LEFhLmRhdGE9ZnVuY3Rpb24obix0KXtmdW5jdGlvbiBlKG4sZSl7dmFyIHIsdSxpLGE9bi5sZW5ndGgsZj1lLmxlbmd0aCxoPU1hdGgubWluKGEsZiksZz1uZXcgQXJyYXkoZikscD1uZXcgQXJyYXkoZiksdj1uZXcgQXJyYXkoYSk7aWYodCl7dmFyIGQsbT1uZXcgYyx5PW5ldyBBcnJheShhKTtmb3Iocj0tMTsrK3I8YTspKHU9bltyXSkmJihtLmhhcyhkPXQuY2FsbCh1LHUuX19kYXRhX18scikpP3Zbcl09dTptLnNldChkLHUpLHlbcl09ZCk7Zm9yKHI9LTE7KytyPGY7KSh1PW0uZ2V0KGQ9dC5jYWxsKGUsaT1lW3JdLHIpKSk/dSE9PSEwJiYoZ1tyXT11LHUuX19kYXRhX189aSk6cFtyXT1IKGkpLG0uc2V0KGQsITApO2ZvcihyPS0xOysrcjxhOylyIGluIHkmJm0uZ2V0KHlbcl0pIT09ITAmJih2W3JdPW5bcl0pfWVsc2V7Zm9yKHI9LTE7KytyPGg7KXU9bltyXSxpPWVbcl0sdT8odS5fX2RhdGFfXz1pLGdbcl09dSk6cFtyXT1IKGkpO2Zvcig7Zj5yOysrcilwW3JdPUgoZVtyXSk7Zm9yKDthPnI7KytyKXZbcl09bltyXX1wLnVwZGF0ZT1nLHAucGFyZW50Tm9kZT1nLnBhcmVudE5vZGU9di5wYXJlbnROb2RlPW4ucGFyZW50Tm9kZSxvLnB1c2gocCksbC5wdXNoKGcpLHMucHVzaCh2KX12YXIgcix1LGk9LTEsYT10aGlzLmxlbmd0aDtpZighYXJndW1lbnRzLmxlbmd0aCl7Zm9yKG49bmV3IEFycmF5KGE9KHI9dGhpc1swXSkubGVuZ3RoKTsrK2k8YTspKHU9cltpXSkmJihuW2ldPXUuX19kYXRhX18pO3JldHVybiBufXZhciBvPVooW10pLGw9RShbXSkscz1FKFtdKTtpZigiZnVuY3Rpb24iPT10eXBlb2Ygbilmb3IoOysraTxhOyllKHI9dGhpc1tpXSxuLmNhbGwocixyLnBhcmVudE5vZGUuX19kYXRhX18saSkpO2Vsc2UgZm9yKDsrK2k8YTspZShyPXRoaXNbaV0sbik7cmV0dXJuIGwuZW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gb30sbC5leGl0PWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGx9LEFhLmRhdHVtPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMucHJvcGVydHkoIl9fZGF0YV9fIixuKTp0aGlzLnByb3BlcnR5KCJfX2RhdGFfXyIpfSxBYS5maWx0ZXI9ZnVuY3Rpb24obil7dmFyIHQsZSxyLHU9W107ImZ1bmN0aW9uIiE9dHlwZW9mIG4mJihuPU8obikpO2Zvcih2YXIgaT0wLGE9dGhpcy5sZW5ndGg7YT5pO2krKyl7dS5wdXNoKHQ9W10pLHQucGFyZW50Tm9kZT0oZT10aGlzW2ldKS5wYXJlbnROb2RlO2Zvcih2YXIgbz0wLGw9ZS5sZW5ndGg7bD5vO28rKykocj1lW29dKSYmbi5jYWxsKHIsci5fX2RhdGFfXyxvLGkpJiZ0LnB1c2gocil9cmV0dXJuIEUodSl9LEFhLm9yZGVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBuPS0xLHQ9dGhpcy5sZW5ndGg7KytuPHQ7KWZvcih2YXIgZSxyPXRoaXNbbl0sdT1yLmxlbmd0aC0xLGk9clt1XTstLXU+PTA7KShlPXJbdV0pJiYoaSYmaSE9PWUubmV4dFNpYmxpbmcmJmkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSxpKSxpPWUpO3JldHVybiB0aGlzfSxBYS5zb3J0PWZ1bmN0aW9uKG4pe249SS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Zm9yKHZhciB0PS0xLGU9dGhpcy5sZW5ndGg7Kyt0PGU7KXRoaXNbdF0uc29ydChuKTtyZXR1cm4gdGhpcy5vcmRlcigpfSxBYS5lYWNoPWZ1bmN0aW9uKG4pe3JldHVybiBZKHRoaXMsZnVuY3Rpb24odCxlLHIpe24uY2FsbCh0LHQuX19kYXRhX18sZSxyKX0pfSxBYS5jYWxsPWZ1bmN0aW9uKG4pe3ZhciB0PWNhKGFyZ3VtZW50cyk7cmV0dXJuIG4uYXBwbHkodFswXT10aGlzLHQpLHRoaXN9LEFhLmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubm9kZSgpfSxBYS5ub2RlPWZ1bmN0aW9uKCl7Zm9yKHZhciBuPTAsdD10aGlzLmxlbmd0aDt0Pm47bisrKWZvcih2YXIgZT10aGlzW25dLHI9MCx1PWUubGVuZ3RoO3U+cjtyKyspe3ZhciBpPWVbcl07aWYoaSlyZXR1cm4gaX1yZXR1cm4gbnVsbH0sQWEuc2l6ZT1mdW5jdGlvbigpe3ZhciBuPTA7cmV0dXJuIFkodGhpcyxmdW5jdGlvbigpeysrbn0pLG59O3ZhciBMYT1bXTtvYS5zZWxlY3Rpb24uZW50ZXI9WixvYS5zZWxlY3Rpb24uZW50ZXIucHJvdG90eXBlPUxhLExhLmFwcGVuZD1BYS5hcHBlbmQsTGEuZW1wdHk9QWEuZW1wdHksTGEubm9kZT1BYS5ub2RlLExhLmNhbGw9QWEuY2FsbCxMYS5zaXplPUFhLnNpemUsTGEuc2VsZWN0PWZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxlLHIsdSxpLGE9W10sbz0tMSxsPXRoaXMubGVuZ3RoOysrbzxsOyl7cj0odT10aGlzW29dKS51cGRhdGUsYS5wdXNoKHQ9W10pLHQucGFyZW50Tm9kZT11LnBhcmVudE5vZGU7Zm9yKHZhciBjPS0xLHM9dS5sZW5ndGg7KytjPHM7KShpPXVbY10pPyh0LnB1c2gocltjXT1lPW4uY2FsbCh1LnBhcmVudE5vZGUsaS5fX2RhdGFfXyxjLG8pKSxlLl9fZGF0YV9fPWkuX19kYXRhX18pOnQucHVzaChudWxsKX1yZXR1cm4gRShhKX0sTGEuaW5zZXJ0PWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9Vih0aGlzKSksQWEuaW5zZXJ0LmNhbGwodGhpcyxuLHQpfSxvYS5zZWxlY3Q9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0PyhlPVtrYSh0LHNhKV0sZS5wYXJlbnROb2RlPXNhLmRvY3VtZW50RWxlbWVudCk6KGU9W3RdLGUucGFyZW50Tm9kZT1uKHQpKSxFKFtlXSl9LG9hLnNlbGVjdEFsbD1mdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIG4/KHQ9Y2EoTmEobixzYSkpLHQucGFyZW50Tm9kZT1zYS5kb2N1bWVudEVsZW1lbnQpOih0PWNhKG4pLHQucGFyZW50Tm9kZT1udWxsKSxFKFt0XSl9LEFhLm9uPWZ1bmN0aW9uKG4sdCxlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoO2lmKDM+cil7aWYoInN0cmluZyIhPXR5cGVvZiBuKXsyPnImJih0PSExKTtmb3IoZSBpbiBuKXRoaXMuZWFjaChYKGUsbltlXSx0KSk7cmV0dXJuIHRoaXN9aWYoMj5yKXJldHVybihyPXRoaXMubm9kZSgpWyJfX29uIituXSkmJnIuXztlPSExfXJldHVybiB0aGlzLmVhY2goWChuLHQsZSkpfTt2YXIgcWE9b2EubWFwKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0In0pO3NhJiZxYS5mb3JFYWNoKGZ1bmN0aW9uKG4peyJvbiIrbiBpbiBzYSYmcWEucmVtb3ZlKG4pfSk7dmFyIFRhLFJhPTA7b2EubW91c2U9ZnVuY3Rpb24obil7cmV0dXJuIEoobixrKCkpfTt2YXIgRGE9dGhpcy5uYXZpZ2F0b3ImJi9XZWJLaXQvLnRlc3QodGhpcy5uYXZpZ2F0b3IudXNlckFnZW50KT8tMTowO29hLnRvdWNoPWZ1bmN0aW9uKG4sdCxlKXtpZihhcmd1bWVudHMubGVuZ3RoPDMmJihlPXQsdD1rKCkuY2hhbmdlZFRvdWNoZXMpLHQpZm9yKHZhciByLHU9MCxpPXQubGVuZ3RoO2k+dTsrK3UpaWYoKHI9dFt1XSkuaWRlbnRpZmllcj09PWUpcmV0dXJuIEoobixyKX0sb2EuYmVoYXZpb3IuZHJhZz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt0aGlzLm9uKCJtb3VzZWRvd24uZHJhZyIsaSkub24oInRvdWNoc3RhcnQuZHJhZyIsYSl9ZnVuY3Rpb24gZShuLHQsZSxpLGEpe3JldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIG8oKXt2YXIgbixlLHI9dChoLHYpO3ImJihuPXJbMF0tTVswXSxlPXJbMV0tTVsxXSxwfD1ufGUsTT1yLGcoe3R5cGU6ImRyYWciLHg6clswXStjWzBdLHk6clsxXStjWzFdLGR4Om4sZHk6ZX0pKX1mdW5jdGlvbiBsKCl7dChoLHYpJiYobS5vbihpK2QsbnVsbCkub24oYStkLG51bGwpLHkocCksZyh7dHlwZToiZHJhZ2VuZCJ9KSl9dmFyIGMscz10aGlzLGY9b2EuZXZlbnQudGFyZ2V0LmNvcnJlc3BvbmRpbmdFbGVtZW50fHxvYS5ldmVudC50YXJnZXQsaD1zLnBhcmVudE5vZGUsZz1yLm9mKHMsYXJndW1lbnRzKSxwPTAsdj1uKCksZD0iLmRyYWciKyhudWxsPT12PyIiOiItIit2KSxtPW9hLnNlbGVjdChlKGYpKS5vbihpK2Qsbykub24oYStkLGwpLHk9VyhmKSxNPXQoaCx2KTt1PyhjPXUuYXBwbHkocyxhcmd1bWVudHMpLGM9W2MueC1NWzBdLGMueS1NWzFdXSk6Yz1bMCwwXSxnKHt0eXBlOiJkcmFnc3RhcnQifSl9fXZhciByPU4obiwiZHJhZyIsImRyYWdzdGFydCIsImRyYWdlbmQiKSx1PW51bGwsaT1lKGIsb2EubW91c2UsdCwibW91c2Vtb3ZlIiwibW91c2V1cCIpLGE9ZShHLG9hLnRvdWNoLHksInRvdWNobW92ZSIsInRvdWNoZW5kIik7cmV0dXJuIG4ub3JpZ2luPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PXQsbik6dX0sb2EucmViaW5kKG4sciwib24iKX0sb2EudG91Y2hlcz1mdW5jdGlvbihuLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJih0PWsoKS50b3VjaGVzKSx0P2NhKHQpLm1hcChmdW5jdGlvbih0KXt2YXIgZT1KKG4sdCk7cmV0dXJuIGUuaWRlbnRpZmllcj10LmlkZW50aWZpZXIsZX0pOltdfTt2YXIgUGE9MWUtNixVYT1QYSpQYSxqYT1NYXRoLlBJLEZhPTIqamEsSGE9RmEtUGEsT2E9amEvMixJYT1qYS8xODAsWWE9MTgwL2phLFphPU1hdGguU1FSVDIsVmE9MixYYT00O29hLmludGVycG9sYXRlWm9vbT1mdW5jdGlvbihuLHQpe3ZhciBlLHIsdT1uWzBdLGk9blsxXSxhPW5bMl0sbz10WzBdLGw9dFsxXSxjPXRbMl0scz1vLXUsZj1sLWksaD1zKnMrZipmO2lmKFVhPmgpcj1NYXRoLmxvZyhjL2EpL1phLGU9ZnVuY3Rpb24obil7cmV0dXJuW3UrbipzLGkrbipmLGEqTWF0aC5leHAoWmEqbipyKV19O2Vsc2V7dmFyIGc9TWF0aC5zcXJ0KGgpLHA9KGMqYy1hKmErWGEqaCkvKDIqYSpWYSpnKSx2PShjKmMtYSphLVhhKmgpLygyKmMqVmEqZyksZD1NYXRoLmxvZyhNYXRoLnNxcnQocCpwKzEpLXApLG09TWF0aC5sb2coTWF0aC5zcXJ0KHYqdisxKS12KTtyPShtLWQpL1phLGU9ZnVuY3Rpb24obil7dmFyIHQ9bipyLGU9cm4oZCksbz1hLyhWYSpnKSooZSp1bihaYSp0K2QpLWVuKGQpKTtyZXR1cm5bdStvKnMsaStvKmYsYSplL3JuKFphKnQrZCldfX1yZXR1cm4gZS5kdXJhdGlvbj0xZTMqcixlfSxvYS5iZWhhdmlvci56b29tPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtuLm9uKEwsZikub24oQmErIi56b29tIixnKS5vbigiZGJsY2xpY2suem9vbSIscCkub24oUixoKX1mdW5jdGlvbiBlKG4pe3JldHVyblsoblswXS1rLngpL2suaywoblsxXS1rLnkpL2sua119ZnVuY3Rpb24gcihuKXtyZXR1cm5bblswXSprLmsray54LG5bMV0qay5rK2sueV19ZnVuY3Rpb24gdShuKXtrLms9TWF0aC5tYXgoQVswXSxNYXRoLm1pbihBWzFdLG4pKX1mdW5jdGlvbiBpKG4sdCl7dD1yKHQpLGsueCs9blswXS10WzBdLGsueSs9blsxXS10WzFdfWZ1bmN0aW9uIGEodCxlLHIsYSl7dC5fX2NoYXJ0X189e3g6ay54LHk6ay55LGs6ay5rfSx1KE1hdGgucG93KDIsYSkpLGkoZD1lLHIpLHQ9b2Euc2VsZWN0KHQpLEM+MCYmKHQ9dC50cmFuc2l0aW9uKCkuZHVyYXRpb24oQykpLHQuY2FsbChuLmV2ZW50KX1mdW5jdGlvbiBvKCl7YiYmYi5kb21haW4oeC5yYW5nZSgpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4obi1rLngpL2sua30pLm1hcCh4LmludmVydCkpLHcmJncuZG9tYWluKF8ucmFuZ2UoKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuKG4tay55KS9rLmt9KS5tYXAoXy5pbnZlcnQpKX1mdW5jdGlvbiBsKG4pe3orK3x8bih7dHlwZToiem9vbXN0YXJ0In0pfWZ1bmN0aW9uIGMobil7bygpLG4oe3R5cGU6Inpvb20iLHNjYWxlOmsuayx0cmFuc2xhdGU6W2sueCxrLnldfSl9ZnVuY3Rpb24gcyhuKXstLXp8fChuKHt0eXBlOiJ6b29tZW5kIn0pLGQ9bnVsbCl9ZnVuY3Rpb24gZigpe2Z1bmN0aW9uIG4oKXtvPTEsaShvYS5tb3VzZSh1KSxoKSxjKGEpfWZ1bmN0aW9uIHIoKXtmLm9uKHEsbnVsbCkub24oVCxudWxsKSxnKG8pLHMoYSl9dmFyIHU9dGhpcyxhPUQub2YodSxhcmd1bWVudHMpLG89MCxmPW9hLnNlbGVjdCh0KHUpKS5vbihxLG4pLm9uKFQsciksaD1lKG9hLm1vdXNlKHUpKSxnPVcodSk7SWwuY2FsbCh1KSxsKGEpfWZ1bmN0aW9uIGgoKXtmdW5jdGlvbiBuKCl7dmFyIG49b2EudG91Y2hlcyhwKTtyZXR1cm4gZz1rLmssbi5mb3JFYWNoKGZ1bmN0aW9uKG4pe24uaWRlbnRpZmllciBpbiBkJiYoZFtuLmlkZW50aWZpZXJdPWUobikpfSksbn1mdW5jdGlvbiB0KCl7dmFyIHQ9b2EuZXZlbnQudGFyZ2V0O29hLnNlbGVjdCh0KS5vbih4LHIpLm9uKGIsbyksXy5wdXNoKHQpO2Zvcih2YXIgZT1vYS5ldmVudC5jaGFuZ2VkVG91Y2hlcyx1PTAsaT1lLmxlbmd0aDtpPnU7Kyt1KWRbZVt1XS5pZGVudGlmaWVyXT1udWxsO3ZhciBsPW4oKSxjPURhdGUubm93KCk7aWYoMT09PWwubGVuZ3RoKXtpZig1MDA+Yy1NKXt2YXIgcz1sWzBdO2EocCxzLGRbcy5pZGVudGlmaWVyXSxNYXRoLmZsb29yKE1hdGgubG9nKGsuaykvTWF0aC5MTjIpKzEpLFMoKX1NPWN9ZWxzZSBpZihsLmxlbmd0aD4xKXt2YXIgcz1sWzBdLGY9bFsxXSxoPXNbMF0tZlswXSxnPXNbMV0tZlsxXTttPWgqaCtnKmd9fWZ1bmN0aW9uIHIoKXt2YXIgbix0LGUscixhPW9hLnRvdWNoZXMocCk7SWwuY2FsbChwKTtmb3IodmFyIG89MCxsPWEubGVuZ3RoO2w+bzsrK28scj1udWxsKWlmKGU9YVtvXSxyPWRbZS5pZGVudGlmaWVyXSl7aWYodClicmVhaztuPWUsdD1yfWlmKHIpe3ZhciBzPShzPWVbMF0tblswXSkqcysocz1lWzFdLW5bMV0pKnMsZj1tJiZNYXRoLnNxcnQocy9tKTtuPVsoblswXStlWzBdKS8yLChuWzFdK2VbMV0pLzJdLHQ9Wyh0WzBdK3JbMF0pLzIsKHRbMV0rclsxXSkvMl0sdShmKmcpfU09bnVsbCxpKG4sdCksYyh2KX1mdW5jdGlvbiBvKCl7aWYob2EuZXZlbnQudG91Y2hlcy5sZW5ndGgpe2Zvcih2YXIgdD1vYS5ldmVudC5jaGFuZ2VkVG91Y2hlcyxlPTAscj10Lmxlbmd0aDtyPmU7KytlKWRlbGV0ZSBkW3RbZV0uaWRlbnRpZmllcl07Zm9yKHZhciB1IGluIGQpcmV0dXJuIHZvaWQgbigpfW9hLnNlbGVjdEFsbChfKS5vbih5LG51bGwpLHcub24oTCxmKS5vbihSLGgpLE4oKSxzKHYpfXZhciBnLHA9dGhpcyx2PUQub2YocCxhcmd1bWVudHMpLGQ9e30sbT0wLHk9Ii56b29tLSIrb2EuZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllcix4PSJ0b3VjaG1vdmUiK3ksYj0idG91Y2hlbmQiK3ksXz1bXSx3PW9hLnNlbGVjdChwKSxOPVcocCk7dCgpLGwodiksdy5vbihMLG51bGwpLm9uKFIsdCl9ZnVuY3Rpb24gZygpe3ZhciBuPUQub2YodGhpcyxhcmd1bWVudHMpO3k/Y2xlYXJUaW1lb3V0KHkpOihJbC5jYWxsKHRoaXMpLHY9ZShkPW18fG9hLm1vdXNlKHRoaXMpKSxsKG4pKSx5PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt5PW51bGwscyhuKX0sNTApLFMoKSx1KE1hdGgucG93KDIsLjAwMiokYSgpKSprLmspLGkoZCx2KSxjKG4pfWZ1bmN0aW9uIHAoKXt2YXIgbj1vYS5tb3VzZSh0aGlzKSx0PU1hdGgubG9nKGsuaykvTWF0aC5MTjI7YSh0aGlzLG4sZShuKSxvYS5ldmVudC5zaGlmdEtleT9NYXRoLmNlaWwodCktMTpNYXRoLmZsb29yKHQpKzEpfXZhciB2LGQsbSx5LE0seCxiLF8sdyxrPXt4OjAseTowLGs6MX0sRT1bOTYwLDUwMF0sQT1XYSxDPTI1MCx6PTAsTD0ibW91c2Vkb3duLnpvb20iLHE9Im1vdXNlbW92ZS56b29tIixUPSJtb3VzZXVwLnpvb20iLFI9InRvdWNoc3RhcnQuem9vbSIsRD1OKG4sInpvb21zdGFydCIsInpvb20iLCJ6b29tZW5kIik7cmV0dXJuIEJhfHwoQmE9Im9ud2hlZWwiaW4gc2E/KCRhPWZ1bmN0aW9uKCl7cmV0dXJuLW9hLmV2ZW50LmRlbHRhWSoob2EuZXZlbnQuZGVsdGFNb2RlPzEyMDoxKX0sIndoZWVsIik6Im9ubW91c2V3aGVlbCJpbiBzYT8oJGE9ZnVuY3Rpb24oKXtyZXR1cm4gb2EuZXZlbnQud2hlZWxEZWx0YX0sIm1vdXNld2hlZWwiKTooJGE9ZnVuY3Rpb24oKXtyZXR1cm4tb2EuZXZlbnQuZGV0YWlsfSwiTW96TW91c2VQaXhlbFNjcm9sbCIpKSxuLmV2ZW50PWZ1bmN0aW9uKG4pe24uZWFjaChmdW5jdGlvbigpe3ZhciBuPUQub2YodGhpcyxhcmd1bWVudHMpLHQ9aztIbD9vYS5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpLmVhY2goInN0YXJ0Lnpvb20iLGZ1bmN0aW9uKCl7az10aGlzLl9fY2hhcnRfX3x8e3g6MCx5OjAsazoxfSxsKG4pfSkudHdlZW4oInpvb206em9vbSIsZnVuY3Rpb24oKXt2YXIgZT1FWzBdLHI9RVsxXSx1PWQ/ZFswXTplLzIsaT1kP2RbMV06ci8yLGE9b2EuaW50ZXJwb2xhdGVab29tKFsodS1rLngpL2suaywoaS1rLnkpL2suayxlL2sua10sWyh1LXQueCkvdC5rLChpLXQueSkvdC5rLGUvdC5rXSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciByPWEodCksbz1lL3JbMl07dGhpcy5fX2NoYXJ0X189az17eDp1LXJbMF0qbyx5OmktclsxXSpvLGs6b30sYyhuKX19KS5lYWNoKCJpbnRlcnJ1cHQuem9vbSIsZnVuY3Rpb24oKXtzKG4pfSkuZWFjaCgiZW5kLnpvb20iLGZ1bmN0aW9uKCl7cyhuKX0pOih0aGlzLl9fY2hhcnRfXz1rLGwobiksYyhuKSxzKG4pKX0pfSxuLnRyYW5zbGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaz17eDordFswXSx5Oit0WzFdLGs6ay5rfSxvKCksbik6W2sueCxrLnldfSxuLnNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhrPXt4OmsueCx5OmsueSxrOm51bGx9LHUoK3QpLG8oKSxuKTprLmt9LG4uc2NhbGVFeHRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KEE9bnVsbD09dD9XYTpbK3RbMF0sK3RbMV1dLG4pOkF9LG4uY2VudGVyPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhtPXQmJlsrdFswXSwrdFsxXV0sbik6bX0sbi5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhFPXQmJlsrdFswXSwrdFsxXV0sbik6RX0sbi5kdXJhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oQz0rdCxuKTpDfSxuLng9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9dCx4PXQuY29weSgpLGs9e3g6MCx5OjAsazoxfSxuKTpifSxuLnk9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHc9dCxfPXQuY29weSgpLGs9e3g6MCx5OjAsazoxfSxuKTp3fSxvYS5yZWJpbmQobixELCJvbiIpfTt2YXIgJGEsQmEsV2E9WzAsMS8wXTtvYS5jb2xvcj1vbixvbi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZ2IoKSsiIn0sb2EuaHNsPWxuO3ZhciBKYT1sbi5wcm90b3R5cGU9bmV3IG9uO0phLmJyaWdodGVyPWZ1bmN0aW9uKG4pe3JldHVybiBuPU1hdGgucG93KC43LGFyZ3VtZW50cy5sZW5ndGg/bjoxKSxuZXcgbG4odGhpcy5oLHRoaXMucyx0aGlzLmwvbil9LEphLmRhcmtlcj1mdW5jdGlvbihuKXtyZXR1cm4gbj1NYXRoLnBvdyguNyxhcmd1bWVudHMubGVuZ3RoP246MSksbmV3IGxuKHRoaXMuaCx0aGlzLnMsbip0aGlzLmwpfSxKYS5yZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gY24odGhpcy5oLHRoaXMucyx0aGlzLmwpfSxvYS5oY2w9c247dmFyIEdhPXNuLnByb3RvdHlwZT1uZXcgb247R2EuYnJpZ2h0ZXI9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBzbih0aGlzLmgsdGhpcy5jLE1hdGgubWluKDEwMCx0aGlzLmwrS2EqKGFyZ3VtZW50cy5sZW5ndGg/bjoxKSkpfSxHYS5kYXJrZXI9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBzbih0aGlzLmgsdGhpcy5jLE1hdGgubWF4KDAsdGhpcy5sLUthKihhcmd1bWVudHMubGVuZ3RoP246MSkpKX0sR2EucmdiPWZ1bmN0aW9uKCl7cmV0dXJuIGZuKHRoaXMuaCx0aGlzLmMsdGhpcy5sKS5yZ2IoKX0sb2EubGFiPWhuO3ZhciBLYT0xOCxRYT0uOTUwNDcsbm89MSx0bz0xLjA4ODgzLGVvPWhuLnByb3RvdHlwZT1uZXcgb247ZW8uYnJpZ2h0ZXI9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBobihNYXRoLm1pbigxMDAsdGhpcy5sK0thKihhcmd1bWVudHMubGVuZ3RoP246MSkpLHRoaXMuYSx0aGlzLmIpfSxlby5kYXJrZXI9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBobihNYXRoLm1heCgwLHRoaXMubC1LYSooYXJndW1lbnRzLmxlbmd0aD9uOjEpKSx0aGlzLmEsdGhpcy5iKX0sZW8ucmdiPWZ1bmN0aW9uKCl7cmV0dXJuIGduKHRoaXMubCx0aGlzLmEsdGhpcy5iKX0sb2EucmdiPXluO3ZhciBybz15bi5wcm90b3R5cGU9bmV3IG9uO3JvLmJyaWdodGVyPWZ1bmN0aW9uKG4pe249TWF0aC5wb3coLjcsYXJndW1lbnRzLmxlbmd0aD9uOjEpO3ZhciB0PXRoaXMucixlPXRoaXMuZyxyPXRoaXMuYix1PTMwO3JldHVybiB0fHxlfHxyPyh0JiZ1PnQmJih0PXUpLGUmJnU+ZSYmKGU9dSksciYmdT5yJiYocj11KSxuZXcgeW4oTWF0aC5taW4oMjU1LHQvbiksTWF0aC5taW4oMjU1LGUvbiksTWF0aC5taW4oMjU1LHIvbikpKTpuZXcgeW4odSx1LHUpfSxyby5kYXJrZXI9ZnVuY3Rpb24obil7cmV0dXJuIG49TWF0aC5wb3coLjcsYXJndW1lbnRzLmxlbmd0aD9uOjEpLG5ldyB5bihuKnRoaXMucixuKnRoaXMuZyxuKnRoaXMuYil9LHJvLmhzbD1mdW5jdGlvbigpe3JldHVybiB3bih0aGlzLnIsdGhpcy5nLHRoaXMuYil9LHJvLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIiMiK2JuKHRoaXMucikrYm4odGhpcy5nKStibih0aGlzLmIpfTt2YXIgdW89b2EubWFwKHthbGljZWJsdWU6MTU3OTIzODMsYW50aXF1ZXdoaXRlOjE2NDQ0Mzc1LGFxdWE6NjU1MzUsYXF1YW1hcmluZTo4Mzg4NTY0LGF6dXJlOjE1Nzk0MTc1LGJlaWdlOjE2MTE5MjYwLGJpc3F1ZToxNjc3MDI0NCxibGFjazowLGJsYW5jaGVkYWxtb25kOjE2NzcyMDQ1LGJsdWU6MjU1LGJsdWV2aW9sZXQ6OTA1NTIwMixicm93bjoxMDgyNDIzNCxidXJseXdvb2Q6MTQ1OTYyMzEsY2FkZXRibHVlOjYyNjY1MjgsY2hhcnRyZXVzZTo4Mzg4MzUyLGNob2NvbGF0ZToxMzc4OTQ3MCxjb3JhbDoxNjc0NDI3Mixjb3JuZmxvd2VyYmx1ZTo2NTkxOTgxLGNvcm5zaWxrOjE2Nzc1Mzg4LGNyaW1zb246MTQ0MjMxMDAsY3lhbjo2NTUzNSxkYXJrYmx1ZToxMzksZGFya2N5YW46MzU3MjMsZGFya2dvbGRlbnJvZDoxMjA5MjkzOSxkYXJrZ3JheToxMTExOTAxNyxkYXJrZ3JlZW46MjU2MDAsZGFya2dyZXk6MTExMTkwMTcsZGFya2toYWtpOjEyNDMzMjU5LGRhcmttYWdlbnRhOjkxMDk2NDMsZGFya29saXZlZ3JlZW46NTU5Nzk5OSxkYXJrb3JhbmdlOjE2NzQ3NTIwLGRhcmtvcmNoaWQ6MTAwNDAwMTIsZGFya3JlZDo5MTA5NTA0LGRhcmtzYWxtb246MTUzMDg0MTAsZGFya3NlYWdyZWVuOjk0MTk5MTksZGFya3NsYXRlYmx1ZTo0NzM0MzQ3LGRhcmtzbGF0ZWdyYXk6MzEwMDQ5NSxkYXJrc2xhdGVncmV5OjMxMDA0OTUsZGFya3R1cnF1b2lzZTo1Mjk0NSxkYXJrdmlvbGV0Ojk2OTk1MzksZGVlcHBpbms6MTY3MTY5NDcsZGVlcHNreWJsdWU6NDkxNTEsZGltZ3JheTo2OTA4MjY1LGRpbWdyZXk6NjkwODI2NSxkb2RnZXJibHVlOjIwMDMxOTksZmlyZWJyaWNrOjExNjc0MTQ2LGZsb3JhbHdoaXRlOjE2Nzc1OTIwLGZvcmVzdGdyZWVuOjIyNjM4NDIsZnVjaHNpYToxNjcxMTkzNSxnYWluc2Jvcm86MTQ0NzQ0NjAsZ2hvc3R3aGl0ZToxNjMxNjY3MSxnb2xkOjE2NzY2NzIwLGdvbGRlbnJvZDoxNDMyOTEyMCxncmF5Ojg0MjE1MDQsZ3JlZW46MzI3NjgsZ3JlZW55ZWxsb3c6MTE0MDMwNTUsZ3JleTo4NDIxNTA0LGhvbmV5ZGV3OjE1Nzk0MTYwLGhvdHBpbms6MTY3Mzg3NDAsaW5kaWFucmVkOjEzNDU4NTI0LGluZGlnbzo0OTE1MzMwLGl2b3J5OjE2Nzc3MjAwLGtoYWtpOjE1Nzg3NjYwLGxhdmVuZGVyOjE1MTMyNDEwLGxhdmVuZGVyYmx1c2g6MTY3NzMzNjUsbGF3bmdyZWVuOjgxOTA5NzYsbGVtb25jaGlmZm9uOjE2Nzc1ODg1LGxpZ2h0Ymx1ZToxMTM5MzI1NCxsaWdodGNvcmFsOjE1NzYxNTM2LGxpZ2h0Y3lhbjoxNDc0NTU5OSxsaWdodGdvbGRlbnJvZHllbGxvdzoxNjQ0ODIxMCxsaWdodGdyYXk6MTM4ODIzMjMsbGlnaHRncmVlbjo5NDk4MjU2LGxpZ2h0Z3JleToxMzg4MjMyMyxsaWdodHBpbms6MTY3NTg0NjUsbGlnaHRzYWxtb246MTY3NTI3NjIsbGlnaHRzZWFncmVlbjoyMTQyODkwLGxpZ2h0c2t5Ymx1ZTo4OTAwMzQ2LGxpZ2h0c2xhdGVncmF5Ojc4MzM3NTMsbGlnaHRzbGF0ZWdyZXk6NzgzMzc1MyxsaWdodHN0ZWVsYmx1ZToxMTU4NDczNCxsaWdodHllbGxvdzoxNjc3NzE4NCxsaW1lOjY1MjgwLGxpbWVncmVlbjozMzI5MzMwLGxpbmVuOjE2NDQ1NjcwLG1hZ2VudGE6MTY3MTE5MzUsbWFyb29uOjgzODg2MDgsbWVkaXVtYXF1YW1hcmluZTo2NzM3MzIyLG1lZGl1bWJsdWU6MjA1LG1lZGl1bW9yY2hpZDoxMjIxMTY2NyxtZWRpdW1wdXJwbGU6OTY2MjY4MyxtZWRpdW1zZWFncmVlbjozOTc4MDk3LG1lZGl1bXNsYXRlYmx1ZTo4MDg3NzkwLG1lZGl1bXNwcmluZ2dyZWVuOjY0MTU0LG1lZGl1bXR1cnF1b2lzZTo0NzcyMzAwLG1lZGl1bXZpb2xldHJlZDoxMzA0NzE3MyxtaWRuaWdodGJsdWU6MTY0NDkxMixtaW50Y3JlYW06MTYxMjE4NTAsbWlzdHlyb3NlOjE2NzcwMjczLG1vY2Nhc2luOjE2NzcwMjI5LG5hdmFqb3doaXRlOjE2NzY4Njg1LG5hdnk6MTI4LG9sZGxhY2U6MTY2NDM1NTgsb2xpdmU6ODQyMTM3NixvbGl2ZWRyYWI6NzA0ODczOSxvcmFuZ2U6MTY3NTM5MjAsb3JhbmdlcmVkOjE2NzI5MzQ0LG9yY2hpZDoxNDMxNTczNCxwYWxlZ29sZGVucm9kOjE1NjU3MTMwLHBhbGVncmVlbjoxMDAyNTg4MCxwYWxldHVycXVvaXNlOjExNTI5OTY2LHBhbGV2aW9sZXRyZWQ6MTQzODEyMDMscGFwYXlhd2hpcDoxNjc3MzA3NyxwZWFjaHB1ZmY6MTY3Njc2NzMscGVydToxMzQ2ODk5MSxwaW5rOjE2NzYxMDM1LHBsdW06MTQ1MjQ2MzcscG93ZGVyYmx1ZToxMTU5MTkxMCxwdXJwbGU6ODM4ODczNixyZWJlY2NhcHVycGxlOjY2OTc4ODEscmVkOjE2NzExNjgwLHJvc3licm93bjoxMjM1NzUxOSxyb3lhbGJsdWU6NDI4Njk0NSxzYWRkbGVicm93bjo5MTI3MTg3LHNhbG1vbjoxNjQxNjg4MixzYW5keWJyb3duOjE2MDMyODY0LHNlYWdyZWVuOjMwNTAzMjcsc2Vhc2hlbGw6MTY3NzQ2Mzgsc2llbm5hOjEwNTA2Nzk3LHNpbHZlcjoxMjYzMjI1Nixza3libHVlOjg5MDAzMzEsc2xhdGVibHVlOjY5NzAwNjEsc2xhdGVncmF5OjczNzI5NDQsc2xhdGVncmV5OjczNzI5NDQsc25vdzoxNjc3NTkzMCxzcHJpbmdncmVlbjo2NTQwNyxzdGVlbGJsdWU6NDYyMDk4MCx0YW46MTM4MDg3ODAsdGVhbDozMjg5Nix0aGlzdGxlOjE0MjA0ODg4LHRvbWF0bzoxNjczNzA5NSx0dXJxdW9pc2U6NDI1MTg1Nix2aW9sZXQ6MTU2MzEwODYsd2hlYXQ6MTYxMTMzMzEsd2hpdGU6MTY3NzcyMTUsd2hpdGVzbW9rZToxNjExOTI4NSx5ZWxsb3c6MTY3NzY5NjAseWVsbG93Z3JlZW46MTAxNDUwNzR9KTt1by5mb3JFYWNoKGZ1bmN0aW9uKG4sdCl7dW8uc2V0KG4sTW4odCkpfSksb2EuZnVuY3Rvcj1FbixvYS54aHI9QW4oeSksb2EuZHN2PWZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gZShuLGUsaSl7YXJndW1lbnRzLmxlbmd0aDwzJiYoaT1lLGU9bnVsbCk7dmFyIGE9Q24obix0LG51bGw9PWU/cjp1KGUpLGkpO3JldHVybiBhLnJvdz1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9hLnJlc3BvbnNlKG51bGw9PShlPW4pP3I6dShuKSk6ZX0sYX1mdW5jdGlvbiByKG4pe3JldHVybiBlLnBhcnNlKG4ucmVzcG9uc2VUZXh0KX1mdW5jdGlvbiB1KG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5wYXJzZSh0LnJlc3BvbnNlVGV4dCxuKX19ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdC5tYXAoYSkuam9pbihuKX1mdW5jdGlvbiBhKG4pe3JldHVybiBvLnRlc3Qobik/JyInK24ucmVwbGFjZSgvXCIvZywnIiInKSsnIic6bn12YXIgbz1uZXcgUmVnRXhwKCdbIicrbisiXG5dIiksbD1uLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGUucGFyc2U9ZnVuY3Rpb24obix0KXt2YXIgcjtyZXR1cm4gZS5wYXJzZVJvd3MobixmdW5jdGlvbihuLGUpe2lmKHIpcmV0dXJuIHIobixlLTEpO3ZhciB1PW5ldyBGdW5jdGlvbigiZCIsInJldHVybiB7IituLm1hcChmdW5jdGlvbihuLHQpe3JldHVybiBKU09OLnN0cmluZ2lmeShuKSsiOiBkWyIrdCsiXSJ9KS5qb2luKCIsIikrIn0iKTtyPXQ/ZnVuY3Rpb24obixlKXtyZXR1cm4gdCh1KG4pLGUpfTp1fSl9LGUucGFyc2VSb3dzPWZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gZSgpe2lmKHM+PWMpcmV0dXJuIGE7aWYodSlyZXR1cm4gdT0hMSxpO3ZhciB0PXM7aWYoMzQ9PT1uLmNoYXJDb2RlQXQodCkpe2Zvcih2YXIgZT10O2UrKzxjOylpZigzND09PW4uY2hhckNvZGVBdChlKSl7aWYoMzQhPT1uLmNoYXJDb2RlQXQoZSsxKSlicmVhazsrK2V9cz1lKzI7dmFyIHI9bi5jaGFyQ29kZUF0KGUrMSk7cmV0dXJuIDEzPT09cj8odT0hMCwxMD09PW4uY2hhckNvZGVBdChlKzIpJiYrK3MpOjEwPT09ciYmKHU9ITApLG4uc2xpY2UodCsxLGUpLnJlcGxhY2UoLyIiL2csJyInKX1mb3IoO2M+czspe3ZhciByPW4uY2hhckNvZGVBdChzKyspLG89MTtpZigxMD09PXIpdT0hMDtlbHNlIGlmKDEzPT09cil1PSEwLDEwPT09bi5jaGFyQ29kZUF0KHMpJiYoKytzLCsrbyk7ZWxzZSBpZihyIT09bCljb250aW51ZTtyZXR1cm4gbi5zbGljZSh0LHMtbyl9cmV0dXJuIG4uc2xpY2UodCl9Zm9yKHZhciByLHUsaT17fSxhPXt9LG89W10sYz1uLmxlbmd0aCxzPTAsZj0wOyhyPWUoKSkhPT1hOyl7Zm9yKHZhciBoPVtdO3IhPT1pJiZyIT09YTspaC5wdXNoKHIpLHI9ZSgpO3QmJm51bGw9PShoPXQoaCxmKyspKXx8by5wdXNoKGgpfXJldHVybiBvfSxlLmZvcm1hdD1mdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHRbMF0pKXJldHVybiBlLmZvcm1hdFJvd3ModCk7dmFyIHI9bmV3IG0sdT1bXTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiBuKXIuaGFzKHQpfHx1LnB1c2goci5hZGQodCkpfSksW3UubWFwKGEpLmpvaW4obildLmNvbmNhdCh0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIGEodFtuXSl9KS5qb2luKG4pfSkpLmpvaW4oIlxuIil9LGUuZm9ybWF0Um93cz1mdW5jdGlvbihuKXtyZXR1cm4gbi5tYXAoaSkuam9pbigiXG4iKX0sZX0sb2EuY3N2PW9hLmRzdigiLCIsInRleHQvY3N2Iiksb2EudHN2PW9hLmRzdigiCSIsInRleHQvdGFiLXNlcGFyYXRlZC12YWx1ZXMiKTt2YXIgaW8sYW8sb28sbG8sY289dGhpc1t4KHRoaXMsInJlcXVlc3RBbmltYXRpb25GcmFtZSIpXXx8ZnVuY3Rpb24obil7c2V0VGltZW91dChuLDE3KX07b2EudGltZXI9ZnVuY3Rpb24oKXtxbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG9hLnRpbWVyLmZsdXNoPWZ1bmN0aW9uKCl7Um4oKSxEbigpfSxvYS5yb3VuZD1mdW5jdGlvbihuLHQpe3JldHVybiB0P01hdGgucm91bmQobioodD1NYXRoLnBvdygxMCx0KSkpL3Q6TWF0aC5yb3VuZChuKX07dmFyIHNvPVsieSIsInoiLCJhIiwiZiIsInAiLCJuIiwiXHhiNSIsIm0iLCIiLCJrIiwiTSIsIkciLCJUIiwiUCIsIkUiLCJaIiwiWSJdLm1hcChVbik7b2EuZm9ybWF0UHJlZml4PWZ1bmN0aW9uKG4sdCl7dmFyIGU9MDtyZXR1cm4obj0rbikmJigwPm4mJihuKj0tMSksdCYmKG49b2Eucm91bmQobixQbihuLHQpKSksZT0xK01hdGguZmxvb3IoMWUtMTIrTWF0aC5sb2cobikvTWF0aC5MTjEwKSxlPU1hdGgubWF4KC0yNCxNYXRoLm1pbigyNCwzKk1hdGguZmxvb3IoKGUtMSkvMykpKSksc29bOCtlLzNdfTt2YXIgZm89Lyg/OihbXntdKT8oWzw+PV5dKSk/KFsrXC0gXSk/KFskI10pPygwKT8oXGQrKT8oLCk/KFwuLT9cZCspPyhbYS16JV0pPy9pLGhvPW9hLm1hcCh7YjpmdW5jdGlvbihuKXtyZXR1cm4gbi50b1N0cmluZygyKX0sYzpmdW5jdGlvbihuKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShuKX0sbzpmdW5jdGlvbihuKXtyZXR1cm4gbi50b1N0cmluZyg4KX0seDpmdW5jdGlvbihuKXtyZXR1cm4gbi50b1N0cmluZygxNil9LFg6ZnVuY3Rpb24obil7cmV0dXJuIG4udG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9LGc6ZnVuY3Rpb24obix0KXtyZXR1cm4gbi50b1ByZWNpc2lvbih0KX0sZTpmdW5jdGlvbihuLHQpe3JldHVybiBuLnRvRXhwb25lbnRpYWwodCl9LGY6ZnVuY3Rpb24obix0KXtyZXR1cm4gbi50b0ZpeGVkKHQpfSxyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuKG49b2Eucm91bmQobixQbihuLHQpKSkudG9GaXhlZChNYXRoLm1heCgwLE1hdGgubWluKDIwLFBuKG4qKDErMWUtMTUpLHQpKSkpfX0pLGdvPW9hLnRpbWU9e30scG89RGF0ZTtIbi5wcm90b3R5cGU9e2dldERhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmdldFVUQ0RhdGUoKX0sZ2V0RGF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENEYXkoKX0sZ2V0RnVsbFllYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmdldFVUQ0Z1bGxZZWFyKCl9LGdldEhvdXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENIb3VycygpfSxnZXRNaWxsaXNlY29uZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmdldFVUQ01pbGxpc2Vjb25kcygpfSxnZXRNaW51dGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENNaW51dGVzKCl9LGdldE1vbnRoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENNb250aCgpfSxnZXRTZWNvbmRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENTZWNvbmRzKCl9LGdldFRpbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmdldFRpbWUoKX0sZ2V0VGltZXpvbmVPZmZzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMH0sdmFsdWVPZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8udmFsdWVPZigpfSxzZXREYXRlOmZ1bmN0aW9uKCl7dm8uc2V0VVRDRGF0ZS5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0RGF5OmZ1bmN0aW9uKCl7dm8uc2V0VVRDRGF5LmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRGdWxsWWVhcjpmdW5jdGlvbigpe3ZvLnNldFVUQ0Z1bGxZZWFyLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRIb3VyczpmdW5jdGlvbigpe3ZvLnNldFVUQ0hvdXJzLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRNaWxsaXNlY29uZHM6ZnVuY3Rpb24oKXt2by5zZXRVVENNaWxsaXNlY29uZHMuYXBwbHkodGhpcy5fLGFyZ3VtZW50cyl9LHNldE1pbnV0ZXM6ZnVuY3Rpb24oKXt2by5zZXRVVENNaW51dGVzLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRNb250aDpmdW5jdGlvbigpe3ZvLnNldFVUQ01vbnRoLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRTZWNvbmRzOmZ1bmN0aW9uKCl7dm8uc2V0VVRDU2Vjb25kcy5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0VGltZTpmdW5jdGlvbigpe3ZvLnNldFRpbWUuYXBwbHkodGhpcy5fLGFyZ3VtZW50cyl9fTt2YXIgdm89RGF0ZS5wcm90b3R5cGU7Z28ueWVhcj1PbihmdW5jdGlvbihuKXtyZXR1cm4gbj1nby5kYXkobiksbi5zZXRNb250aCgwLDEpLG59LGZ1bmN0aW9uKG4sdCl7bi5zZXRGdWxsWWVhcihuLmdldEZ1bGxZZWFyKCkrdCl9LGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldEZ1bGxZZWFyKCl9KSxnby55ZWFycz1nby55ZWFyLnJhbmdlLGdvLnllYXJzLnV0Yz1nby55ZWFyLnV0Yy5yYW5nZSxnby5kYXk9T24oZnVuY3Rpb24obil7dmFyIHQ9bmV3IHBvKDJlMywwKTtyZXR1cm4gdC5zZXRGdWxsWWVhcihuLmdldEZ1bGxZZWFyKCksbi5nZXRNb250aCgpLG4uZ2V0RGF0ZSgpKSx0fSxmdW5jdGlvbihuLHQpe24uc2V0RGF0ZShuLmdldERhdGUoKSt0KX0sZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0RGF0ZSgpLTF9KSxnby5kYXlzPWdvLmRheS5yYW5nZSxnby5kYXlzLnV0Yz1nby5kYXkudXRjLnJhbmdlLGdvLmRheU9mWWVhcj1mdW5jdGlvbihuKXt2YXIgdD1nby55ZWFyKG4pO3JldHVybiBNYXRoLmZsb29yKChuLXQtNmU0KihuLmdldFRpbWV6b25lT2Zmc2V0KCktdC5nZXRUaW1lem9uZU9mZnNldCgpKSkvODY0ZTUpfSxbInN1bmRheSIsIm1vbmRheSIsInR1ZXNkYXkiLCJ3ZWRuZXNkYXkiLCJ0aHVyc2RheSIsImZyaWRheSIsInNhdHVyZGF5Il0uZm9yRWFjaChmdW5jdGlvbihuLHQpe3Q9Ny10O3ZhciBlPWdvW25dPU9uKGZ1bmN0aW9uKG4pe3JldHVybihuPWdvLmRheShuKSkuc2V0RGF0ZShuLmdldERhdGUoKS0obi5nZXREYXkoKSt0KSU3KSxufSxmdW5jdGlvbihuLHQpe24uc2V0RGF0ZShuLmdldERhdGUoKSs3Kk1hdGguZmxvb3IodCkpfSxmdW5jdGlvbihuKXt2YXIgZT1nby55ZWFyKG4pLmdldERheSgpO3JldHVybiBNYXRoLmZsb29yKChnby5kYXlPZlllYXIobikrKGUrdCklNykvNyktKGUhPT10KX0pO2dvW24rInMiXT1lLnJhbmdlLGdvW24rInMiXS51dGM9ZS51dGMucmFuZ2UsZ29bbisiT2ZZZWFyIl09ZnVuY3Rpb24obil7dmFyIGU9Z28ueWVhcihuKS5nZXREYXkoKTtyZXR1cm4gTWF0aC5mbG9vcigoZ28uZGF5T2ZZZWFyKG4pKyhlK3QpJTcpLzcpfX0pLGdvLndlZWs9Z28uc3VuZGF5LGdvLndlZWtzPWdvLnN1bmRheS5yYW5nZSxnby53ZWVrcy51dGM9Z28uc3VuZGF5LnV0Yy5yYW5nZSxnby53ZWVrT2ZZZWFyPWdvLnN1bmRheU9mWWVhcjt2YXIgbW89eyItIjoiIixfOiIgIiwwOiIwIn0seW89L15ccypcZCsvLE1vPS9eJS87b2EubG9jYWxlPWZ1bmN0aW9uKG4pe3JldHVybntudW1iZXJGb3JtYXQ6am4obiksdGltZUZvcm1hdDpZbihuKX19O3ZhciB4bz1vYS5sb2NhbGUoe2RlY2ltYWw6Ii4iLHRob3VzYW5kczoiLCIsZ3JvdXBpbmc6WzNdLGN1cnJlbmN5OlsiJCIsIiJdLGRhdGVUaW1lOiIlYSAlYiAlZSAlWCAlWSIsZGF0ZToiJW0vJWQvJVkiLHRpbWU6IiVIOiVNOiVTIixwZXJpb2RzOlsiQU0iLCJQTSJdLGRheXM6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLA0Kc2hvcnREYXlzOlsiU3VuIiwiTW9uIiwiVHVlIiwiV2VkIiwiVGh1IiwiRnJpIiwiU2F0Il0sbW9udGhzOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSxzaG9ydE1vbnRoczpbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdfSk7b2EuZm9ybWF0PXhvLm51bWJlckZvcm1hdCxvYS5nZW89e30sc3QucHJvdG90eXBlPXtzOjAsdDowLGFkZDpmdW5jdGlvbihuKXtmdChuLHRoaXMudCxibyksZnQoYm8ucyx0aGlzLnMsdGhpcyksdGhpcy5zP3RoaXMudCs9Ym8udDp0aGlzLnM9Ym8udH0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnM9dGhpcy50PTB9LHZhbHVlT2Y6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zfX07dmFyIGJvPW5ldyBzdDtvYS5nZW8uc3RyZWFtPWZ1bmN0aW9uKG4sdCl7biYmX28uaGFzT3duUHJvcGVydHkobi50eXBlKT9fb1tuLnR5cGVdKG4sdCk6aHQobix0KX07dmFyIF9vPXtGZWF0dXJlOmZ1bmN0aW9uKG4sdCl7aHQobi5nZW9tZXRyeSx0KX0sRmVhdHVyZUNvbGxlY3Rpb246ZnVuY3Rpb24obix0KXtmb3IodmFyIGU9bi5mZWF0dXJlcyxyPS0xLHU9ZS5sZW5ndGg7KytyPHU7KWh0KGVbcl0uZ2VvbWV0cnksdCl9fSx3bz17U3BoZXJlOmZ1bmN0aW9uKG4sdCl7dC5zcGhlcmUoKX0sUG9pbnQ6ZnVuY3Rpb24obix0KXtuPW4uY29vcmRpbmF0ZXMsdC5wb2ludChuWzBdLG5bMV0sblsyXSl9LE11bHRpUG9pbnQ6ZnVuY3Rpb24obix0KXtmb3IodmFyIGU9bi5jb29yZGluYXRlcyxyPS0xLHU9ZS5sZW5ndGg7KytyPHU7KW49ZVtyXSx0LnBvaW50KG5bMF0sblsxXSxuWzJdKX0sTGluZVN0cmluZzpmdW5jdGlvbihuLHQpe2d0KG4uY29vcmRpbmF0ZXMsdCwwKX0sTXVsdGlMaW5lU3RyaW5nOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPW4uY29vcmRpbmF0ZXMscj0tMSx1PWUubGVuZ3RoOysrcjx1OylndChlW3JdLHQsMCl9LFBvbHlnb246ZnVuY3Rpb24obix0KXtwdChuLmNvb3JkaW5hdGVzLHQpfSxNdWx0aVBvbHlnb246ZnVuY3Rpb24obix0KXtmb3IodmFyIGU9bi5jb29yZGluYXRlcyxyPS0xLHU9ZS5sZW5ndGg7KytyPHU7KXB0KGVbcl0sdCl9LEdlb21ldHJ5Q29sbGVjdGlvbjpmdW5jdGlvbihuLHQpe2Zvcih2YXIgZT1uLmdlb21ldHJpZXMscj0tMSx1PWUubGVuZ3RoOysrcjx1OylodChlW3JdLHQpfX07b2EuZ2VvLmFyZWE9ZnVuY3Rpb24obil7cmV0dXJuIFNvPTAsb2EuZ2VvLnN0cmVhbShuLE5vKSxTb307dmFyIFNvLGtvPW5ldyBzdCxObz17c3BoZXJlOmZ1bmN0aW9uKCl7U28rPTQqamF9LHBvaW50OmIsbGluZVN0YXJ0OmIsbGluZUVuZDpiLHBvbHlnb25TdGFydDpmdW5jdGlvbigpe2tvLnJlc2V0KCksTm8ubGluZVN0YXJ0PXZ0fSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7dmFyIG49MiprbztTbys9MD5uPzQqamErbjpuLE5vLmxpbmVTdGFydD1Oby5saW5lRW5kPU5vLnBvaW50PWJ9fTtvYS5nZW8uYm91bmRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHQpe00ucHVzaCh4PVtzPW4saD1uXSksZj50JiYoZj10KSx0PmcmJihnPXQpfWZ1bmN0aW9uIHQodCxlKXt2YXIgcj1kdChbdCpJYSxlKklhXSk7aWYobSl7dmFyIHU9eXQobSxyKSxpPVt1WzFdLC11WzBdLDBdLGE9eXQoaSx1KTtidChhKSxhPV90KGEpO3ZhciBsPXQtcCxjPWw+MD8xOi0xLHY9YVswXSpZYSpjLGQ9TWEobCk+MTgwO2lmKGReKHY+YypwJiZjKnQ+dikpe3ZhciB5PWFbMV0qWWE7eT5nJiYoZz15KX1lbHNlIGlmKHY9KHYrMzYwKSUzNjAtMTgwLGReKHY+YypwJiZjKnQ+dikpe3ZhciB5PS1hWzFdKllhO2Y+eSYmKGY9eSl9ZWxzZSBmPmUmJihmPWUpLGU+ZyYmKGc9ZSk7ZD9wPnQ/byhzLHQpPm8ocyxoKSYmKGg9dCk6byh0LGgpPm8ocyxoKSYmKHM9dCk6aD49cz8ocz50JiYocz10KSx0PmgmJihoPXQpKTp0PnA/byhzLHQpPm8ocyxoKSYmKGg9dCk6byh0LGgpPm8ocyxoKSYmKHM9dCl9ZWxzZSBuKHQsZSk7bT1yLHA9dH1mdW5jdGlvbiBlKCl7Yi5wb2ludD10fWZ1bmN0aW9uIHIoKXt4WzBdPXMseFsxXT1oLGIucG9pbnQ9bixtPW51bGx9ZnVuY3Rpb24gdShuLGUpe2lmKG0pe3ZhciByPW4tcDt5Kz1NYShyKT4xODA/cisocj4wPzM2MDotMzYwKTpyfWVsc2Ugdj1uLGQ9ZTtOby5wb2ludChuLGUpLHQobixlKX1mdW5jdGlvbiBpKCl7Tm8ubGluZVN0YXJ0KCl9ZnVuY3Rpb24gYSgpe3UodixkKSxOby5saW5lRW5kKCksTWEoeSk+UGEmJihzPS0oaD0xODApKSx4WzBdPXMseFsxXT1oLG09bnVsbH1mdW5jdGlvbiBvKG4sdCl7cmV0dXJuKHQtPW4pPDA/dCszNjA6dH1mdW5jdGlvbiBsKG4sdCl7cmV0dXJuIG5bMF0tdFswXX1mdW5jdGlvbiBjKG4sdCl7cmV0dXJuIHRbMF08PXRbMV0/dFswXTw9biYmbjw9dFsxXTpuPHRbMF18fHRbMV08bn12YXIgcyxmLGgsZyxwLHYsZCxtLHksTSx4LGI9e3BvaW50Om4sbGluZVN0YXJ0OmUsbGluZUVuZDpyLHBvbHlnb25TdGFydDpmdW5jdGlvbigpe2IucG9pbnQ9dSxiLmxpbmVTdGFydD1pLGIubGluZUVuZD1hLHk9MCxOby5wb2x5Z29uU3RhcnQoKX0scG9seWdvbkVuZDpmdW5jdGlvbigpe05vLnBvbHlnb25FbmQoKSxiLnBvaW50PW4sYi5saW5lU3RhcnQ9ZSxiLmxpbmVFbmQ9ciwwPmtvPyhzPS0oaD0xODApLGY9LShnPTkwKSk6eT5QYT9nPTkwOi1QYT55JiYoZj0tOTApLHhbMF09cyx4WzFdPWh9fTtyZXR1cm4gZnVuY3Rpb24obil7Zz1oPS0ocz1mPTEvMCksTT1bXSxvYS5nZW8uc3RyZWFtKG4sYik7dmFyIHQ9TS5sZW5ndGg7aWYodCl7TS5zb3J0KGwpO2Zvcih2YXIgZSxyPTEsdT1NWzBdLGk9W3VdO3Q+cjsrK3IpZT1NW3JdLGMoZVswXSx1KXx8YyhlWzFdLHUpPyhvKHVbMF0sZVsxXSk+byh1WzBdLHVbMV0pJiYodVsxXT1lWzFdKSxvKGVbMF0sdVsxXSk+byh1WzBdLHVbMV0pJiYodVswXT1lWzBdKSk6aS5wdXNoKHU9ZSk7Zm9yKHZhciBhLGUscD0tKDEvMCksdD1pLmxlbmd0aC0xLHI9MCx1PWlbdF07dD49cjt1PWUsKytyKWU9aVtyXSwoYT1vKHVbMV0sZVswXSkpPnAmJihwPWEscz1lWzBdLGg9dVsxXSl9cmV0dXJuIE09eD1udWxsLHM9PT0xLzB8fGY9PT0xLzA/W1tOYU4sTmFOXSxbTmFOLE5hTl1dOltbcyxmXSxbaCxnXV19fSgpLG9hLmdlby5jZW50cm9pZD1mdW5jdGlvbihuKXtFbz1Bbz1Dbz16bz1Mbz1xbz1Ubz1Sbz1Ebz1Qbz1Vbz0wLG9hLmdlby5zdHJlYW0obixqbyk7dmFyIHQ9RG8sZT1QbyxyPVVvLHU9dCp0K2UqZStyKnI7cmV0dXJuIFVhPnUmJih0PXFvLGU9VG8scj1SbyxQYT5BbyYmKHQ9Q28sZT16byxyPUxvKSx1PXQqdCtlKmUrcipyLFVhPnUpP1tOYU4sTmFOXTpbTWF0aC5hdGFuMihlLHQpKllhLHRuKHIvTWF0aC5zcXJ0KHUpKSpZYV19O3ZhciBFbyxBbyxDbyx6byxMbyxxbyxUbyxSbyxEbyxQbyxVbyxqbz17c3BoZXJlOmIscG9pbnQ6U3QsbGluZVN0YXJ0Ok50LGxpbmVFbmQ6RXQscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7am8ubGluZVN0YXJ0PUF0fSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7am8ubGluZVN0YXJ0PU50fX0sRm89UnQoenQsanQsSHQsWy1qYSwtamEvMl0pLEhvPTFlOTtvYS5nZW8uY2xpcEV4dGVudD1mdW5jdGlvbigpe3ZhciBuLHQsZSxyLHUsaSxhPXtzdHJlYW06ZnVuY3Rpb24obil7cmV0dXJuIHUmJih1LnZhbGlkPSExKSx1PWkobiksdS52YWxpZD0hMCx1fSxleHRlbnQ6ZnVuY3Rpb24obyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9WnQobj0rb1swXVswXSx0PStvWzBdWzFdLGU9K29bMV1bMF0scj0rb1sxXVsxXSksdSYmKHUudmFsaWQ9ITEsdT1udWxsKSxhKTpbW24sdF0sW2Uscl1dfX07cmV0dXJuIGEuZXh0ZW50KFtbMCwwXSxbOTYwLDUwMF1dKX0sKG9hLmdlby5jb25pY0VxdWFsQXJlYT1mdW5jdGlvbigpe3JldHVybiBWdChYdCl9KS5yYXc9WHQsb2EuZ2VvLmFsYmVycz1mdW5jdGlvbigpe3JldHVybiBvYS5nZW8uY29uaWNFcXVhbEFyZWEoKS5yb3RhdGUoWzk2LDBdKS5jZW50ZXIoWy0uNiwzOC43XSkucGFyYWxsZWxzKFsyOS41LDQ1LjVdKS5zY2FsZSgxMDcwKX0sb2EuZ2VvLmFsYmVyc1VzYT1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obil7dmFyIGk9blswXSxhPW5bMV07cmV0dXJuIHQ9bnVsbCxlKGksYSksdHx8KHIoaSxhKSx0KXx8dShpLGEpLHR9dmFyIHQsZSxyLHUsaT1vYS5nZW8uYWxiZXJzKCksYT1vYS5nZW8uY29uaWNFcXVhbEFyZWEoKS5yb3RhdGUoWzE1NCwwXSkuY2VudGVyKFstMiw1OC41XSkucGFyYWxsZWxzKFs1NSw2NV0pLG89b2EuZ2VvLmNvbmljRXF1YWxBcmVhKCkucm90YXRlKFsxNTcsMF0pLmNlbnRlcihbLTMsMTkuOV0pLnBhcmFsbGVscyhbOCwxOF0pLGw9e3BvaW50OmZ1bmN0aW9uKG4sZSl7dD1bbixlXX19O3JldHVybiBuLmludmVydD1mdW5jdGlvbihuKXt2YXIgdD1pLnNjYWxlKCksZT1pLnRyYW5zbGF0ZSgpLHI9KG5bMF0tZVswXSkvdCx1PShuWzFdLWVbMV0pL3Q7cmV0dXJuKHU+PS4xMiYmLjIzND51JiZyPj0tLjQyNSYmLS4yMTQ+cj9hOnU+PS4xNjYmJi4yMzQ+dSYmcj49LS4yMTQmJi0uMTE1PnI/bzppKS5pbnZlcnQobil9LG4uc3RyZWFtPWZ1bmN0aW9uKG4pe3ZhciB0PWkuc3RyZWFtKG4pLGU9YS5zdHJlYW0obikscj1vLnN0cmVhbShuKTtyZXR1cm57cG9pbnQ6ZnVuY3Rpb24obix1KXt0LnBvaW50KG4sdSksZS5wb2ludChuLHUpLHIucG9pbnQobix1KX0sc3BoZXJlOmZ1bmN0aW9uKCl7dC5zcGhlcmUoKSxlLnNwaGVyZSgpLHIuc3BoZXJlKCl9LGxpbmVTdGFydDpmdW5jdGlvbigpe3QubGluZVN0YXJ0KCksZS5saW5lU3RhcnQoKSxyLmxpbmVTdGFydCgpfSxsaW5lRW5kOmZ1bmN0aW9uKCl7dC5saW5lRW5kKCksZS5saW5lRW5kKCksci5saW5lRW5kKCl9LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe3QucG9seWdvblN0YXJ0KCksZS5wb2x5Z29uU3RhcnQoKSxyLnBvbHlnb25TdGFydCgpfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7dC5wb2x5Z29uRW5kKCksZS5wb2x5Z29uRW5kKCksci5wb2x5Z29uRW5kKCl9fX0sbi5wcmVjaXNpb249ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGkucHJlY2lzaW9uKHQpLGEucHJlY2lzaW9uKHQpLG8ucHJlY2lzaW9uKHQpLG4pOmkucHJlY2lzaW9uKCl9LG4uc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGkuc2NhbGUodCksYS5zY2FsZSguMzUqdCksby5zY2FsZSh0KSxuLnRyYW5zbGF0ZShpLnRyYW5zbGF0ZSgpKSk6aS5zY2FsZSgpfSxuLnRyYW5zbGF0ZT1mdW5jdGlvbih0KXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gaS50cmFuc2xhdGUoKTt2YXIgYz1pLnNjYWxlKCkscz0rdFswXSxmPSt0WzFdO3JldHVybiBlPWkudHJhbnNsYXRlKHQpLmNsaXBFeHRlbnQoW1tzLS40NTUqYyxmLS4yMzgqY10sW3MrLjQ1NSpjLGYrLjIzOCpjXV0pLnN0cmVhbShsKS5wb2ludCxyPWEudHJhbnNsYXRlKFtzLS4zMDcqYyxmKy4yMDEqY10pLmNsaXBFeHRlbnQoW1tzLS40MjUqYytQYSxmKy4xMipjK1BhXSxbcy0uMjE0KmMtUGEsZisuMjM0KmMtUGFdXSkuc3RyZWFtKGwpLnBvaW50LHU9by50cmFuc2xhdGUoW3MtLjIwNSpjLGYrLjIxMipjXSkuY2xpcEV4dGVudChbW3MtLjIxNCpjK1BhLGYrLjE2NipjK1BhXSxbcy0uMTE1KmMtUGEsZisuMjM0KmMtUGFdXSkuc3RyZWFtKGwpLnBvaW50LG59LG4uc2NhbGUoMTA3MCl9O3ZhciBPbyxJbyxZbyxabyxWbyxYbywkbz17cG9pbnQ6YixsaW5lU3RhcnQ6YixsaW5lRW5kOmIscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7SW89MCwkby5saW5lU3RhcnQ9JHR9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXskby5saW5lU3RhcnQ9JG8ubGluZUVuZD0kby5wb2ludD1iLE9vKz1NYShJby8yKX19LEJvPXtwb2ludDpCdCxsaW5lU3RhcnQ6YixsaW5lRW5kOmIscG9seWdvblN0YXJ0OmIscG9seWdvbkVuZDpifSxXbz17cG9pbnQ6R3QsbGluZVN0YXJ0Okt0LGxpbmVFbmQ6UXQscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7V28ubGluZVN0YXJ0PW5lfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7V28ucG9pbnQ9R3QsV28ubGluZVN0YXJ0PUt0LFdvLmxpbmVFbmQ9UXR9fTtvYS5nZW8ucGF0aD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obil7cmV0dXJuIG4mJigiZnVuY3Rpb24iPT10eXBlb2YgbyYmaS5wb2ludFJhZGl1cygrby5hcHBseSh0aGlzLGFyZ3VtZW50cykpLGEmJmEudmFsaWR8fChhPXUoaSkpLG9hLmdlby5zdHJlYW0obixhKSksaS5yZXN1bHQoKX1mdW5jdGlvbiB0KCl7cmV0dXJuIGE9bnVsbCxufXZhciBlLHIsdSxpLGEsbz00LjU7cmV0dXJuIG4uYXJlYT1mdW5jdGlvbihuKXtyZXR1cm4gT289MCxvYS5nZW8uc3RyZWFtKG4sdSgkbykpLE9vfSxuLmNlbnRyb2lkPWZ1bmN0aW9uKG4pe3JldHVybiBDbz16bz1Mbz1xbz1Ubz1Sbz1Ebz1Qbz1Vbz0wLG9hLmdlby5zdHJlYW0obix1KFdvKSksVW8/W0RvL1VvLFBvL1VvXTpSbz9bcW8vUm8sVG8vUm9dOkxvP1tDby9Mbyx6by9Mb106W05hTixOYU5dfSxuLmJvdW5kcz1mdW5jdGlvbihuKXtyZXR1cm4gVm89WG89LShZbz1abz0xLzApLG9hLmdlby5zdHJlYW0obix1KEJvKSksW1tZbyxab10sW1ZvLFhvXV19LG4ucHJvamVjdGlvbj1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT0oZT1uKT9uLnN0cmVhbXx8cmUobik6eSx0KCkpOmV9LG4uY29udGV4dD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1udWxsPT0ocj1uKT9uZXcgV3Q6bmV3IHRlKG4pLCJmdW5jdGlvbiIhPXR5cGVvZiBvJiZpLnBvaW50UmFkaXVzKG8pLHQoKSk6cn0sbi5wb2ludFJhZGl1cz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz0iZnVuY3Rpb24iPT10eXBlb2YgdD90OihpLnBvaW50UmFkaXVzKCt0KSwrdCksbik6b30sbi5wcm9qZWN0aW9uKG9hLmdlby5hbGJlcnNVc2EoKSkuY29udGV4dChudWxsKX0sb2EuZ2VvLnRyYW5zZm9ybT1mdW5jdGlvbihuKXtyZXR1cm57c3RyZWFtOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB1ZSh0KTtmb3IodmFyIHIgaW4gbillW3JdPW5bcl07cmV0dXJuIGV9fX0sdWUucHJvdG90eXBlPXtwb2ludDpmdW5jdGlvbihuLHQpe3RoaXMuc3RyZWFtLnBvaW50KG4sdCl9LHNwaGVyZTpmdW5jdGlvbigpe3RoaXMuc3RyZWFtLnNwaGVyZSgpfSxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbS5saW5lU3RhcnQoKX0sbGluZUVuZDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtLmxpbmVFbmQoKX0scG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5zdHJlYW0ucG9seWdvblN0YXJ0KCl9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbS5wb2x5Z29uRW5kKCl9fSxvYS5nZW8ucHJvamVjdGlvbj1hZSxvYS5nZW8ucHJvamVjdGlvbk11dGF0b3I9b2UsKG9hLmdlby5lcXVpcmVjdGFuZ3VsYXI9ZnVuY3Rpb24oKXtyZXR1cm4gYWUoY2UpfSkucmF3PWNlLmludmVydD1jZSxvYS5nZW8ucm90YXRpb249ZnVuY3Rpb24obil7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gdD1uKHRbMF0qSWEsdFsxXSpJYSksdFswXSo9WWEsdFsxXSo9WWEsdH1yZXR1cm4gbj1mZShuWzBdJTM2MCpJYSxuWzFdKklhLG4ubGVuZ3RoPjI/blsyXSpJYTowKSx0LmludmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdD1uLmludmVydCh0WzBdKklhLHRbMV0qSWEpLHRbMF0qPVlhLHRbMV0qPVlhLHR9LHR9LHNlLmludmVydD1jZSxvYS5nZW8uY2lyY2xlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3ZhciBuPSJmdW5jdGlvbiI9PXR5cGVvZiByP3IuYXBwbHkodGhpcyxhcmd1bWVudHMpOnIsdD1mZSgtblswXSpJYSwtblsxXSpJYSwwKS5pbnZlcnQsdT1bXTtyZXR1cm4gZShudWxsLG51bGwsMSx7cG9pbnQ6ZnVuY3Rpb24obixlKXt1LnB1c2gobj10KG4sZSkpLG5bMF0qPVlhLG5bMV0qPVlhfX0pLHt0eXBlOiJQb2x5Z29uIixjb29yZGluYXRlczpbdV19fXZhciB0LGUscj1bMCwwXSx1PTY7cmV0dXJuIG4ub3JpZ2luPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPXQsbik6cn0sbi5hbmdsZT1mdW5jdGlvbihyKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT12ZSgodD0rcikqSWEsdSpJYSksbik6dH0sbi5wcmVjaXNpb249ZnVuY3Rpb24ocil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9dmUodCpJYSwodT0rcikqSWEpLG4pOnV9LG4uYW5nbGUoOTApfSxvYS5nZW8uZGlzdGFuY2U9ZnVuY3Rpb24obix0KXt2YXIgZSxyPSh0WzBdLW5bMF0pKklhLHU9blsxXSpJYSxpPXRbMV0qSWEsYT1NYXRoLnNpbihyKSxvPU1hdGguY29zKHIpLGw9TWF0aC5zaW4odSksYz1NYXRoLmNvcyh1KSxzPU1hdGguc2luKGkpLGY9TWF0aC5jb3MoaSk7cmV0dXJuIE1hdGguYXRhbjIoTWF0aC5zcXJ0KChlPWYqYSkqZSsoZT1jKnMtbCpmKm8pKmUpLGwqcytjKmYqbyl9LG9hLmdlby5ncmF0aWN1bGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7cmV0dXJue3R5cGU6Ik11bHRpTGluZVN0cmluZyIsY29vcmRpbmF0ZXM6dCgpfX1mdW5jdGlvbiB0KCl7cmV0dXJuIG9hLnJhbmdlKE1hdGguY2VpbChpL2QpKmQsdSxkKS5tYXAoaCkuY29uY2F0KG9hLnJhbmdlKE1hdGguY2VpbChjL20pKm0sbCxtKS5tYXAoZykpLmNvbmNhdChvYS5yYW5nZShNYXRoLmNlaWwoci9wKSpwLGUscCkuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiBNYShuJWQpPlBhfSkubWFwKHMpKS5jb25jYXQob2EucmFuZ2UoTWF0aC5jZWlsKG8vdikqdixhLHYpLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gTWEobiVtKT5QYX0pLm1hcChmKSl9dmFyIGUscix1LGksYSxvLGwsYyxzLGYsaCxnLHA9MTAsdj1wLGQ9OTAsbT0zNjAseT0yLjU7cmV0dXJuIG4ubGluZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdCgpLm1hcChmdW5jdGlvbihuKXtyZXR1cm57dHlwZToiTGluZVN0cmluZyIsY29vcmRpbmF0ZXM6bn19KX0sbi5vdXRsaW5lPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6IlBvbHlnb24iLGNvb3JkaW5hdGVzOltoKGkpLmNvbmNhdChnKGwpLnNsaWNlKDEpLGgodSkucmV2ZXJzZSgpLnNsaWNlKDEpLGcoYykucmV2ZXJzZSgpLnNsaWNlKDEpKV19fSxuLmV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9uLm1ham9yRXh0ZW50KHQpLm1pbm9yRXh0ZW50KHQpOm4ubWlub3JFeHRlbnQoKX0sbi5tYWpvckV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT0rdFswXVswXSx1PSt0WzFdWzBdLGM9K3RbMF1bMV0sbD0rdFsxXVsxXSxpPnUmJih0PWksaT11LHU9dCksYz5sJiYodD1jLGM9bCxsPXQpLG4ucHJlY2lzaW9uKHkpKTpbW2ksY10sW3UsbF1dfSxuLm1pbm9yRXh0ZW50PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPSt0WzBdWzBdLGU9K3RbMV1bMF0sbz0rdFswXVsxXSxhPSt0WzFdWzFdLHI+ZSYmKHQ9cixyPWUsZT10KSxvPmEmJih0PW8sbz1hLGE9dCksbi5wcmVjaXNpb24oeSkpOltbcixvXSxbZSxhXV19LG4uc3RlcD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9uLm1ham9yU3RlcCh0KS5taW5vclN0ZXAodCk6bi5taW5vclN0ZXAoKX0sbi5tYWpvclN0ZXA9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9K3RbMF0sbT0rdFsxXSxuKTpbZCxtXX0sbi5taW5vclN0ZXA9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHA9K3RbMF0sdj0rdFsxXSxuKTpbcCx2XX0sbi5wcmVjaXNpb249ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHk9K3Qscz1tZShvLGEsOTApLGY9eWUocixlLHkpLGg9bWUoYyxsLDkwKSxnPXllKGksdSx5KSxuKTp5fSxuLm1ham9yRXh0ZW50KFtbLTE4MCwtOTArUGFdLFsxODAsOTAtUGFdXSkubWlub3JFeHRlbnQoW1stMTgwLC04MC1QYV0sWzE4MCw4MCtQYV1dKX0sb2EuZ2VvLmdyZWF0QXJjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3JldHVybnt0eXBlOiJMaW5lU3RyaW5nIixjb29yZGluYXRlczpbdHx8ci5hcHBseSh0aGlzLGFyZ3VtZW50cyksZXx8dS5hcHBseSh0aGlzLGFyZ3VtZW50cyldfX12YXIgdCxlLHI9TWUsdT14ZTtyZXR1cm4gbi5kaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiBvYS5nZW8uZGlzdGFuY2UodHx8ci5hcHBseSh0aGlzLGFyZ3VtZW50cyksZXx8dS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxuLnNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj1lLHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGU/bnVsbDplLG4pOnJ9LG4udGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PXQsZT0iZnVuY3Rpb24iPT10eXBlb2YgdD9udWxsOnQsbik6dX0sbi5wcmVjaXNpb249ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9uOjB9LG59LG9hLmdlby5pbnRlcnBvbGF0ZT1mdW5jdGlvbihuLHQpe3JldHVybiBiZShuWzBdKklhLG5bMV0qSWEsdFswXSpJYSx0WzFdKklhKX0sb2EuZ2VvLmxlbmd0aD1mdW5jdGlvbihuKXtyZXR1cm4gSm89MCxvYS5nZW8uc3RyZWFtKG4sR28pLEpvfTt2YXIgSm8sR289e3NwaGVyZTpiLHBvaW50OmIsbGluZVN0YXJ0Ol9lLGxpbmVFbmQ6Yixwb2x5Z29uU3RhcnQ6Yixwb2x5Z29uRW5kOmJ9LEtvPXdlKGZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLnNxcnQoMi8oMStuKSl9LGZ1bmN0aW9uKG4pe3JldHVybiAyKk1hdGguYXNpbihuLzIpfSk7KG9hLmdlby5hemltdXRoYWxFcXVhbEFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gYWUoS28pfSkucmF3PUtvO3ZhciBRbz13ZShmdW5jdGlvbihuKXt2YXIgdD1NYXRoLmFjb3Mobik7cmV0dXJuIHQmJnQvTWF0aC5zaW4odCl9LHkpOyhvYS5nZW8uYXppbXV0aGFsRXF1aWRpc3RhbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gYWUoUW8pfSkucmF3PVFvLChvYS5nZW8uY29uaWNDb25mb3JtYWw9ZnVuY3Rpb24oKXtyZXR1cm4gVnQoU2UpfSkucmF3PVNlLChvYS5nZW8uY29uaWNFcXVpZGlzdGFudD1mdW5jdGlvbigpe3JldHVybiBWdChrZSl9KS5yYXc9a2U7dmFyIG5sPXdlKGZ1bmN0aW9uKG4pe3JldHVybiAxL259LE1hdGguYXRhbik7KG9hLmdlby5nbm9tb25pYz1mdW5jdGlvbigpe3JldHVybiBhZShubCl9KS5yYXc9bmwsTmUuaW52ZXJ0PWZ1bmN0aW9uKG4sdCl7cmV0dXJuW24sMipNYXRoLmF0YW4oTWF0aC5leHAodCkpLU9hXX0sKG9hLmdlby5tZXJjYXRvcj1mdW5jdGlvbigpe3JldHVybiBFZShOZSl9KS5yYXc9TmU7dmFyIHRsPXdlKGZ1bmN0aW9uKCl7cmV0dXJuIDF9LE1hdGguYXNpbik7KG9hLmdlby5vcnRob2dyYXBoaWM9ZnVuY3Rpb24oKXtyZXR1cm4gYWUodGwpfSkucmF3PXRsO3ZhciBlbD13ZShmdW5jdGlvbihuKXtyZXR1cm4gMS8oMStuKX0sZnVuY3Rpb24obil7cmV0dXJuIDIqTWF0aC5hdGFuKG4pfSk7KG9hLmdlby5zdGVyZW9ncmFwaGljPWZ1bmN0aW9uKCl7cmV0dXJuIGFlKGVsKX0pLnJhdz1lbCxBZS5pbnZlcnQ9ZnVuY3Rpb24obix0KXtyZXR1cm5bLXQsMipNYXRoLmF0YW4oTWF0aC5leHAobikpLU9hXX0sKG9hLmdlby50cmFuc3ZlcnNlTWVyY2F0b3I9ZnVuY3Rpb24oKXt2YXIgbj1FZShBZSksdD1uLmNlbnRlcixlPW4ucm90YXRlO3JldHVybiBuLmNlbnRlcj1mdW5jdGlvbihuKXtyZXR1cm4gbj90KFstblsxXSxuWzBdXSk6KG49dCgpLFtuWzFdLC1uWzBdXSl9LG4ucm90YXRlPWZ1bmN0aW9uKG4pe3JldHVybiBuP2UoW25bMF0sblsxXSxuLmxlbmd0aD4yP25bMl0rOTA6OTBdKToobj1lKCksW25bMF0sblsxXSxuWzJdLTkwXSl9LGUoWzAsMCw5MF0pfSkucmF3PUFlLG9hLmdlb209e30sb2EuZ2VvbS5odWxsPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQobil7aWYobi5sZW5ndGg8MylyZXR1cm5bXTt2YXIgdCx1PUVuKGUpLGk9RW4ociksYT1uLmxlbmd0aCxvPVtdLGw9W107Zm9yKHQ9MDthPnQ7dCsrKW8ucHVzaChbK3UuY2FsbCh0aGlzLG5bdF0sdCksK2kuY2FsbCh0aGlzLG5bdF0sdCksdF0pO2ZvcihvLnNvcnQocWUpLHQ9MDthPnQ7dCsrKWwucHVzaChbb1t0XVswXSwtb1t0XVsxXV0pO3ZhciBjPUxlKG8pLHM9TGUobCksZj1zWzBdPT09Y1swXSxoPXNbcy5sZW5ndGgtMV09PT1jW2MubGVuZ3RoLTFdLGc9W107Zm9yKHQ9Yy5sZW5ndGgtMTt0Pj0wOy0tdClnLnB1c2gobltvW2NbdF1dWzJdXSk7Zm9yKHQ9K2Y7dDxzLmxlbmd0aC1oOysrdClnLnB1c2gobltvW3NbdF1dWzJdXSk7cmV0dXJuIGd9dmFyIGU9Q2Uscj16ZTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90KG4pOih0Lng9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9bix0KTplfSx0Lnk9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9bix0KTpyfSx0KX0sb2EuZ2VvbS5wb2x5Z29uPWZ1bmN0aW9uKG4pe3JldHVybiBTYShuLHJsKSxufTt2YXIgcmw9b2EuZ2VvbS5wb2x5Z29uLnByb3RvdHlwZT1bXTtybC5hcmVhPWZ1bmN0aW9uKCl7Zm9yKHZhciBuLHQ9LTEsZT10aGlzLmxlbmd0aCxyPXRoaXNbZS0xXSx1PTA7Kyt0PGU7KW49cixyPXRoaXNbdF0sdSs9blsxXSpyWzBdLW5bMF0qclsxXTtyZXR1cm4uNSp1fSxybC5jZW50cm9pZD1mdW5jdGlvbihuKXt2YXIgdCxlLHI9LTEsdT10aGlzLmxlbmd0aCxpPTAsYT0wLG89dGhpc1t1LTFdO2Zvcihhcmd1bWVudHMubGVuZ3RofHwobj0tMS8oNip0aGlzLmFyZWEoKSkpOysrcjx1Oyl0PW8sbz10aGlzW3JdLGU9dFswXSpvWzFdLW9bMF0qdFsxXSxpKz0odFswXStvWzBdKSplLGErPSh0WzFdK29bMV0pKmU7cmV0dXJuW2kqbixhKm5dfSxybC5jbGlwPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxlLHIsdSxpLGEsbz1EZShuKSxsPS0xLGM9dGhpcy5sZW5ndGgtRGUodGhpcykscz10aGlzW2MtMV07KytsPGM7KXtmb3IodD1uLnNsaWNlKCksbi5sZW5ndGg9MCx1PXRoaXNbbF0saT10WyhyPXQubGVuZ3RoLW8pLTFdLGU9LTE7KytlPHI7KWE9dFtlXSxUZShhLHMsdSk/KFRlKGkscyx1KXx8bi5wdXNoKFJlKGksYSxzLHUpKSxuLnB1c2goYSkpOlRlKGkscyx1KSYmbi5wdXNoKFJlKGksYSxzLHUpKSxpPWE7byYmbi5wdXNoKG5bMF0pLHM9dX1yZXR1cm4gbn07dmFyIHVsLGlsLGFsLG9sLGxsLGNsPVtdLHNsPVtdO1llLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKCl7Zm9yKHZhciBuLHQ9dGhpcy5lZGdlcyxlPXQubGVuZ3RoO2UtLTspbj10W2VdLmVkZ2Usbi5iJiZuLmF8fHQuc3BsaWNlKGUsMSk7cmV0dXJuIHQuc29ydChWZSksdC5sZW5ndGh9LHRyLnByb3RvdHlwZT17c3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGdlLmw9PT10aGlzLnNpdGU/dGhpcy5lZGdlLmE6dGhpcy5lZGdlLmJ9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkZ2UubD09PXRoaXMuc2l0ZT90aGlzLmVkZ2UuYjp0aGlzLmVkZ2UuYX19LGVyLnByb3RvdHlwZT17aW5zZXJ0OmZ1bmN0aW9uKG4sdCl7dmFyIGUscix1O2lmKG4pe2lmKHQuUD1uLHQuTj1uLk4sbi5OJiYobi5OLlA9dCksbi5OPXQsbi5SKXtmb3Iobj1uLlI7bi5MOyluPW4uTDtuLkw9dH1lbHNlIG4uUj10O2U9bn1lbHNlIHRoaXMuXz8obj1hcih0aGlzLl8pLHQuUD1udWxsLHQuTj1uLG4uUD1uLkw9dCxlPW4pOih0LlA9dC5OPW51bGwsdGhpcy5fPXQsZT1udWxsKTtmb3IodC5MPXQuUj1udWxsLHQuVT1lLHQuQz0hMCxuPXQ7ZSYmZS5DOylyPWUuVSxlPT09ci5MPyh1PXIuUix1JiZ1LkM/KGUuQz11LkM9ITEsci5DPSEwLG49cik6KG49PT1lLlImJih1cih0aGlzLGUpLG49ZSxlPW4uVSksZS5DPSExLHIuQz0hMCxpcih0aGlzLHIpKSk6KHU9ci5MLHUmJnUuQz8oZS5DPXUuQz0hMSxyLkM9ITAsbj1yKToobj09PWUuTCYmKGlyKHRoaXMsZSksbj1lLGU9bi5VKSxlLkM9ITEsci5DPSEwLHVyKHRoaXMscikpKSxlPW4uVTt0aGlzLl8uQz0hMX0scmVtb3ZlOmZ1bmN0aW9uKG4pe24uTiYmKG4uTi5QPW4uUCksbi5QJiYobi5QLk49bi5OKSxuLk49bi5QPW51bGw7dmFyIHQsZSxyLHU9bi5VLGk9bi5MLGE9bi5SO2lmKGU9aT9hP2FyKGEpOmk6YSx1P3UuTD09PW4/dS5MPWU6dS5SPWU6dGhpcy5fPWUsaSYmYT8ocj1lLkMsZS5DPW4uQyxlLkw9aSxpLlU9ZSxlIT09YT8odT1lLlUsZS5VPW4uVSxuPWUuUix1Lkw9bixlLlI9YSxhLlU9ZSk6KGUuVT11LHU9ZSxuPWUuUikpOihyPW4uQyxuPWUpLG4mJihuLlU9dSksIXIpe2lmKG4mJm4uQylyZXR1cm4gdm9pZChuLkM9ITEpO2Rve2lmKG49PT10aGlzLl8pYnJlYWs7aWYobj09PXUuTCl7aWYodD11LlIsdC5DJiYodC5DPSExLHUuQz0hMCx1cih0aGlzLHUpLHQ9dS5SKSx0LkwmJnQuTC5DfHx0LlImJnQuUi5DKXt0LlImJnQuUi5DfHwodC5MLkM9ITEsdC5DPSEwLGlyKHRoaXMsdCksdD11LlIpLHQuQz11LkMsdS5DPXQuUi5DPSExLHVyKHRoaXMsdSksbj10aGlzLl87YnJlYWt9fWVsc2UgaWYodD11LkwsdC5DJiYodC5DPSExLHUuQz0hMCxpcih0aGlzLHUpLHQ9dS5MKSx0LkwmJnQuTC5DfHx0LlImJnQuUi5DKXt0LkwmJnQuTC5DfHwodC5SLkM9ITEsdC5DPSEwLHVyKHRoaXMsdCksdD11LkwpLHQuQz11LkMsdS5DPXQuTC5DPSExLGlyKHRoaXMsdSksbj10aGlzLl87YnJlYWt9dC5DPSEwLG49dSx1PXUuVX13aGlsZSghbi5DKTtuJiYobi5DPSExKX19fSxvYS5nZW9tLnZvcm9ub2k9ZnVuY3Rpb24obil7ZnVuY3Rpb24gdChuKXt2YXIgdD1uZXcgQXJyYXkobi5sZW5ndGgpLHI9b1swXVswXSx1PW9bMF1bMV0saT1vWzFdWzBdLGE9b1sxXVsxXTtyZXR1cm4gb3IoZShuKSxvKS5jZWxscy5mb3JFYWNoKGZ1bmN0aW9uKGUsbyl7dmFyIGw9ZS5lZGdlcyxjPWUuc2l0ZSxzPXRbb109bC5sZW5ndGg/bC5tYXAoZnVuY3Rpb24obil7dmFyIHQ9bi5zdGFydCgpO3JldHVyblt0LngsdC55XX0pOmMueD49ciYmYy54PD1pJiZjLnk+PXUmJmMueTw9YT9bW3IsYV0sW2ksYV0sW2ksdV0sW3IsdV1dOltdO3MucG9pbnQ9bltvXX0pLHR9ZnVuY3Rpb24gZShuKXtyZXR1cm4gbi5tYXAoZnVuY3Rpb24obix0KXtyZXR1cm57eDpNYXRoLnJvdW5kKGkobix0KS9QYSkqUGEseTpNYXRoLnJvdW5kKGEobix0KS9QYSkqUGEsaTp0fX0pfXZhciByPUNlLHU9emUsaT1yLGE9dSxvPWZsO3JldHVybiBuP3Qobik6KHQubGlua3M9ZnVuY3Rpb24obil7cmV0dXJuIG9yKGUobikpLmVkZ2VzLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gbi5sJiZuLnJ9KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJue3NvdXJjZTpuW3QubC5pXSx0YXJnZXQ6blt0LnIuaV19fSl9LHQudHJpYW5nbGVzPWZ1bmN0aW9uKG4pe3ZhciB0PVtdO3JldHVybiBvcihlKG4pKS5jZWxscy5mb3JFYWNoKGZ1bmN0aW9uKGUscil7Zm9yKHZhciB1LGksYT1lLnNpdGUsbz1lLmVkZ2VzLnNvcnQoVmUpLGw9LTEsYz1vLmxlbmd0aCxzPW9bYy0xXS5lZGdlLGY9cy5sPT09YT9zLnI6cy5sOysrbDxjOyl1PXMsaT1mLHM9b1tsXS5lZGdlLGY9cy5sPT09YT9zLnI6cy5sLHI8aS5pJiZyPGYuaSYmY3IoYSxpLGYpPDAmJnQucHVzaChbbltyXSxuW2kuaV0sbltmLmldXSl9KSx0fSx0Lng9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9RW4ocj1uKSx0KTpyfSx0Lnk9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9RW4odT1uKSx0KTp1fSx0LmNsaXBFeHRlbnQ9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89bnVsbD09bj9mbDpuLHQpOm89PT1mbD9udWxsOm99LHQuc2l6ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90LmNsaXBFeHRlbnQobiYmW1swLDBdLG5dKTpvPT09Zmw/bnVsbDpvJiZvWzFdfSx0KX07dmFyIGZsPVtbLTFlNiwtMWU2XSxbMWU2LDFlNl1dO29hLmdlb20uZGVsYXVuYXk9ZnVuY3Rpb24obil7cmV0dXJuIG9hLmdlb20udm9yb25vaSgpLnRyaWFuZ2xlcyhuKX0sb2EuZ2VvbS5xdWFkdHJlZT1mdW5jdGlvbihuLHQsZSxyLHUpe2Z1bmN0aW9uIGkobil7ZnVuY3Rpb24gaShuLHQsZSxyLHUsaSxhLG8pe2lmKCFpc05hTihlKSYmIWlzTmFOKHIpKWlmKG4ubGVhZil7dmFyIGw9bi54LHM9bi55O2lmKG51bGwhPWwpaWYoTWEobC1lKStNYShzLXIpPC4wMSljKG4sdCxlLHIsdSxpLGEsbyk7ZWxzZXt2YXIgZj1uLnBvaW50O24ueD1uLnk9bi5wb2ludD1udWxsLGMobixmLGwscyx1LGksYSxvKSxjKG4sdCxlLHIsdSxpLGEsbyl9ZWxzZSBuLng9ZSxuLnk9cixuLnBvaW50PXR9ZWxzZSBjKG4sdCxlLHIsdSxpLGEsbyl9ZnVuY3Rpb24gYyhuLHQsZSxyLHUsYSxvLGwpe3ZhciBjPS41Kih1K28pLHM9LjUqKGErbCksZj1lPj1jLGg9cj49cyxnPWg8PDF8ZjtuLmxlYWY9ITEsbj1uLm5vZGVzW2ddfHwobi5ub2Rlc1tnXT1ocigpKSxmP3U9YzpvPWMsaD9hPXM6bD1zLGkobix0LGUscix1LGEsbyxsKX12YXIgcyxmLGgsZyxwLHYsZCxtLHksTT1FbihvKSx4PUVuKGwpO2lmKG51bGwhPXQpdj10LGQ9ZSxtPXIseT11O2Vsc2UgaWYobT15PS0odj1kPTEvMCksZj1bXSxoPVtdLHA9bi5sZW5ndGgsYSlmb3IoZz0wO3A+ZzsrK2cpcz1uW2ddLHMueDx2JiYodj1zLngpLHMueTxkJiYoZD1zLnkpLHMueD5tJiYobT1zLngpLHMueT55JiYoeT1zLnkpLGYucHVzaChzLngpLGgucHVzaChzLnkpO2Vsc2UgZm9yKGc9MDtwPmc7KytnKXt2YXIgYj0rTShzPW5bZ10sZyksXz0reChzLGcpO3Y+YiYmKHY9YiksZD5fJiYoZD1fKSxiPm0mJihtPWIpLF8+eSYmKHk9XyksZi5wdXNoKGIpLGgucHVzaChfKX12YXIgdz1tLXYsUz15LWQ7dz5TP3k9ZCt3Om09ditTO3ZhciBrPWhyKCk7aWYoay5hZGQ9ZnVuY3Rpb24obil7aShrLG4sK00obiwrK2cpLCt4KG4sZyksdixkLG0seSl9LGsudmlzaXQ9ZnVuY3Rpb24obil7Z3IobixrLHYsZCxtLHkpfSxrLmZpbmQ9ZnVuY3Rpb24obil7cmV0dXJuIHByKGssblswXSxuWzFdLHYsZCxtLHkpfSxnPS0xLG51bGw9PXQpe2Zvcig7KytnPHA7KWkoayxuW2ddLGZbZ10saFtnXSx2LGQsbSx5KTstLWd9ZWxzZSBuLmZvckVhY2goay5hZGQpO3JldHVybiBmPWg9bj1zPW51bGwsa312YXIgYSxvPUNlLGw9emU7cmV0dXJuKGE9YXJndW1lbnRzLmxlbmd0aCk/KG89c3IsbD1mciwzPT09YSYmKHU9ZSxyPXQsZT10PTApLGkobikpOihpLng9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89bixpKTpvfSxpLnk9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGw9bixpKTpsfSxpLmV4dGVudD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obnVsbD09bj90PWU9cj11PW51bGw6KHQ9K25bMF1bMF0sZT0rblswXVsxXSxyPStuWzFdWzBdLHU9K25bMV1bMV0pLGkpOm51bGw9PXQ/bnVsbDpbW3QsZV0sW3IsdV1dfSxpLnNpemU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG51bGw9PW4/dD1lPXI9dT1udWxsOih0PWU9MCxyPStuWzBdLHU9K25bMV0pLGkpOm51bGw9PXQ/bnVsbDpbci10LHUtZV19LGkpfSxvYS5pbnRlcnBvbGF0ZVJnYj12cixvYS5pbnRlcnBvbGF0ZU9iamVjdD1kcixvYS5pbnRlcnBvbGF0ZU51bWJlcj1tcixvYS5pbnRlcnBvbGF0ZVN0cmluZz15cjt2YXIgaGw9L1stK10/KD86XGQrXC4/XGQqfFwuP1xkKykoPzpbZUVdWy0rXT9cZCspPy9nLGdsPW5ldyBSZWdFeHAoaGwuc291cmNlLCJnIik7b2EuaW50ZXJwb2xhdGU9TXIsb2EuaW50ZXJwb2xhdG9ycz1bZnVuY3Rpb24obix0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm4oInN0cmluZyI9PT1lP3VvLmhhcyh0LnRvTG93ZXJDYXNlKCkpfHwvXigjfHJnYlwofGhzbFwoKS9pLnRlc3QodCk/dnI6eXI6dCBpbnN0YW5jZW9mIG9uP3ZyOkFycmF5LmlzQXJyYXkodCk/eHI6Im9iamVjdCI9PT1lJiZpc05hTih0KT9kcjptcikobix0KX1dLG9hLmludGVycG9sYXRlQXJyYXk9eHI7dmFyIHBsPWZ1bmN0aW9uKCl7cmV0dXJuIHl9LHZsPW9hLm1hcCh7bGluZWFyOnBsLHBvbHk6RXIscXVhZDpmdW5jdGlvbigpe3JldHVybiBTcn0sY3ViaWM6ZnVuY3Rpb24oKXtyZXR1cm4ga3J9LHNpbjpmdW5jdGlvbigpe3JldHVybiBBcn0sZXhwOmZ1bmN0aW9uKCl7cmV0dXJuIENyfSxjaXJjbGU6ZnVuY3Rpb24oKXtyZXR1cm4genJ9LGVsYXN0aWM6THIsYmFjazpxcixib3VuY2U6ZnVuY3Rpb24oKXtyZXR1cm4gVHJ9fSksZGw9b2EubWFwKHsiaW4iOnksb3V0Ol9yLCJpbi1vdXQiOndyLCJvdXQtaW4iOmZ1bmN0aW9uKG4pe3JldHVybiB3cihfcihuKSl9fSk7b2EuZWFzZT1mdW5jdGlvbihuKXt2YXIgdD1uLmluZGV4T2YoIi0iKSxlPXQ+PTA/bi5zbGljZSgwLHQpOm4scj10Pj0wP24uc2xpY2UodCsxKToiaW4iO3JldHVybiBlPXZsLmdldChlKXx8cGwscj1kbC5nZXQocil8fHksYnIocihlLmFwcGx5KG51bGwsbGEuY2FsbChhcmd1bWVudHMsMSkpKSl9LG9hLmludGVycG9sYXRlSGNsPVJyLG9hLmludGVycG9sYXRlSHNsPURyLG9hLmludGVycG9sYXRlTGFiPVByLG9hLmludGVycG9sYXRlUm91bmQ9VXIsb2EudHJhbnNmb3JtPWZ1bmN0aW9uKG4pe3ZhciB0PXNhLmNyZWF0ZUVsZW1lbnROUyhvYS5ucy5wcmVmaXguc3ZnLCJnIik7cmV0dXJuKG9hLnRyYW5zZm9ybT1mdW5jdGlvbihuKXtpZihudWxsIT1uKXt0LnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIixuKTt2YXIgZT10LnRyYW5zZm9ybS5iYXNlVmFsLmNvbnNvbGlkYXRlKCl9cmV0dXJuIG5ldyBqcihlP2UubWF0cml4Om1sKX0pKG4pfSxqci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4idHJhbnNsYXRlKCIrdGhpcy50cmFuc2xhdGUrIilyb3RhdGUoIit0aGlzLnJvdGF0ZSsiKXNrZXdYKCIrdGhpcy5za2V3KyIpc2NhbGUoIit0aGlzLnNjYWxlKyIpIn07dmFyIG1sPXthOjEsYjowLGM6MCxkOjEsZTowLGY6MH07b2EuaW50ZXJwb2xhdGVUcmFuc2Zvcm09JHIsb2EubGF5b3V0PXt9LG9hLmxheW91dC5idW5kbGU9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7Zm9yKHZhciB0PVtdLGU9LTEscj1uLmxlbmd0aDsrK2U8cjspdC5wdXNoKEpyKG5bZV0pKTtyZXR1cm4gdH19LG9hLmxheW91dC5jaG9yZD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt2YXIgbixjLGYsaCxnLHA9e30sdj1bXSxkPW9hLnJhbmdlKGkpLG09W107Zm9yKGU9W10scj1bXSxuPTAsaD0tMTsrK2g8aTspe2ZvcihjPTAsZz0tMTsrK2c8aTspYys9dVtoXVtnXTt2LnB1c2goYyksbS5wdXNoKG9hLnJhbmdlKGkpKSxuKz1jfWZvcihhJiZkLnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gYSh2W25dLHZbdF0pfSksbyYmbS5mb3JFYWNoKGZ1bmN0aW9uKG4sdCl7bi5zb3J0KGZ1bmN0aW9uKG4sZSl7cmV0dXJuIG8odVt0XVtuXSx1W3RdW2VdKX0pfSksbj0oRmEtcyppKS9uLGM9MCxoPS0xOysraDxpOyl7Zm9yKGY9YyxnPS0xOysrZzxpOyl7dmFyIHk9ZFtoXSxNPW1beV1bZ10seD11W3ldW01dLGI9YyxfPWMrPXgqbjtwW3krIi0iK01dPXtpbmRleDp5LHN1YmluZGV4Ok0sc3RhcnRBbmdsZTpiLGVuZEFuZ2xlOl8sdmFsdWU6eH19clt5XT17aW5kZXg6eSxzdGFydEFuZ2xlOmYsZW5kQW5nbGU6Yyx2YWx1ZTp2W3ldfSxjKz1zfWZvcihoPS0xOysraDxpOylmb3IoZz1oLTE7KytnPGk7KXt2YXIgdz1wW2grIi0iK2ddLFM9cFtnKyItIitoXTsody52YWx1ZXx8Uy52YWx1ZSkmJmUucHVzaCh3LnZhbHVlPFMudmFsdWU/e3NvdXJjZTpTLHRhcmdldDp3fTp7c291cmNlOncsdGFyZ2V0OlN9KX1sJiZ0KCl9ZnVuY3Rpb24gdCgpe2Uuc29ydChmdW5jdGlvbihuLHQpe3JldHVybiBsKChuLnNvdXJjZS52YWx1ZStuLnRhcmdldC52YWx1ZSkvMiwodC5zb3VyY2UudmFsdWUrdC50YXJnZXQudmFsdWUpLzIpfSl9dmFyIGUscix1LGksYSxvLGwsYz17fSxzPTA7cmV0dXJuIGMubWF0cml4PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPSh1PW4pJiZ1Lmxlbmd0aCxlPXI9bnVsbCxjKTp1fSxjLnBhZGRpbmc9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHM9bixlPXI9bnVsbCxjKTpzfSxjLnNvcnRHcm91cHM9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9bixlPXI9bnVsbCxjKTphfSxjLnNvcnRTdWJncm91cHM9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89bixlPW51bGwsYyk6b30sYy5zb3J0Q2hvcmRzPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPW4sZSYmdCgpLGMpOmx9LGMuY2hvcmRzPWZ1bmN0aW9uKCl7cmV0dXJuIGV8fG4oKSxlfSxjLmdyb3Vwcz1mdW5jdGlvbigpe3JldHVybiByfHxuKCkscn0sY30sb2EubGF5b3V0LmZvcmNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtyZXR1cm4gZnVuY3Rpb24odCxlLHIsdSl7aWYodC5wb2ludCE9PW4pe3ZhciBpPXQuY3gtbi54LGE9dC5jeS1uLnksbz11LWUsbD1pKmkrYSphO2lmKGw+bypvL20pe2lmKHY+bCl7dmFyIGM9dC5jaGFyZ2UvbDtuLnB4LT1pKmMsbi5weS09YSpjfXJldHVybiEwfWlmKHQucG9pbnQmJmwmJnY+bCl7dmFyIGM9dC5wb2ludENoYXJnZS9sO24ucHgtPWkqYyxuLnB5LT1hKmN9fXJldHVybiF0LmNoYXJnZX19ZnVuY3Rpb24gdChuKXtuLnB4PW9hLmV2ZW50Lngsbi5weT1vYS5ldmVudC55LGwucmVzdW1lKCl9dmFyIGUscix1LGksYSxvLGw9e30sYz1vYS5kaXNwYXRjaCgic3RhcnQiLCJ0aWNrIiwiZW5kIikscz1bMSwxXSxmPS45LGg9eWwsZz1NbCxwPS0zMCx2PXhsLGQ9LjEsbT0uNjQsTT1bXSx4PVtdO3JldHVybiBsLnRpY2s9ZnVuY3Rpb24oKXtpZigodSo9Ljk5KTwuMDA1KXJldHVybiBlPW51bGwsYy5lbmQoe3R5cGU6ImVuZCIsYWxwaGE6dT0wfSksITA7dmFyIHQscixsLGgsZyx2LG0seSxiLF89TS5sZW5ndGgsdz14Lmxlbmd0aDtmb3Iocj0wO3c+cjsrK3IpbD14W3JdLGg9bC5zb3VyY2UsZz1sLnRhcmdldCx5PWcueC1oLngsYj1nLnktaC55LCh2PXkqeStiKmIpJiYodj11KmFbcl0qKCh2PU1hdGguc3FydCh2KSktaVtyXSkvdix5Kj12LGIqPXYsZy54LT15KihtPWgud2VpZ2h0K2cud2VpZ2h0P2gud2VpZ2h0LyhoLndlaWdodCtnLndlaWdodCk6LjUpLGcueS09YiptLGgueCs9eSoobT0xLW0pLGgueSs9YiptKTtpZigobT11KmQpJiYoeT1zWzBdLzIsYj1zWzFdLzIscj0tMSxtKSlmb3IoOysrcjxfOylsPU1bcl0sbC54Kz0oeS1sLngpKm0sbC55Kz0oYi1sLnkpKm07aWYocClmb3IocnUodD1vYS5nZW9tLnF1YWR0cmVlKE0pLHUsbykscj0tMTsrK3I8XzspKGw9TVtyXSkuZml4ZWR8fHQudmlzaXQobihsKSk7Zm9yKHI9LTE7KytyPF87KWw9TVtyXSxsLmZpeGVkPyhsLng9bC5weCxsLnk9bC5weSk6KGwueC09KGwucHgtKGwucHg9bC54KSkqZixsLnktPShsLnB5LShsLnB5PWwueSkpKmYpO2MudGljayh7dHlwZToidGljayIsYWxwaGE6dX0pfSxsLm5vZGVzPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhNPW4sbCk6TX0sbC5saW5rcz1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeD1uLGwpOnh9LGwuc2l6ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocz1uLGwpOnN9LGwubGlua0Rpc3RhbmNlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhoPSJmdW5jdGlvbiI9PXR5cGVvZiBuP246K24sbCk6aH0sbC5kaXN0YW5jZT1sLmxpbmtEaXN0YW5jZSxsLmxpbmtTdHJlbmd0aD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZz0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uOituLGwpOmd9LGwuZnJpY3Rpb249ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9K24sbCk6Zn0sbC5jaGFyZ2U9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHA9ImZ1bmN0aW9uIj09dHlwZW9mIG4/bjorbixsKTpwfSxsLmNoYXJnZURpc3RhbmNlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh2PW4qbixsKTpNYXRoLnNxcnQodil9LGwuZ3Jhdml0eT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD0rbixsKTpkfSxsLnRoZXRhPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhtPW4qbixsKTpNYXRoLnNxcnQobSl9LGwuYWxwaGE9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49K24sdT9uPjA/dT1uOihlLmM9bnVsbCxlLnQ9TmFOLGU9bnVsbCxjLmVuZCh7dHlwZToiZW5kIixhbHBoYTp1PTB9KSk6bj4wJiYoYy5zdGFydCh7dHlwZToic3RhcnQiLGFscGhhOnU9bn0pLGU9cW4obC50aWNrKSksbCk6dX0sbC5zdGFydD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obixyKXtpZighZSl7Zm9yKGU9bmV3IEFycmF5KHUpLGw9MDt1Pmw7KytsKWVbbF09W107Zm9yKGw9MDtjPmw7KytsKXt2YXIgaT14W2xdO2VbaS5zb3VyY2UuaW5kZXhdLnB1c2goaS50YXJnZXQpLGVbaS50YXJnZXQuaW5kZXhdLnB1c2goaS5zb3VyY2UpfX1mb3IodmFyIGEsbz1lW3RdLGw9LTEscz1vLmxlbmd0aDsrK2w8czspaWYoIWlzTmFOKGE9b1tsXVtuXSkpcmV0dXJuIGE7cmV0dXJuIE1hdGgucmFuZG9tKCkqcn12YXIgdCxlLHIsdT1NLmxlbmd0aCxjPXgubGVuZ3RoLGY9c1swXSx2PXNbMV07Zm9yKHQ9MDt1PnQ7Kyt0KShyPU1bdF0pLmluZGV4PXQsci53ZWlnaHQ9MDtmb3IodD0wO2M+dDsrK3Qpcj14W3RdLCJudW1iZXIiPT10eXBlb2Ygci5zb3VyY2UmJihyLnNvdXJjZT1NW3Iuc291cmNlXSksIm51bWJlciI9PXR5cGVvZiByLnRhcmdldCYmKHIudGFyZ2V0PU1bci50YXJnZXRdKSwrK3Iuc291cmNlLndlaWdodCwrK3IudGFyZ2V0LndlaWdodDtmb3IodD0wO3U+dDsrK3Qpcj1NW3RdLGlzTmFOKHIueCkmJihyLng9bigieCIsZikpLGlzTmFOKHIueSkmJihyLnk9bigieSIsdikpLGlzTmFOKHIucHgpJiYoci5weD1yLngpLGlzTmFOKHIucHkpJiYoci5weT1yLnkpO2lmKGk9W10sImZ1bmN0aW9uIj09dHlwZW9mIGgpZm9yKHQ9MDtjPnQ7Kyt0KWlbdF09K2guY2FsbCh0aGlzLHhbdF0sdCk7ZWxzZSBmb3IodD0wO2M+dDsrK3QpaVt0XT1oO2lmKGE9W10sImZ1bmN0aW9uIj09dHlwZW9mIGcpZm9yKHQ9MDtjPnQ7Kyt0KWFbdF09K2cuY2FsbCh0aGlzLHhbdF0sdCk7ZWxzZSBmb3IodD0wO2M+dDsrK3QpYVt0XT1nO2lmKG89W10sImZ1bmN0aW9uIj09dHlwZW9mIHApZm9yKHQ9MDt1PnQ7Kyt0KW9bdF09K3AuY2FsbCh0aGlzLE1bdF0sdCk7ZWxzZSBmb3IodD0wO3U+dDsrK3Qpb1t0XT1wO3JldHVybiBsLnJlc3VtZSgpfSxsLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiBsLmFscGhhKC4xKX0sbC5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIGwuYWxwaGEoMCl9LGwuZHJhZz1mdW5jdGlvbigpe3JldHVybiByfHwocj1vYS5iZWhhdmlvci5kcmFnKCkub3JpZ2luKHkpLm9uKCJkcmFnc3RhcnQuZm9yY2UiLFFyKS5vbigiZHJhZy5mb3JjZSIsdCkub24oImRyYWdlbmQuZm9yY2UiLG51KSksYXJndW1lbnRzLmxlbmd0aD92b2lkIHRoaXMub24oIm1vdXNlb3Zlci5mb3JjZSIsdHUpLm9uKCJtb3VzZW91dC5mb3JjZSIsZXUpLmNhbGwocik6cn0sb2EucmViaW5kKGwsYywib24iKX07dmFyIHlsPTIwLE1sPTEseGw9MS8wO29hLmxheW91dC5oaWVyYXJjaHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKHUpe3ZhciBpLGE9W3VdLG89W107Zm9yKHUuZGVwdGg9MDtudWxsIT0oaT1hLnBvcCgpKTspaWYoby5wdXNoKGkpLChjPWUuY2FsbChuLGksaS5kZXB0aCkpJiYobD1jLmxlbmd0aCkpe2Zvcih2YXIgbCxjLHM7LS1sPj0wOylhLnB1c2gocz1jW2xdKSxzLnBhcmVudD1pLHMuZGVwdGg9aS5kZXB0aCsxO3ImJihpLnZhbHVlPTApLGkuY2hpbGRyZW49Y31lbHNlIHImJihpLnZhbHVlPStyLmNhbGwobixpLGkuZGVwdGgpfHwwKSxkZWxldGUgaS5jaGlsZHJlbjtyZXR1cm4gYXUodSxmdW5jdGlvbihuKXt2YXIgZSx1O3QmJihlPW4uY2hpbGRyZW4pJiZlLnNvcnQodCksciYmKHU9bi5wYXJlbnQpJiYodS52YWx1ZSs9bi52YWx1ZSl9KSxvfXZhciB0PWN1LGU9b3Uscj1sdTtyZXR1cm4gbi5zb3J0PWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PWUsbik6dH0sbi5jaGlsZHJlbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT10LG4pOmV9LG4udmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9dCxuKTpyfSxuLnJldmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHImJihpdSh0LGZ1bmN0aW9uKG4pe24uY2hpbGRyZW4mJihuLnZhbHVlPTApfSksYXUodCxmdW5jdGlvbih0KXt2YXIgZTt0LmNoaWxkcmVufHwodC52YWx1ZT0rci5jYWxsKG4sdCx0LmRlcHRoKXx8MCksKGU9dC5wYXJlbnQpJiYoZS52YWx1ZSs9dC52YWx1ZSl9KSksdH0sbn0sb2EubGF5b3V0LnBhcnRpdGlvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIG4odCxlLHIsdSl7dmFyIGk9dC5jaGlsZHJlbjtpZih0Lng9ZSx0Lnk9dC5kZXB0aCp1LHQuZHg9cix0LmR5PXUsaSYmKGE9aS5sZW5ndGgpKXt2YXIgYSxvLGwsYz0tMTtmb3Iocj10LnZhbHVlP3IvdC52YWx1ZTowOysrYzxhOyluKG89aVtjXSxlLGw9by52YWx1ZSpyLHUpLGUrPWx9fWZ1bmN0aW9uIHQobil7dmFyIGU9bi5jaGlsZHJlbixyPTA7aWYoZSYmKHU9ZS5sZW5ndGgpKWZvcih2YXIgdSxpPS0xOysraTx1OylyPU1hdGgubWF4KHIsdChlW2ldKSk7cmV0dXJuIDErcn1mdW5jdGlvbiBlKGUsaSl7dmFyIGE9ci5jYWxsKHRoaXMsZSxpKTtyZXR1cm4gbihhWzBdLDAsdVswXSx1WzFdL3QoYVswXSkpLGF9dmFyIHI9b2EubGF5b3V0LmhpZXJhcmNoeSgpLHU9WzEsMV07cmV0dXJuIGUuc2l6ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT1uLGUpOnV9LHV1KGUscil9LG9hLmxheW91dC5waWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKGEpe3ZhciBvLGw9YS5sZW5ndGgsYz1hLm1hcChmdW5jdGlvbihlLHIpe3JldHVybit0LmNhbGwobixlLHIpfSkscz0rKCJmdW5jdGlvbiI9PXR5cGVvZiByP3IuYXBwbHkodGhpcyxhcmd1bWVudHMpOnIpLGY9KCJmdW5jdGlvbiI9PXR5cGVvZiB1P3UuYXBwbHkodGhpcyxhcmd1bWVudHMpOnUpLXMsaD1NYXRoLm1pbihNYXRoLmFicyhmKS9sLCsoImZ1bmN0aW9uIj09dHlwZW9mIGk/aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6aSkpLGc9aCooMD5mPy0xOjEpLHA9b2Euc3VtKGMpLHY9cD8oZi1sKmcpL3A6MCxkPW9hLnJhbmdlKGwpLG09W107cmV0dXJuIG51bGwhPWUmJmQuc29ydChlPT09Ymw/ZnVuY3Rpb24obix0KXtyZXR1cm4gY1t0XS1jW25dfTpmdW5jdGlvbihuLHQpe3JldHVybiBlKGFbbl0sYVt0XSl9KSxkLmZvckVhY2goZnVuY3Rpb24obil7bVtuXT17ZGF0YTphW25dLHZhbHVlOm89Y1tuXSxzdGFydEFuZ2xlOnMsZW5kQW5nbGU6cys9byp2K2cscGFkQW5nbGU6aH19KSxtfXZhciB0PU51bWJlcixlPWJsLHI9MCx1PUZhLGk9MDtyZXR1cm4gbi52YWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1lLG4pOnR9LG4uc29ydD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT10LG4pOmV9LG4uc3RhcnRBbmdsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj10LG4pOnJ9LG4uZW5kQW5nbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9dCxuKTp1fSxuLnBhZEFuZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPXQsbik6aX0sbn07dmFyIGJsPXt9O29hLmxheW91dC5zdGFjaz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obyxsKXtpZighKGg9by5sZW5ndGgpKXJldHVybiBvO3ZhciBjPW8ubWFwKGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuY2FsbChuLGUscil9KSxzPWMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcChmdW5jdGlvbih0LGUpe3JldHVybltpLmNhbGwobix0LGUpLGEuY2FsbChuLHQsZSldfSl9KSxmPWUuY2FsbChuLHMsbCk7Yz1vYS5wZXJtdXRlKGMsZikscz1vYS5wZXJtdXRlKHMsZik7dmFyIGgsZyxwLHYsZD1yLmNhbGwobixzLGwpLG09Y1swXS5sZW5ndGg7Zm9yKHA9MDttPnA7KytwKWZvcih1LmNhbGwobixjWzBdW3BdLHY9ZFtwXSxzWzBdW3BdWzFdKSxnPTE7aD5nOysrZyl1LmNhbGwobixjW2ddW3BdLHYrPXNbZy0xXVtwXVsxXSxzW2ddW3BdWzFdKTtyZXR1cm4gb312YXIgdD15LGU9cHUscj12dSx1PWd1LGk9ZnUsYT1odTtyZXR1cm4gbi52YWx1ZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9ZSxuKTp0fSxuLm9yZGVyPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6X2wuZ2V0KHQpfHxwdSxuKTplfSxuLm9mZnNldD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj0iZnVuY3Rpb24iPT10eXBlb2YgdD90OndsLmdldCh0KXx8dnUsbik6cn0sbi54PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPXQsbik6aX0sbi55PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPXQsbik6YX0sbi5vdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9dCxuKTp1fSxufTt2YXIgX2w9b2EubWFwKHsiaW5zaWRlLW91dCI6ZnVuY3Rpb24obil7dmFyIHQsZSxyPW4ubGVuZ3RoLHU9bi5tYXAoZHUpLGk9bi5tYXAobXUpLGE9b2EucmFuZ2Uocikuc29ydChmdW5jdGlvbihuLHQpe3JldHVybiB1W25dLXVbdF19KSxvPTAsbD0wLGM9W10scz1bXTtmb3IodD0wO3I+dDsrK3QpZT1hW3RdLGw+bz8obys9aVtlXSxjLnB1c2goZSkpOihsKz1pW2VdLHMucHVzaChlKSk7cmV0dXJuIHMucmV2ZXJzZSgpLmNvbmNhdChjKX0scmV2ZXJzZTpmdW5jdGlvbihuKXtyZXR1cm4gb2EucmFuZ2Uobi5sZW5ndGgpLnJldmVyc2UoKX0sImRlZmF1bHQiOnB1fSksd2w9b2EubWFwKHtzaWxob3VldHRlOmZ1bmN0aW9uKG4pe3ZhciB0LGUscix1PW4ubGVuZ3RoLGk9blswXS5sZW5ndGgsYT1bXSxvPTAsbD1bXTtmb3IoZT0wO2k+ZTsrK2Upe2Zvcih0PTAscj0wO3U+dDt0Kyspcis9blt0XVtlXVsxXTtyPm8mJihvPXIpLGEucHVzaChyKX1mb3IoZT0wO2k+ZTsrK2UpbFtlXT0oby1hW2VdKS8yO3JldHVybiBsfSx3aWdnbGU6ZnVuY3Rpb24obil7dmFyIHQsZSxyLHUsaSxhLG8sbCxjLHM9bi5sZW5ndGgsZj1uWzBdLGg9Zi5sZW5ndGgsZz1bXTtmb3IoZ1swXT1sPWM9MCxlPTE7aD5lOysrZSl7Zm9yKHQ9MCx1PTA7cz50OysrdCl1Kz1uW3RdW2VdWzFdO2Zvcih0PTAsaT0wLG89ZltlXVswXS1mW2UtMV1bMF07cz50OysrdCl7Zm9yKHI9MCxhPShuW3RdW2VdWzFdLW5bdF1bZS0xXVsxXSkvKDIqbyk7dD5yOysrcilhKz0obltyXVtlXVsxXS1uW3JdW2UtMV1bMV0pL287aSs9YSpuW3RdW2VdWzFdfWdbZV09bC09dT9pL3UqbzowLGM+bCYmKGM9bCl9Zm9yKGU9MDtoPmU7KytlKWdbZV0tPWM7cmV0dXJuIGd9LGV4cGFuZDpmdW5jdGlvbihuKXt2YXIgdCxlLHIsdT1uLmxlbmd0aCxpPW5bMF0ubGVuZ3RoLGE9MS91LG89W107Zm9yKGU9MDtpPmU7KytlKXtmb3IodD0wLHI9MDt1PnQ7dCsrKXIrPW5bdF1bZV1bMV07aWYocilmb3IodD0wO3U+dDt0Kyspblt0XVtlXVsxXS89cjtlbHNlIGZvcih0PTA7dT50O3QrKyluW3RdW2VdWzFdPWF9Zm9yKGU9MDtpPmU7KytlKW9bZV09MDtyZXR1cm4gb30semVybzp2dX0pO29hLmxheW91dC5oaXN0b2dyYW09ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4saSl7Zm9yKHZhciBhLG8sbD1bXSxjPW4ubWFwKGUsdGhpcykscz1yLmNhbGwodGhpcyxjLGkpLGY9dS5jYWxsKHRoaXMscyxjLGkpLGk9LTEsaD1jLmxlbmd0aCxnPWYubGVuZ3RoLTEscD10PzE6MS9oOysraTxnOylhPWxbaV09W10sYS5keD1mW2krMV0tKGEueD1mW2ldKSxhLnk9MDtpZihnPjApZm9yKGk9LTE7KytpPGg7KW89Y1tpXSxvPj1zWzBdJiZvPD1zWzFdJiYoYT1sW29hLmJpc2VjdChmLG8sMSxnKS0xXSxhLnkrPXAsYS5wdXNoKG5baV0pKTtyZXR1cm4gbH12YXIgdD0hMCxlPU51bWJlcixyPWJ1LHU9TXU7cmV0dXJuIG4udmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9dCxuKTplfSxuLnJhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPUVuKHQpLG4pOnJ9LG4uYmlucz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT0ibnVtYmVyIj09dHlwZW9mIHQ/ZnVuY3Rpb24obil7cmV0dXJuIHh1KG4sdCl9OkVuKHQpLG4pOnV9LG4uZnJlcXVlbmN5PWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PSEhZSxuKTp0fSxufSxvYS5sYXlvdXQucGFjaz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obixpKXt2YXIgYT1lLmNhbGwodGhpcyxuLGkpLG89YVswXSxsPXVbMF0sYz11WzFdLHM9bnVsbD09dD9NYXRoLnNxcnQ6ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpmdW5jdGlvbigpe3JldHVybiB0fTtpZihvLng9by55PTAsYXUobyxmdW5jdGlvbihuKXtuLnI9K3Mobi52YWx1ZSl9KSxhdShvLE51KSxyKXt2YXIgZj1yKih0PzE6TWF0aC5tYXgoMipvLnIvbCwyKm8uci9jKSkvMjthdShvLGZ1bmN0aW9uKG4pe24ucis9Zn0pLGF1KG8sTnUpLGF1KG8sZnVuY3Rpb24obil7bi5yLT1mfSl9cmV0dXJuIEN1KG8sbC8yLGMvMix0PzE6MS9NYXRoLm1heCgyKm8uci9sLDIqby5yL2MpKSxhfXZhciB0LGU9b2EubGF5b3V0LmhpZXJhcmNoeSgpLnNvcnQoX3UpLHI9MCx1PVsxLDFdO3JldHVybiBuLnNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9dCxuKTp1fSxuLnJhZGl1cz1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1udWxsPT1lfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9lOitlLG4pOnR9LG4ucGFkZGluZz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj0rdCxuKTpyfSx1dShuLGUpfSxvYS5sYXlvdXQudHJlZT1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obix1KXt2YXIgcz1hLmNhbGwodGhpcyxuLHUpLGY9c1swXSxoPXQoZik7aWYoYXUoaCxlKSxoLnBhcmVudC5tPS1oLnosaXUoaCxyKSxjKWl1KGYsaSk7ZWxzZXt2YXIgZz1mLHA9Zix2PWY7aXUoZixmdW5jdGlvbihuKXtuLng8Zy54JiYoZz1uKSxuLng+cC54JiYocD1uKSxuLmRlcHRoPnYuZGVwdGgmJih2PW4pfSk7dmFyIGQ9byhnLHApLzItZy54LG09bFswXS8ocC54K28ocCxnKS8yK2QpLHk9bFsxXS8odi5kZXB0aHx8MSk7aXUoZixmdW5jdGlvbihuKXtuLng9KG4ueCtkKSptLG4ueT1uLmRlcHRoKnl9KX1yZXR1cm4gc31mdW5jdGlvbiB0KG4pe2Zvcih2YXIgdCxlPXtBOm51bGwsY2hpbGRyZW46W25dfSxyPVtlXTtudWxsIT0odD1yLnBvcCgpKTspZm9yKHZhciB1LGk9dC5jaGlsZHJlbixhPTAsbz1pLmxlbmd0aDtvPmE7KythKXIucHVzaCgoaVthXT11PXtfOmlbYV0scGFyZW50OnQsY2hpbGRyZW46KHU9aVthXS5jaGlsZHJlbikmJnUuc2xpY2UoKXx8W10sQTpudWxsLGE6bnVsbCx6OjAsbTowLGM6MCxzOjAsdDpudWxsLGk6YX0pLmE9dSk7cmV0dXJuIGUuY2hpbGRyZW5bMF19ZnVuY3Rpb24gZShuKXt2YXIgdD1uLmNoaWxkcmVuLGU9bi5wYXJlbnQuY2hpbGRyZW4scj1uLmk/ZVtuLmktMV06bnVsbDtpZih0Lmxlbmd0aCl7RHUobik7dmFyIGk9KHRbMF0ueit0W3QubGVuZ3RoLTFdLnopLzI7cj8obi56PXIueitvKG4uXyxyLl8pLG4ubT1uLnotaSk6bi56PWl9ZWxzZSByJiYobi56PXIueitvKG4uXyxyLl8pKTtuLnBhcmVudC5BPXUobixyLG4ucGFyZW50LkF8fGVbMF0pfWZ1bmN0aW9uIHIobil7bi5fLng9bi56K24ucGFyZW50Lm0sbi5tKz1uLnBhcmVudC5tfWZ1bmN0aW9uIHUobix0LGUpe2lmKHQpe2Zvcih2YXIgcix1PW4saT1uLGE9dCxsPXUucGFyZW50LmNoaWxkcmVuWzBdLGM9dS5tLHM9aS5tLGY9YS5tLGg9bC5tO2E9VHUoYSksdT1xdSh1KSxhJiZ1OylsPXF1KGwpLGk9VHUoaSksaS5hPW4scj1hLnorZi11LnotYytvKGEuXyx1Ll8pLHI+MCYmKFJ1KFB1KGEsbixlKSxuLHIpLGMrPXIscys9ciksZis9YS5tLGMrPXUubSxoKz1sLm0scys9aS5tO2EmJiFUdShpKSYmKGkudD1hLGkubSs9Zi1zKSx1JiYhcXUobCkmJihsLnQ9dSxsLm0rPWMtaCxlPW4pfXJldHVybiBlfWZ1bmN0aW9uIGkobil7bi54Kj1sWzBdLG4ueT1uLmRlcHRoKmxbMV19dmFyIGE9b2EubGF5b3V0LmhpZXJhcmNoeSgpLnNvcnQobnVsbCkudmFsdWUobnVsbCksbz1MdSxsPVsxLDFdLGM9bnVsbDtyZXR1cm4gbi5zZXBhcmF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvPXQsbik6b30sbi5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPW51bGw9PShsPXQpP2k6bnVsbCxuKTpjP251bGw6bH0sbi5ub2RlU2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1udWxsPT0obD10KT9udWxsOmksbik6Yz9sOm51bGx9LHV1KG4sYSl9LG9hLmxheW91dC5jbHVzdGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLGkpe3ZhciBhLG89dC5jYWxsKHRoaXMsbixpKSxsPW9bMF0sYz0wO2F1KGwsZnVuY3Rpb24obil7dmFyIHQ9bi5jaGlsZHJlbjt0JiZ0Lmxlbmd0aD8obi54PWp1KHQpLG4ueT1VdSh0KSk6KG4ueD1hP2MrPWUobixhKTowLG4ueT0wLGE9bil9KTt2YXIgcz1GdShsKSxmPUh1KGwpLGg9cy54LWUocyxmKS8yLGc9Zi54K2UoZixzKS8yO3JldHVybiBhdShsLHU/ZnVuY3Rpb24obil7bi54PShuLngtbC54KSpyWzBdLG4ueT0obC55LW4ueSkqclsxXX06ZnVuY3Rpb24obil7bi54PShuLngtaCkvKGctaCkqclswXSxuLnk9KDEtKGwueT9uLnkvbC55OjEpKSpyWzFdfSksb312YXIgdD1vYS5sYXlvdXQuaGllcmFyY2h5KCkuc29ydChudWxsKS52YWx1ZShudWxsKSxlPUx1LHI9WzEsMV0sdT0hMTtyZXR1cm4gbi5zZXBhcmF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPXQsbik6ZX0sbi5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PW51bGw9PShyPXQpLG4pOnU/bnVsbDpyfSxuLm5vZGVTaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PW51bGwhPShyPXQpLG4pOnU/cjpudWxsfSx1dShuLHQpfSxvYS5sYXlvdXQudHJlZW1hcD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obix0KXtmb3IodmFyIGUscix1PS0xLGk9bi5sZW5ndGg7Kyt1PGk7KXI9KGU9blt1XSkudmFsdWUqKDA+dD8wOnQpLGUuYXJlYT1pc05hTihyKXx8MD49cj8wOnJ9ZnVuY3Rpb24gdChlKXt2YXIgaT1lLmNoaWxkcmVuO2lmKGkmJmkubGVuZ3RoKXt2YXIgYSxvLGwsYz1mKGUpLHM9W10saD1pLnNsaWNlKCkscD0xLzAsdj0ic2xpY2UiPT09Zz9jLmR4OiJkaWNlIj09PWc/Yy5keToic2xpY2UtZGljZSI9PT1nPzEmZS5kZXB0aD9jLmR5OmMuZHg6TWF0aC5taW4oYy5keCxjLmR5KTtmb3IobihoLGMuZHgqYy5keS9lLnZhbHVlKSxzLmFyZWE9MDsobD1oLmxlbmd0aCk+MDspcy5wdXNoKGE9aFtsLTFdKSxzLmFyZWErPWEuYXJlYSwic3F1YXJpZnkiIT09Z3x8KG89cihzLHYpKTw9cD8oaC5wb3AoKSxwPW8pOihzLmFyZWEtPXMucG9wKCkuYXJlYSx1KHMsdixjLCExKSx2PU1hdGgubWluKGMuZHgsYy5keSkscy5sZW5ndGg9cy5hcmVhPTAscD0xLzApO3MubGVuZ3RoJiYodShzLHYsYywhMCkscy5sZW5ndGg9cy5hcmVhPTApLGkuZm9yRWFjaCh0KX19ZnVuY3Rpb24gZSh0KXt2YXIgcj10LmNoaWxkcmVuO2lmKHImJnIubGVuZ3RoKXt2YXIgaSxhPWYodCksbz1yLnNsaWNlKCksbD1bXTtmb3IobihvLGEuZHgqYS5keS90LnZhbHVlKSxsLmFyZWE9MDtpPW8ucG9wKCk7KWwucHVzaChpKSxsLmFyZWErPWkuYXJlYSxudWxsIT1pLnomJih1KGwsaS56P2EuZHg6YS5keSxhLCFvLmxlbmd0aCksbC5sZW5ndGg9bC5hcmVhPTApO3IuZm9yRWFjaChlKX19ZnVuY3Rpb24gcihuLHQpe2Zvcih2YXIgZSxyPW4uYXJlYSx1PTAsaT0xLzAsYT0tMSxvPW4ubGVuZ3RoOysrYTxvOykoZT1uW2FdLmFyZWEpJiYoaT5lJiYoaT1lKSxlPnUmJih1PWUpKTtyZXR1cm4gcio9cix0Kj10LHI/TWF0aC5tYXgodCp1KnAvcixyLyh0KmkqcCkpOjEvMH1mdW5jdGlvbiB1KG4sdCxlLHIpe3ZhciB1LGk9LTEsYT1uLmxlbmd0aCxvPWUueCxjPWUueSxzPXQ/bChuLmFyZWEvdCk6MDsNCmlmKHQ9PWUuZHgpe2Zvcigocnx8cz5lLmR5KSYmKHM9ZS5keSk7KytpPGE7KXU9bltpXSx1Lng9byx1Lnk9Yyx1LmR5PXMsbys9dS5keD1NYXRoLm1pbihlLngrZS5keC1vLHM/bCh1LmFyZWEvcyk6MCk7dS56PSEwLHUuZHgrPWUueCtlLmR4LW8sZS55Kz1zLGUuZHktPXN9ZWxzZXtmb3IoKHJ8fHM+ZS5keCkmJihzPWUuZHgpOysraTxhOyl1PW5baV0sdS54PW8sdS55PWMsdS5keD1zLGMrPXUuZHk9TWF0aC5taW4oZS55K2UuZHktYyxzP2wodS5hcmVhL3MpOjApO3Uuej0hMSx1LmR5Kz1lLnkrZS5keS1jLGUueCs9cyxlLmR4LT1zfX1mdW5jdGlvbiBpKHIpe3ZhciB1PWF8fG8ociksaT11WzBdO3JldHVybiBpLng9aS55PTAsaS52YWx1ZT8oaS5keD1jWzBdLGkuZHk9Y1sxXSk6aS5keD1pLmR5PTAsYSYmby5yZXZhbHVlKGkpLG4oW2ldLGkuZHgqaS5keS9pLnZhbHVlKSwoYT9lOnQpKGkpLGgmJihhPXUpLHV9dmFyIGEsbz1vYS5sYXlvdXQuaGllcmFyY2h5KCksbD1NYXRoLnJvdW5kLGM9WzEsMV0scz1udWxsLGY9T3UsaD0hMSxnPSJzcXVhcmlmeSIscD0uNSooMStNYXRoLnNxcnQoNSkpO3JldHVybiBpLnNpemU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9bixpKTpjfSxpLnBhZGRpbmc9ZnVuY3Rpb24obil7ZnVuY3Rpb24gdCh0KXt2YXIgZT1uLmNhbGwoaSx0LHQuZGVwdGgpO3JldHVybiBudWxsPT1lP091KHQpOkl1KHQsIm51bWJlciI9PXR5cGVvZiBlP1tlLGUsZSxlXTplKX1mdW5jdGlvbiBlKHQpe3JldHVybiBJdSh0LG4pfWlmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiBzO3ZhciByO3JldHVybiBmPW51bGw9PShzPW4pP091OiJmdW5jdGlvbiI9PShyPXR5cGVvZiBuKT90OiJudW1iZXIiPT09cj8obj1bbixuLG4sbl0sZSk6ZSxpfSxpLnJvdW5kPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPW4/TWF0aC5yb3VuZDpOdW1iZXIsaSk6bCE9TnVtYmVyfSxpLnN0aWNreT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaD1uLGE9bnVsbCxpKTpofSxpLnJhdGlvPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhwPW4saSk6cH0saS5tb2RlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhnPW4rIiIsaSk6Z30sdXUoaSxvKX0sb2EucmFuZG9tPXtub3JtYWw6ZnVuY3Rpb24obix0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO3JldHVybiAyPmUmJih0PTEpLDE+ZSYmKG49MCksZnVuY3Rpb24oKXt2YXIgZSxyLHU7ZG8gZT0yKk1hdGgucmFuZG9tKCktMSxyPTIqTWF0aC5yYW5kb20oKS0xLHU9ZSplK3Iqcjt3aGlsZSghdXx8dT4xKTtyZXR1cm4gbit0KmUqTWF0aC5zcXJ0KC0yKk1hdGgubG9nKHUpL3UpfX0sbG9nTm9ybWFsOmZ1bmN0aW9uKCl7dmFyIG49b2EucmFuZG9tLm5vcm1hbC5hcHBseShvYSxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBNYXRoLmV4cChuKCkpfX0sYmF0ZXM6ZnVuY3Rpb24obil7dmFyIHQ9b2EucmFuZG9tLmlyd2luSGFsbChuKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdCgpL259fSxpcndpbkhhbGw6ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wO24+ZTtlKyspdCs9TWF0aC5yYW5kb20oKTtyZXR1cm4gdH19fSxvYS5zY2FsZT17fTt2YXIgU2w9e2Zsb29yOnksY2VpbDp5fTtvYS5zY2FsZS5saW5lYXI9ZnVuY3Rpb24oKXtyZXR1cm4gV3UoWzAsMV0sWzAsMV0sTXIsITEpfTt2YXIga2w9e3M6MSxnOjEscDoxLHI6MSxlOjF9O29hLnNjYWxlLmxvZz1mdW5jdGlvbigpe3JldHVybiByaShvYS5zY2FsZS5saW5lYXIoKS5kb21haW4oWzAsMV0pLDEwLCEwLFsxLDEwXSl9O3ZhciBObD1vYS5mb3JtYXQoIi4wZSIpLEVsPXtmbG9vcjpmdW5jdGlvbihuKXtyZXR1cm4tTWF0aC5jZWlsKC1uKX0sY2VpbDpmdW5jdGlvbihuKXtyZXR1cm4tTWF0aC5mbG9vcigtbil9fTtvYS5zY2FsZS5wb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdWkob2Euc2NhbGUubGluZWFyKCksMSxbMCwxXSl9LG9hLnNjYWxlLnNxcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gb2Euc2NhbGUucG93KCkuZXhwb25lbnQoLjUpfSxvYS5zY2FsZS5vcmRpbmFsPWZ1bmN0aW9uKCl7cmV0dXJuIGFpKFtdLHt0OiJyYW5nZSIsYTpbW11dfSl9LG9hLnNjYWxlLmNhdGVnb3J5MTA9ZnVuY3Rpb24oKXtyZXR1cm4gb2Euc2NhbGUub3JkaW5hbCgpLnJhbmdlKEFsKX0sb2Euc2NhbGUuY2F0ZWdvcnkyMD1mdW5jdGlvbigpe3JldHVybiBvYS5zY2FsZS5vcmRpbmFsKCkucmFuZ2UoQ2wpfSxvYS5zY2FsZS5jYXRlZ29yeTIwYj1mdW5jdGlvbigpe3JldHVybiBvYS5zY2FsZS5vcmRpbmFsKCkucmFuZ2UoemwpfSxvYS5zY2FsZS5jYXRlZ29yeTIwYz1mdW5jdGlvbigpe3JldHVybiBvYS5zY2FsZS5vcmRpbmFsKCkucmFuZ2UoTGwpfTt2YXIgQWw9WzIwNjIyNjAsMTY3NDQyMDYsMjkyNDU4OCwxNDAzNDcyOCw5NzI1ODg1LDkxOTcxMzEsMTQ5MDczMzAsODM1NTcxMSwxMjM2OTE4NiwxNTU2MTc1XS5tYXAoeG4pLENsPVsyMDYyMjYwLDExNDU0NDQwLDE2NzQ0MjA2LDE2NzU5NjcyLDI5MjQ1ODgsMTAwMTg2OTgsMTQwMzQ3MjgsMTY3NTA3NDIsOTcyNTg4NSwxMjk1NTg2MSw5MTk3MTMxLDEyODg1MTQwLDE0OTA3MzMwLDE2MjM0MTk0LDgzNTU3MTEsMTMwOTI4MDcsMTIzNjkxODYsMTQ0MDg1ODksMTU1NjE3NSwxMDQxMDcyNV0ubWFwKHhuKSx6bD1bMzc1MDc3Nyw1Mzk1NjE5LDcwNDA3MTksMTAyNjQyODYsNjUxOTA5Nyw5MjE2NTk0LDExOTE1MTE1LDEzNTU2NjM2LDkyMDI5OTMsMTI0MjY4MDksMTUxODY1MTQsMTUxOTA5MzIsODY2NjE2OSwxMTM1NjQ5MCwxNDA0OTY0MywxNTE3NzM3Miw4MDc3NjgzLDEwODM0MzI0LDEzNTI4NTA5LDE0NTg5NjU0XS5tYXAoeG4pLExsPVszMjQ0NzMzLDcwNTcxMTAsMTA0MDY2MjUsMTMwMzI0MzEsMTUwOTUwNTMsMTY2MTY3NjQsMTY2MjUyNTksMTY2MzQwMTgsMzI1MzA3Niw3NjUyNDcwLDEwNjA3MDAzLDEzMTAxNTA0LDc2OTUyODEsMTAzOTQzMTIsMTIzNjkzNzIsMTQzNDI4OTEsNjUxMzUwNyw5ODY4OTUwLDEyNDM0ODc3LDE0Mjc3MDgxXS5tYXAoeG4pO29hLnNjYWxlLnF1YW50aWxlPWZ1bmN0aW9uKCl7cmV0dXJuIG9pKFtdLFtdKX0sb2Euc2NhbGUucXVhbnRpemU9ZnVuY3Rpb24oKXtyZXR1cm4gbGkoMCwxLFswLDFdKX0sb2Euc2NhbGUudGhyZXNob2xkPWZ1bmN0aW9uKCl7cmV0dXJuIGNpKFsuNV0sWzAsMV0pfSxvYS5zY2FsZS5pZGVudGl0eT1mdW5jdGlvbigpe3JldHVybiBzaShbMCwxXSl9LG9hLnN2Zz17fSxvYS5zdmcuYXJjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3ZhciBuPU1hdGgubWF4KDAsK2UuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxjPU1hdGgubWF4KDAsK3IuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxzPWEuYXBwbHkodGhpcyxhcmd1bWVudHMpLU9hLGY9by5hcHBseSh0aGlzLGFyZ3VtZW50cyktT2EsaD1NYXRoLmFicyhmLXMpLGc9cz5mPzA6MTtpZihuPmMmJihwPWMsYz1uLG49cCksaD49SGEpcmV0dXJuIHQoYyxnKSsobj90KG4sMS1nKToiIikrIloiO3ZhciBwLHYsZCxtLHksTSx4LGIsXyx3LFMsayxOPTAsRT0wLEE9W107aWYoKG09KCtsLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MCkvMikmJihkPWk9PT1xbD9NYXRoLnNxcnQobipuK2MqYyk6K2kuYXBwbHkodGhpcyxhcmd1bWVudHMpLGd8fChFKj0tMSksYyYmKEU9dG4oZC9jKk1hdGguc2luKG0pKSksbiYmKE49dG4oZC9uKk1hdGguc2luKG0pKSkpLGMpe3k9YypNYXRoLmNvcyhzK0UpLE09YypNYXRoLnNpbihzK0UpLHg9YypNYXRoLmNvcyhmLUUpLGI9YypNYXRoLnNpbihmLUUpO3ZhciBDPU1hdGguYWJzKGYtcy0yKkUpPD1qYT8wOjE7aWYoRSYmbWkoeSxNLHgsYik9PT1nXkMpe3ZhciB6PShzK2YpLzI7eT1jKk1hdGguY29zKHopLE09YypNYXRoLnNpbih6KSx4PWI9bnVsbH19ZWxzZSB5PU09MDtpZihuKXtfPW4qTWF0aC5jb3MoZi1OKSx3PW4qTWF0aC5zaW4oZi1OKSxTPW4qTWF0aC5jb3MocytOKSxrPW4qTWF0aC5zaW4ocytOKTt2YXIgTD1NYXRoLmFicyhzLWYrMipOKTw9amE/MDoxO2lmKE4mJm1pKF8sdyxTLGspPT09MS1nXkwpe3ZhciBxPShzK2YpLzI7Xz1uKk1hdGguY29zKHEpLHc9bipNYXRoLnNpbihxKSxTPWs9bnVsbH19ZWxzZSBfPXc9MDtpZihoPlBhJiYocD1NYXRoLm1pbihNYXRoLmFicyhjLW4pLzIsK3UuYXBwbHkodGhpcyxhcmd1bWVudHMpKSk+LjAwMSl7dj1jPm5eZz8wOjE7dmFyIFQ9cCxSPXA7aWYoamE+aCl7dmFyIEQ9bnVsbD09Uz9bXyx3XTpudWxsPT14P1t5LE1dOlJlKFt5LE1dLFtTLGtdLFt4LGJdLFtfLHddKSxQPXktRFswXSxVPU0tRFsxXSxqPXgtRFswXSxGPWItRFsxXSxIPTEvTWF0aC5zaW4oTWF0aC5hY29zKChQKmorVSpGKS8oTWF0aC5zcXJ0KFAqUCtVKlUpKk1hdGguc3FydChqKmorRipGKSkpLzIpLE89TWF0aC5zcXJ0KERbMF0qRFswXStEWzFdKkRbMV0pO1I9TWF0aC5taW4ocCwobi1PKS8oSC0xKSksVD1NYXRoLm1pbihwLChjLU8pLyhIKzEpKX1pZihudWxsIT14KXt2YXIgST15aShudWxsPT1TP1tfLHddOltTLGtdLFt5LE1dLGMsVCxnKSxZPXlpKFt4LGJdLFtfLHddLGMsVCxnKTtwPT09VD9BLnB1c2goIk0iLElbMF0sIkEiLFQsIiwiLFQsIiAwIDAsIix2LCIgIixJWzFdLCJBIixjLCIsIixjLCIgMCAiLDEtZ15taShJWzFdWzBdLElbMV1bMV0sWVsxXVswXSxZWzFdWzFdKSwiLCIsZywiICIsWVsxXSwiQSIsVCwiLCIsVCwiIDAgMCwiLHYsIiAiLFlbMF0pOkEucHVzaCgiTSIsSVswXSwiQSIsVCwiLCIsVCwiIDAgMSwiLHYsIiAiLFlbMF0pfWVsc2UgQS5wdXNoKCJNIix5LCIsIixNKTtpZihudWxsIT1TKXt2YXIgWj15aShbeSxNXSxbUyxrXSxuLC1SLGcpLFY9eWkoW18sd10sbnVsbD09eD9beSxNXTpbeCxiXSxuLC1SLGcpO3A9PT1SP0EucHVzaCgiTCIsVlswXSwiQSIsUiwiLCIsUiwiIDAgMCwiLHYsIiAiLFZbMV0sIkEiLG4sIiwiLG4sIiAwICIsZ15taShWWzFdWzBdLFZbMV1bMV0sWlsxXVswXSxaWzFdWzFdKSwiLCIsMS1nLCIgIixaWzFdLCJBIixSLCIsIixSLCIgMCAwLCIsdiwiICIsWlswXSk6QS5wdXNoKCJMIixWWzBdLCJBIixSLCIsIixSLCIgMCAwLCIsdiwiICIsWlswXSl9ZWxzZSBBLnB1c2goIkwiLF8sIiwiLHcpfWVsc2UgQS5wdXNoKCJNIix5LCIsIixNKSxudWxsIT14JiZBLnB1c2goIkEiLGMsIiwiLGMsIiAwICIsQywiLCIsZywiICIseCwiLCIsYiksQS5wdXNoKCJMIixfLCIsIix3KSxudWxsIT1TJiZBLnB1c2goIkEiLG4sIiwiLG4sIiAwICIsTCwiLCIsMS1nLCIgIixTLCIsIixrKTtyZXR1cm4gQS5wdXNoKCJaIiksQS5qb2luKCIiKX1mdW5jdGlvbiB0KG4sdCl7cmV0dXJuIk0wLCIrbisiQSIrbisiLCIrbisiIDAgMSwiK3QrIiAwLCIrLW4rIkEiK24rIiwiK24rIiAwIDEsIit0KyIgMCwiK259dmFyIGU9aGkscj1naSx1PWZpLGk9cWwsYT1waSxvPXZpLGw9ZGk7cmV0dXJuIG4uaW5uZXJSYWRpdXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9RW4odCksbik6ZX0sbi5vdXRlclJhZGl1cz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj1Fbih0KSxuKTpyfSxuLmNvcm5lclJhZGl1cz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT1Fbih0KSxuKTp1fSxuLnBhZFJhZGl1cz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT10PT1xbD9xbDpFbih0KSxuKTppfSxuLnN0YXJ0QW5nbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9RW4odCksbik6YX0sbi5lbmRBbmdsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz1Fbih0KSxuKTpvfSxuLnBhZEFuZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPUVuKHQpLG4pOmx9LG4uY2VudHJvaWQ9ZnVuY3Rpb24oKXt2YXIgbj0oK2UuYXBwbHkodGhpcyxhcmd1bWVudHMpKyArci5hcHBseSh0aGlzLGFyZ3VtZW50cykpLzIsdD0oK2EuYXBwbHkodGhpcyxhcmd1bWVudHMpKyArby5hcHBseSh0aGlzLGFyZ3VtZW50cykpLzItT2E7cmV0dXJuW01hdGguY29zKHQpKm4sTWF0aC5zaW4odCkqbl19LG59O3ZhciBxbD0iYXV0byI7b2Euc3ZnLmxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gTWkoeSl9O3ZhciBUbD1vYS5tYXAoe2xpbmVhcjp4aSwibGluZWFyLWNsb3NlZCI6Ymksc3RlcDpfaSwic3RlcC1iZWZvcmUiOndpLCJzdGVwLWFmdGVyIjpTaSxiYXNpczp6aSwiYmFzaXMtb3BlbiI6TGksImJhc2lzLWNsb3NlZCI6cWksYnVuZGxlOlRpLGNhcmRpbmFsOkVpLCJjYXJkaW5hbC1vcGVuIjpraSwiY2FyZGluYWwtY2xvc2VkIjpOaSxtb25vdG9uZTpGaX0pO1RsLmZvckVhY2goZnVuY3Rpb24obix0KXt0LmtleT1uLHQuY2xvc2VkPS8tY2xvc2VkJC8udGVzdChuKX0pO3ZhciBSbD1bMCwyLzMsMS8zLDBdLERsPVswLDEvMywyLzMsMF0sUGw9WzAsMS82LDIvMywxLzZdO29hLnN2Zy5saW5lLnJhZGlhbD1mdW5jdGlvbigpe3ZhciBuPU1pKEhpKTtyZXR1cm4gbi5yYWRpdXM9bi54LGRlbGV0ZSBuLngsbi5hbmdsZT1uLnksZGVsZXRlIG4ueSxufSx3aS5yZXZlcnNlPVNpLFNpLnJldmVyc2U9d2ksb2Euc3ZnLmFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gT2koeSl9LG9hLnN2Zy5hcmVhLnJhZGlhbD1mdW5jdGlvbigpe3ZhciBuPU9pKEhpKTtyZXR1cm4gbi5yYWRpdXM9bi54LGRlbGV0ZSBuLngsbi5pbm5lclJhZGl1cz1uLngwLGRlbGV0ZSBuLngwLG4ub3V0ZXJSYWRpdXM9bi54MSxkZWxldGUgbi54MSxuLmFuZ2xlPW4ueSxkZWxldGUgbi55LG4uc3RhcnRBbmdsZT1uLnkwLGRlbGV0ZSBuLnkwLG4uZW5kQW5nbGU9bi55MSxkZWxldGUgbi55MSxufSxvYS5zdmcuY2hvcmQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sbyl7dmFyIGw9dCh0aGlzLGksbixvKSxjPXQodGhpcyxhLG4sbyk7cmV0dXJuIk0iK2wucDArcihsLnIsbC5wMSxsLmExLWwuYTApKyhlKGwsYyk/dShsLnIsbC5wMSxsLnIsbC5wMCk6dShsLnIsbC5wMSxjLnIsYy5wMCkrcihjLnIsYy5wMSxjLmExLWMuYTApK3UoYy5yLGMucDEsbC5yLGwucDApKSsiWiJ9ZnVuY3Rpb24gdChuLHQsZSxyKXt2YXIgdT10LmNhbGwobixlLHIpLGk9by5jYWxsKG4sdSxyKSxhPWwuY2FsbChuLHUsciktT2Escz1jLmNhbGwobix1LHIpLU9hO3JldHVybntyOmksYTA6YSxhMTpzLHAwOltpKk1hdGguY29zKGEpLGkqTWF0aC5zaW4oYSldLHAxOltpKk1hdGguY29zKHMpLGkqTWF0aC5zaW4ocyldfX1mdW5jdGlvbiBlKG4sdCl7cmV0dXJuIG4uYTA9PXQuYTAmJm4uYTE9PXQuYTF9ZnVuY3Rpb24gcihuLHQsZSl7cmV0dXJuIkEiK24rIiwiK24rIiAwICIrICsoZT5qYSkrIiwxICIrdH1mdW5jdGlvbiB1KG4sdCxlLHIpe3JldHVybiJRIDAsMCAiK3J9dmFyIGk9TWUsYT14ZSxvPUlpLGw9cGksYz12aTtyZXR1cm4gbi5yYWRpdXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89RW4odCksbik6b30sbi5zb3VyY2U9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9RW4odCksbik6aX0sbi50YXJnZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9RW4odCksbik6YX0sbi5zdGFydEFuZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPUVuKHQpLG4pOmx9LG4uZW5kQW5nbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9RW4odCksbik6Y30sbn0sb2Euc3ZnLmRpYWdvbmFsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHUpe3ZhciBpPXQuY2FsbCh0aGlzLG4sdSksYT1lLmNhbGwodGhpcyxuLHUpLG89KGkueSthLnkpLzIsbD1baSx7eDppLngseTpvfSx7eDphLngseTpvfSxhXTtyZXR1cm4gbD1sLm1hcChyKSwiTSIrbFswXSsiQyIrbFsxXSsiICIrbFsyXSsiICIrbFszXX12YXIgdD1NZSxlPXhlLHI9WWk7cmV0dXJuIG4uc291cmNlPWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PUVuKGUpLG4pOnR9LG4udGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPUVuKHQpLG4pOmV9LG4ucHJvamVjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj10LG4pOnJ9LG59LG9hLnN2Zy5kaWFnb25hbC5yYWRpYWw9ZnVuY3Rpb24oKXt2YXIgbj1vYS5zdmcuZGlhZ29uYWwoKSx0PVlpLGU9bi5wcm9qZWN0aW9uO3JldHVybiBuLnByb2plY3Rpb249ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/ZShaaSh0PW4pKTp0fSxufSxvYS5zdmcuc3ltYm9sPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHIpe3JldHVybihVbC5nZXQodC5jYWxsKHRoaXMsbixyKSl8fCRpKShlLmNhbGwodGhpcyxuLHIpKX12YXIgdD1YaSxlPVZpO3JldHVybiBuLnR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9RW4oZSksbik6dH0sbi5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPUVuKHQpLG4pOmV9LG59O3ZhciBVbD1vYS5tYXAoe2NpcmNsZTokaSxjcm9zczpmdW5jdGlvbihuKXt2YXIgdD1NYXRoLnNxcnQobi81KS8yO3JldHVybiJNIistMyp0KyIsIistdCsiSCIrLXQrIlYiKy0zKnQrIkgiK3QrIlYiKy10KyJIIiszKnQrIlYiK3QrIkgiK3QrIlYiKzMqdCsiSCIrLXQrIlYiK3QrIkgiKy0zKnQrIloifSxkaWFtb25kOmZ1bmN0aW9uKG4pe3ZhciB0PU1hdGguc3FydChuLygyKkZsKSksZT10KkZsO3JldHVybiJNMCwiKy10KyJMIitlKyIsMCAwLCIrdCsiICIrLWUrIiwwWiJ9LHNxdWFyZTpmdW5jdGlvbihuKXt2YXIgdD1NYXRoLnNxcnQobikvMjtyZXR1cm4iTSIrLXQrIiwiKy10KyJMIit0KyIsIistdCsiICIrdCsiLCIrdCsiICIrLXQrIiwiK3QrIloifSwidHJpYW5nbGUtZG93biI6ZnVuY3Rpb24obil7dmFyIHQ9TWF0aC5zcXJ0KG4vamwpLGU9dCpqbC8yO3JldHVybiJNMCwiK2UrIkwiK3QrIiwiKy1lKyIgIistdCsiLCIrLWUrIloifSwidHJpYW5nbGUtdXAiOmZ1bmN0aW9uKG4pe3ZhciB0PU1hdGguc3FydChuL2psKSxlPXQqamwvMjtyZXR1cm4iTTAsIistZSsiTCIrdCsiLCIrZSsiICIrLXQrIiwiK2UrIloifX0pO29hLnN2Zy5zeW1ib2xUeXBlcz1VbC5rZXlzKCk7dmFyIGpsPU1hdGguc3FydCgzKSxGbD1NYXRoLnRhbigzMCpJYSk7QWEudHJhbnNpdGlvbj1mdW5jdGlvbihuKXtmb3IodmFyIHQsZSxyPUhsfHwrK1psLHU9S2kobiksaT1bXSxhPU9sfHx7dGltZTpEYXRlLm5vdygpLGVhc2U6TnIsZGVsYXk6MCxkdXJhdGlvbjoyNTB9LG89LTEsbD10aGlzLmxlbmd0aDsrK288bDspe2kucHVzaCh0PVtdKTtmb3IodmFyIGM9dGhpc1tvXSxzPS0xLGY9Yy5sZW5ndGg7KytzPGY7KShlPWNbc10pJiZRaShlLHMsdSxyLGEpLHQucHVzaChlKX1yZXR1cm4gV2koaSx1LHIpfSxBYS5pbnRlcnJ1cHQ9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChudWxsPT1uP0lsOkJpKEtpKG4pKSl9O3ZhciBIbCxPbCxJbD1CaShLaSgpKSxZbD1bXSxabD0wO1lsLmNhbGw9QWEuY2FsbCxZbC5lbXB0eT1BYS5lbXB0eSxZbC5ub2RlPUFhLm5vZGUsWWwuc2l6ZT1BYS5zaXplLG9hLnRyYW5zaXRpb249ZnVuY3Rpb24obix0KXtyZXR1cm4gbiYmbi50cmFuc2l0aW9uP0hsP24udHJhbnNpdGlvbih0KTpuOm9hLnNlbGVjdGlvbigpLnRyYW5zaXRpb24obil9LG9hLnRyYW5zaXRpb24ucHJvdG90eXBlPVlsLFlsLnNlbGVjdD1mdW5jdGlvbihuKXt2YXIgdCxlLHIsdT10aGlzLmlkLGk9dGhpcy5uYW1lc3BhY2UsYT1bXTtuPUEobik7Zm9yKHZhciBvPS0xLGw9dGhpcy5sZW5ndGg7KytvPGw7KXthLnB1c2godD1bXSk7Zm9yKHZhciBjPXRoaXNbb10scz0tMSxmPWMubGVuZ3RoOysrczxmOykocj1jW3NdKSYmKGU9bi5jYWxsKHIsci5fX2RhdGFfXyxzLG8pKT8oIl9fZGF0YV9fImluIHImJihlLl9fZGF0YV9fPXIuX19kYXRhX18pLFFpKGUscyxpLHUscltpXVt1XSksdC5wdXNoKGUpKTp0LnB1c2gobnVsbCl9cmV0dXJuIFdpKGEsaSx1KX0sWWwuc2VsZWN0QWxsPWZ1bmN0aW9uKG4pe3ZhciB0LGUscix1LGksYT10aGlzLmlkLG89dGhpcy5uYW1lc3BhY2UsbD1bXTtuPUMobik7Zm9yKHZhciBjPS0xLHM9dGhpcy5sZW5ndGg7KytjPHM7KWZvcih2YXIgZj10aGlzW2NdLGg9LTEsZz1mLmxlbmd0aDsrK2g8ZzspaWYocj1mW2hdKXtpPXJbb11bYV0sZT1uLmNhbGwocixyLl9fZGF0YV9fLGgsYyksbC5wdXNoKHQ9W10pO2Zvcih2YXIgcD0tMSx2PWUubGVuZ3RoOysrcDx2OykodT1lW3BdKSYmUWkodSxwLG8sYSxpKSx0LnB1c2godSl9cmV0dXJuIFdpKGwsbyxhKX0sWWwuZmlsdGVyPWZ1bmN0aW9uKG4pe3ZhciB0LGUscix1PVtdOyJmdW5jdGlvbiIhPXR5cGVvZiBuJiYobj1PKG4pKTtmb3IodmFyIGk9MCxhPXRoaXMubGVuZ3RoO2E+aTtpKyspe3UucHVzaCh0PVtdKTtmb3IodmFyIGU9dGhpc1tpXSxvPTAsbD1lLmxlbmd0aDtsPm87bysrKShyPWVbb10pJiZuLmNhbGwocixyLl9fZGF0YV9fLG8saSkmJnQucHVzaChyKX1yZXR1cm4gV2kodSx0aGlzLm5hbWVzcGFjZSx0aGlzLmlkKX0sWWwudHdlZW49ZnVuY3Rpb24obix0KXt2YXIgZT10aGlzLmlkLHI9dGhpcy5uYW1lc3BhY2U7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj90aGlzLm5vZGUoKVtyXVtlXS50d2Vlbi5nZXQobik6WSh0aGlzLG51bGw9PXQ/ZnVuY3Rpb24odCl7dFtyXVtlXS50d2Vlbi5yZW1vdmUobil9OmZ1bmN0aW9uKHUpe3Vbcl1bZV0udHdlZW4uc2V0KG4sdCl9KX0sWWwuYXR0cj1mdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGUoKXt0aGlzLnJlbW92ZUF0dHJpYnV0ZShvKX1mdW5jdGlvbiByKCl7dGhpcy5yZW1vdmVBdHRyaWJ1dGVOUyhvLnNwYWNlLG8ubG9jYWwpfWZ1bmN0aW9uIHUobil7cmV0dXJuIG51bGw9PW4/ZToobis9IiIsZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuZ2V0QXR0cmlidXRlKG8pO3JldHVybiBlIT09biYmKHQ9YShlLG4pLGZ1bmN0aW9uKG4pe3RoaXMuc2V0QXR0cmlidXRlKG8sdChuKSl9KX0pfWZ1bmN0aW9uIGkobil7cmV0dXJuIG51bGw9PW4/cjoobis9IiIsZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuZ2V0QXR0cmlidXRlTlMoby5zcGFjZSxvLmxvY2FsKTtyZXR1cm4gZSE9PW4mJih0PWEoZSxuKSxmdW5jdGlvbihuKXt0aGlzLnNldEF0dHJpYnV0ZU5TKG8uc3BhY2Usby5sb2NhbCx0KG4pKX0pfSl9aWYoYXJndW1lbnRzLmxlbmd0aDwyKXtmb3IodCBpbiBuKXRoaXMuYXR0cih0LG5bdF0pO3JldHVybiB0aGlzfXZhciBhPSJ0cmFuc2Zvcm0iPT1uPyRyOk1yLG89b2EubnMucXVhbGlmeShuKTtyZXR1cm4gSmkodGhpcywiYXR0ci4iK24sdCxvLmxvY2FsP2k6dSl9LFlsLmF0dHJUd2Vlbj1mdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGUobixlKXt2YXIgcj10LmNhbGwodGhpcyxuLGUsdGhpcy5nZXRBdHRyaWJ1dGUodSkpO3JldHVybiByJiZmdW5jdGlvbihuKXt0aGlzLnNldEF0dHJpYnV0ZSh1LHIobikpfX1mdW5jdGlvbiByKG4sZSl7dmFyIHI9dC5jYWxsKHRoaXMsbixlLHRoaXMuZ2V0QXR0cmlidXRlTlModS5zcGFjZSx1LmxvY2FsKSk7cmV0dXJuIHImJmZ1bmN0aW9uKG4pe3RoaXMuc2V0QXR0cmlidXRlTlModS5zcGFjZSx1LmxvY2FsLHIobikpfX12YXIgdT1vYS5ucy5xdWFsaWZ5KG4pO3JldHVybiB0aGlzLnR3ZWVuKCJhdHRyLiIrbix1LmxvY2FsP3I6ZSl9LFlsLnN0eWxlPWZ1bmN0aW9uKG4sZSxyKXtmdW5jdGlvbiB1KCl7dGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuKX1mdW5jdGlvbiBpKGUpe3JldHVybiBudWxsPT1lP3U6KGUrPSIiLGZ1bmN0aW9uKCl7dmFyIHUsaT10KHRoaXMpLmdldENvbXB1dGVkU3R5bGUodGhpcyxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKG4pO3JldHVybiBpIT09ZSYmKHU9TXIoaSxlKSxmdW5jdGlvbih0KXt0aGlzLnN0eWxlLnNldFByb3BlcnR5KG4sdSh0KSxyKX0pfSl9dmFyIGE9YXJndW1lbnRzLmxlbmd0aDtpZigzPmEpe2lmKCJzdHJpbmciIT10eXBlb2Ygbil7Mj5hJiYoZT0iIik7Zm9yKHIgaW4gbil0aGlzLnN0eWxlKHIsbltyXSxlKTtyZXR1cm4gdGhpc31yPSIifXJldHVybiBKaSh0aGlzLCJzdHlsZS4iK24sZSxpKX0sWWwuc3R5bGVUd2Vlbj1mdW5jdGlvbihuLGUscil7ZnVuY3Rpb24gdSh1LGkpe3ZhciBhPWUuY2FsbCh0aGlzLHUsaSx0KHRoaXMpLmdldENvbXB1dGVkU3R5bGUodGhpcyxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKG4pKTtyZXR1cm4gYSYmZnVuY3Rpb24odCl7dGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuLGEodCkscil9fXJldHVybiBhcmd1bWVudHMubGVuZ3RoPDMmJihyPSIiKSx0aGlzLnR3ZWVuKCJzdHlsZS4iK24sdSl9LFlsLnRleHQ9ZnVuY3Rpb24obil7cmV0dXJuIEppKHRoaXMsInRleHQiLG4sR2kpfSxZbC5yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm5hbWVzcGFjZTtyZXR1cm4gdGhpcy5lYWNoKCJlbmQudHJhbnNpdGlvbiIsZnVuY3Rpb24oKXt2YXIgdDt0aGlzW25dLmNvdW50PDImJih0PXRoaXMucGFyZW50Tm9kZSkmJnQucmVtb3ZlQ2hpbGQodGhpcyl9KX0sWWwuZWFzZT1mdW5jdGlvbihuKXt2YXIgdD10aGlzLmlkLGU9dGhpcy5uYW1lc3BhY2U7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MT90aGlzLm5vZGUoKVtlXVt0XS5lYXNlOigiZnVuY3Rpb24iIT10eXBlb2YgbiYmKG49b2EuZWFzZS5hcHBseShvYSxhcmd1bWVudHMpKSxZKHRoaXMsZnVuY3Rpb24ocil7cltlXVt0XS5lYXNlPW59KSl9LFlsLmRlbGF5PWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuaWQsZT10aGlzLm5hbWVzcGFjZTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwxP3RoaXMubm9kZSgpW2VdW3RdLmRlbGF5OlkodGhpcywiZnVuY3Rpb24iPT10eXBlb2Ygbj9mdW5jdGlvbihyLHUsaSl7cltlXVt0XS5kZWxheT0rbi5jYWxsKHIsci5fX2RhdGFfXyx1LGkpfToobj0rbixmdW5jdGlvbihyKXtyW2VdW3RdLmRlbGF5PW59KSl9LFlsLmR1cmF0aW9uPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuaWQsZT10aGlzLm5hbWVzcGFjZTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwxP3RoaXMubm9kZSgpW2VdW3RdLmR1cmF0aW9uOlkodGhpcywiZnVuY3Rpb24iPT10eXBlb2Ygbj9mdW5jdGlvbihyLHUsaSl7cltlXVt0XS5kdXJhdGlvbj1NYXRoLm1heCgxLG4uY2FsbChyLHIuX19kYXRhX18sdSxpKSl9OihuPU1hdGgubWF4KDEsbiksZnVuY3Rpb24ocil7cltlXVt0XS5kdXJhdGlvbj1ufSkpfSxZbC5lYWNoPWZ1bmN0aW9uKG4sdCl7dmFyIGU9dGhpcy5pZCxyPXRoaXMubmFtZXNwYWNlO2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil7dmFyIHU9T2wsaT1IbDt0cnl7SGw9ZSxZKHRoaXMsZnVuY3Rpb24odCx1LGkpe09sPXRbcl1bZV0sbi5jYWxsKHQsdC5fX2RhdGFfXyx1LGkpfSl9ZmluYWxseXtPbD11LEhsPWl9fWVsc2UgWSh0aGlzLGZ1bmN0aW9uKHUpe3ZhciBpPXVbcl1bZV07KGkuZXZlbnR8fChpLmV2ZW50PW9hLmRpc3BhdGNoKCJzdGFydCIsImVuZCIsImludGVycnVwdCIpKSkub24obix0KX0pO3JldHVybiB0aGlzfSxZbC50cmFuc2l0aW9uPWZ1bmN0aW9uKCl7Zm9yKHZhciBuLHQsZSxyLHU9dGhpcy5pZCxpPSsrWmwsYT10aGlzLm5hbWVzcGFjZSxvPVtdLGw9MCxjPXRoaXMubGVuZ3RoO2M+bDtsKyspe28ucHVzaChuPVtdKTtmb3IodmFyIHQ9dGhpc1tsXSxzPTAsZj10Lmxlbmd0aDtmPnM7cysrKShlPXRbc10pJiYocj1lW2FdW3VdLFFpKGUscyxhLGkse3RpbWU6ci50aW1lLGVhc2U6ci5lYXNlLGRlbGF5OnIuZGVsYXkrci5kdXJhdGlvbixkdXJhdGlvbjpyLmR1cmF0aW9ufSkpLG4ucHVzaChlKX1yZXR1cm4gV2kobyxhLGkpfSxvYS5zdmcuYXhpcz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obil7bi5lYWNoKGZ1bmN0aW9uKCl7dmFyIG4sYz1vYS5zZWxlY3QodGhpcykscz10aGlzLl9fY2hhcnRfX3x8ZSxmPXRoaXMuX19jaGFydF9fPWUuY29weSgpLGg9bnVsbD09bD9mLnRpY2tzP2YudGlja3MuYXBwbHkoZixvKTpmLmRvbWFpbigpOmwsZz1udWxsPT10P2YudGlja0Zvcm1hdD9mLnRpY2tGb3JtYXQuYXBwbHkoZixvKTp5OnQscD1jLnNlbGVjdEFsbCgiLnRpY2siKS5kYXRhKGgsZiksdj1wLmVudGVyKCkuaW5zZXJ0KCJnIiwiLmRvbWFpbiIpLmF0dHIoImNsYXNzIiwidGljayIpLnN0eWxlKCJvcGFjaXR5IixQYSksZD1vYS50cmFuc2l0aW9uKHAuZXhpdCgpKS5zdHlsZSgib3BhY2l0eSIsUGEpLnJlbW92ZSgpLG09b2EudHJhbnNpdGlvbihwLm9yZGVyKCkpLnN0eWxlKCJvcGFjaXR5IiwxKSxNPU1hdGgubWF4KHUsMCkrYSx4PVp1KGYpLGI9Yy5zZWxlY3RBbGwoIi5kb21haW4iKS5kYXRhKFswXSksXz0oYi5lbnRlcigpLmFwcGVuZCgicGF0aCIpLmF0dHIoImNsYXNzIiwiZG9tYWluIiksb2EudHJhbnNpdGlvbihiKSk7di5hcHBlbmQoImxpbmUiKSx2LmFwcGVuZCgidGV4dCIpO3ZhciB3LFMsayxOLEU9di5zZWxlY3QoImxpbmUiKSxBPW0uc2VsZWN0KCJsaW5lIiksQz1wLnNlbGVjdCgidGV4dCIpLnRleHQoZyksej12LnNlbGVjdCgidGV4dCIpLEw9bS5zZWxlY3QoInRleHQiKSxxPSJ0b3AiPT09cnx8ImxlZnQiPT09cj8tMToxO2lmKCJib3R0b20iPT09cnx8InRvcCI9PT1yPyhuPW5hLHc9IngiLGs9InkiLFM9IngyIixOPSJ5MiIsQy5hdHRyKCJkeSIsMD5xPyIwZW0iOiIuNzFlbSIpLnN0eWxlKCJ0ZXh0LWFuY2hvciIsIm1pZGRsZSIpLF8uYXR0cigiZCIsIk0iK3hbMF0rIiwiK3EqaSsiVjBIIit4WzFdKyJWIitxKmkpKToobj10YSx3PSJ5IixrPSJ4IixTPSJ5MiIsTj0ieDIiLEMuYXR0cigiZHkiLCIuMzJlbSIpLnN0eWxlKCJ0ZXh0LWFuY2hvciIsMD5xPyJlbmQiOiJzdGFydCIpLF8uYXR0cigiZCIsIk0iK3EqaSsiLCIreFswXSsiSDBWIit4WzFdKyJIIitxKmkpKSxFLmF0dHIoTixxKnUpLHouYXR0cihrLHEqTSksQS5hdHRyKFMsMCkuYXR0cihOLHEqdSksTC5hdHRyKHcsMCkuYXR0cihrLHEqTSksZi5yYW5nZUJhbmQpe3ZhciBUPWYsUj1ULnJhbmdlQmFuZCgpLzI7cz1mPWZ1bmN0aW9uKG4pe3JldHVybiBUKG4pK1J9fWVsc2Ugcy5yYW5nZUJhbmQ/cz1mOmQuY2FsbChuLGYscyk7di5jYWxsKG4scyxmKSxtLmNhbGwobixmLGYpfSl9dmFyIHQsZT1vYS5zY2FsZS5saW5lYXIoKSxyPVZsLHU9NixpPTYsYT0zLG89WzEwXSxsPW51bGw7cmV0dXJuIG4uc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9dCxuKTplfSxuLm9yaWVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj10IGluIFhsP3QrIiI6Vmwsbik6cn0sbi50aWNrcz1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvPWNhKGFyZ3VtZW50cyksbik6b30sbi50aWNrVmFsdWVzPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPXQsbik6bH0sbi50aWNrRm9ybWF0PWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PWUsbik6dH0sbi50aWNrU2l6ZT1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO3JldHVybiBlPyh1PSt0LGk9K2FyZ3VtZW50c1tlLTFdLG4pOnV9LG4uaW5uZXJUaWNrU2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT0rdCxuKTp1fSxuLm91dGVyVGlja1NpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9K3Qsbik6aX0sbi50aWNrUGFkZGluZz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT0rdCxuKTphfSxuLnRpY2tTdWJkaXZpZGU9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmbn0sbn07dmFyIFZsPSJib3R0b20iLFhsPXt0b3A6MSxyaWdodDoxLGJvdHRvbToxLGxlZnQ6MX07b2Euc3ZnLmJydXNoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbih0KXt0LmVhY2goZnVuY3Rpb24oKXt2YXIgdD1vYS5zZWxlY3QodGhpcykuc3R5bGUoInBvaW50ZXItZXZlbnRzIiwiYWxsIikuc3R5bGUoIi13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvciIsInJnYmEoMCwwLDAsMCkiKS5vbigibW91c2Vkb3duLmJydXNoIixpKS5vbigidG91Y2hzdGFydC5icnVzaCIsaSksYT10LnNlbGVjdEFsbCgiLmJhY2tncm91bmQiKS5kYXRhKFswXSk7YS5lbnRlcigpLmFwcGVuZCgicmVjdCIpLmF0dHIoImNsYXNzIiwiYmFja2dyb3VuZCIpLnN0eWxlKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIikuc3R5bGUoImN1cnNvciIsImNyb3NzaGFpciIpLHQuc2VsZWN0QWxsKCIuZXh0ZW50IikuZGF0YShbMF0pLmVudGVyKCkuYXBwZW5kKCJyZWN0IikuYXR0cigiY2xhc3MiLCJleHRlbnQiKS5zdHlsZSgiY3Vyc29yIiwibW92ZSIpO3ZhciBvPXQuc2VsZWN0QWxsKCIucmVzaXplIikuZGF0YSh2LHkpO28uZXhpdCgpLnJlbW92ZSgpLG8uZW50ZXIoKS5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsZnVuY3Rpb24obil7cmV0dXJuInJlc2l6ZSAiK259KS5zdHlsZSgiY3Vyc29yIixmdW5jdGlvbihuKXtyZXR1cm4gJGxbbl19KS5hcHBlbmQoInJlY3QiKS5hdHRyKCJ4IixmdW5jdGlvbihuKXtyZXR1cm4vW2V3XSQvLnRlc3Qobik/LTM6bnVsbH0pLmF0dHIoInkiLGZ1bmN0aW9uKG4pe3JldHVybi9eW25zXS8udGVzdChuKT8tMzpudWxsfSkuYXR0cigid2lkdGgiLDYpLmF0dHIoImhlaWdodCIsNikuc3R5bGUoInZpc2liaWxpdHkiLCJoaWRkZW4iKSxvLnN0eWxlKCJkaXNwbGF5IixuLmVtcHR5KCk/Im5vbmUiOm51bGwpO3ZhciBsLGY9b2EudHJhbnNpdGlvbih0KSxoPW9hLnRyYW5zaXRpb24oYSk7YyYmKGw9WnUoYyksaC5hdHRyKCJ4IixsWzBdKS5hdHRyKCJ3aWR0aCIsbFsxXS1sWzBdKSxyKGYpKSxzJiYobD1adShzKSxoLmF0dHIoInkiLGxbMF0pLmF0dHIoImhlaWdodCIsbFsxXS1sWzBdKSx1KGYpKSxlKGYpfSl9ZnVuY3Rpb24gZShuKXtuLnNlbGVjdEFsbCgiLnJlc2l6ZSIpLmF0dHIoInRyYW5zZm9ybSIsZnVuY3Rpb24obil7cmV0dXJuInRyYW5zbGF0ZSgiK2ZbKy9lJC8udGVzdChuKV0rIiwiK2hbKy9ecy8udGVzdChuKV0rIikifSl9ZnVuY3Rpb24gcihuKXtuLnNlbGVjdCgiLmV4dGVudCIpLmF0dHIoIngiLGZbMF0pLG4uc2VsZWN0QWxsKCIuZXh0ZW50LC5uPnJlY3QsLnM+cmVjdCIpLmF0dHIoIndpZHRoIixmWzFdLWZbMF0pfWZ1bmN0aW9uIHUobil7bi5zZWxlY3QoIi5leHRlbnQiKS5hdHRyKCJ5IixoWzBdKSxuLnNlbGVjdEFsbCgiLmV4dGVudCwuZT5yZWN0LC53PnJlY3QiKS5hdHRyKCJoZWlnaHQiLGhbMV0taFswXSl9ZnVuY3Rpb24gaSgpe2Z1bmN0aW9uIGkoKXszMj09b2EuZXZlbnQua2V5Q29kZSYmKEN8fChNPW51bGwsTFswXS09ZlsxXSxMWzFdLT1oWzFdLEM9MiksUygpKX1mdW5jdGlvbiB2KCl7MzI9PW9hLmV2ZW50LmtleUNvZGUmJjI9PUMmJihMWzBdKz1mWzFdLExbMV0rPWhbMV0sQz0wLFMoKSl9ZnVuY3Rpb24gZCgpe3ZhciBuPW9hLm1vdXNlKGIpLHQ9ITE7eCYmKG5bMF0rPXhbMF0sblsxXSs9eFsxXSksQ3x8KG9hLmV2ZW50LmFsdEtleT8oTXx8KE09WyhmWzBdK2ZbMV0pLzIsKGhbMF0raFsxXSkvMl0pLExbMF09ZlsrKG5bMF08TVswXSldLExbMV09aFsrKG5bMV08TVsxXSldKTpNPW51bGwpLEUmJm0obixjLDApJiYocihrKSx0PSEwKSxBJiZtKG4scywxKSYmKHUoayksdD0hMCksdCYmKGUoayksdyh7dHlwZToiYnJ1c2giLG1vZGU6Qz8ibW92ZSI6InJlc2l6ZSJ9KSl9ZnVuY3Rpb24gbShuLHQsZSl7dmFyIHIsdSxpPVp1KHQpLGw9aVswXSxjPWlbMV0scz1MW2VdLHY9ZT9oOmYsZD12WzFdLXZbMF07cmV0dXJuIEMmJihsLT1zLGMtPWQrcykscj0oZT9wOmcpP01hdGgubWF4KGwsTWF0aC5taW4oYyxuW2VdKSk6bltlXSxDP3U9KHIrPXMpK2Q6KE0mJihzPU1hdGgubWF4KGwsTWF0aC5taW4oYywyKk1bZV0tcikpKSxyPnM/KHU9cixyPXMpOnU9cyksdlswXSE9cnx8dlsxXSE9dT8oZT9vPW51bGw6YT1udWxsLHZbMF09cix2WzFdPXUsITApOnZvaWQgMH1mdW5jdGlvbiB5KCl7ZCgpLGsuc3R5bGUoInBvaW50ZXItZXZlbnRzIiwiYWxsIikuc2VsZWN0QWxsKCIucmVzaXplIikuc3R5bGUoImRpc3BsYXkiLG4uZW1wdHkoKT8ibm9uZSI6bnVsbCksb2Euc2VsZWN0KCJib2R5Iikuc3R5bGUoImN1cnNvciIsbnVsbCkscS5vbigibW91c2Vtb3ZlLmJydXNoIixudWxsKS5vbigibW91c2V1cC5icnVzaCIsbnVsbCkub24oInRvdWNobW92ZS5icnVzaCIsbnVsbCkub24oInRvdWNoZW5kLmJydXNoIixudWxsKS5vbigia2V5ZG93bi5icnVzaCIsbnVsbCkub24oImtleXVwLmJydXNoIixudWxsKSx6KCksdyh7dHlwZToiYnJ1c2hlbmQifSl9dmFyIE0seCxiPXRoaXMsXz1vYS5zZWxlY3Qob2EuZXZlbnQudGFyZ2V0KSx3PWwub2YoYixhcmd1bWVudHMpLGs9b2Euc2VsZWN0KGIpLE49Xy5kYXR1bSgpLEU9IS9eKG58cykkLy50ZXN0KE4pJiZjLEE9IS9eKGV8dykkLy50ZXN0KE4pJiZzLEM9Xy5jbGFzc2VkKCJleHRlbnQiKSx6PVcoYiksTD1vYS5tb3VzZShiKSxxPW9hLnNlbGVjdCh0KGIpKS5vbigia2V5ZG93bi5icnVzaCIsaSkub24oImtleXVwLmJydXNoIix2KTtpZihvYS5ldmVudC5jaGFuZ2VkVG91Y2hlcz9xLm9uKCJ0b3VjaG1vdmUuYnJ1c2giLGQpLm9uKCJ0b3VjaGVuZC5icnVzaCIseSk6cS5vbigibW91c2Vtb3ZlLmJydXNoIixkKS5vbigibW91c2V1cC5icnVzaCIseSksay5pbnRlcnJ1cHQoKS5zZWxlY3RBbGwoIioiKS5pbnRlcnJ1cHQoKSxDKUxbMF09ZlswXS1MWzBdLExbMV09aFswXS1MWzFdO2Vsc2UgaWYoTil7dmFyIFQ9Ky93JC8udGVzdChOKSxSPSsvXm4vLnRlc3QoTik7eD1bZlsxLVRdLUxbMF0saFsxLVJdLUxbMV1dLExbMF09ZltUXSxMWzFdPWhbUl19ZWxzZSBvYS5ldmVudC5hbHRLZXkmJihNPUwuc2xpY2UoKSk7ay5zdHlsZSgicG9pbnRlci1ldmVudHMiLCJub25lIikuc2VsZWN0QWxsKCIucmVzaXplIikuc3R5bGUoImRpc3BsYXkiLG51bGwpLG9hLnNlbGVjdCgiYm9keSIpLnN0eWxlKCJjdXJzb3IiLF8uc3R5bGUoImN1cnNvciIpKSx3KHt0eXBlOiJicnVzaHN0YXJ0In0pLGQoKX12YXIgYSxvLGw9TihuLCJicnVzaHN0YXJ0IiwiYnJ1c2giLCJicnVzaGVuZCIpLGM9bnVsbCxzPW51bGwsZj1bMCwwXSxoPVswLDBdLGc9ITAscD0hMCx2PUJsWzBdO3JldHVybiBuLmV2ZW50PWZ1bmN0aW9uKG4pe24uZWFjaChmdW5jdGlvbigpe3ZhciBuPWwub2YodGhpcyxhcmd1bWVudHMpLHQ9e3g6Zix5OmgsaTphLGo6b30sZT10aGlzLl9fY2hhcnRfX3x8dDt0aGlzLl9fY2hhcnRfXz10LEhsP29hLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKCkuZWFjaCgic3RhcnQuYnJ1c2giLGZ1bmN0aW9uKCl7YT1lLmksbz1lLmosZj1lLngsaD1lLnksbih7dHlwZToiYnJ1c2hzdGFydCJ9KX0pLnR3ZWVuKCJicnVzaDpicnVzaCIsZnVuY3Rpb24oKXt2YXIgZT14cihmLHQueCkscj14cihoLHQueSk7cmV0dXJuIGE9bz1udWxsLGZ1bmN0aW9uKHUpe2Y9dC54PWUodSksaD10Lnk9cih1KSxuKHt0eXBlOiJicnVzaCIsbW9kZToicmVzaXplIn0pfX0pLmVhY2goImVuZC5icnVzaCIsZnVuY3Rpb24oKXthPXQuaSxvPXQuaixuKHt0eXBlOiJicnVzaCIsbW9kZToicmVzaXplIn0pLG4oe3R5cGU6ImJydXNoZW5kIn0pfSk6KG4oe3R5cGU6ImJydXNoc3RhcnQifSksbih7dHlwZToiYnJ1c2giLG1vZGU6InJlc2l6ZSJ9KSxuKHt0eXBlOiJicnVzaGVuZCJ9KSl9KX0sbi54PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPXQsdj1CbFshYzw8MXwhc10sbik6Y30sbi55PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhzPXQsdj1CbFshYzw8MXwhc10sbik6c30sbi5jbGFtcD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYyYmcz8oZz0hIXRbMF0scD0hIXRbMV0pOmM/Zz0hIXQ6cyYmKHA9ISF0KSxuKTpjJiZzP1tnLHBdOmM/ZzpzP3A6bnVsbH0sbi5leHRlbnQ9ZnVuY3Rpb24odCl7dmFyIGUscix1LGksbDtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYyYmKGU9dFswXSxyPXRbMV0scyYmKGU9ZVswXSxyPXJbMF0pLGE9W2Uscl0sYy5pbnZlcnQmJihlPWMoZSkscj1jKHIpKSxlPnImJihsPWUsZT1yLHI9bCksKGUhPWZbMF18fHIhPWZbMV0pJiYoZj1bZSxyXSkpLHMmJih1PXRbMF0saT10WzFdLGMmJih1PXVbMV0saT1pWzFdKSxvPVt1LGldLHMuaW52ZXJ0JiYodT1zKHUpLGk9cyhpKSksdT5pJiYobD11LHU9aSxpPWwpLCh1IT1oWzBdfHxpIT1oWzFdKSYmKGg9W3UsaV0pKSxuKTooYyYmKGE/KGU9YVswXSxyPWFbMV0pOihlPWZbMF0scj1mWzFdLGMuaW52ZXJ0JiYoZT1jLmludmVydChlKSxyPWMuaW52ZXJ0KHIpKSxlPnImJihsPWUsZT1yLHI9bCkpKSxzJiYobz8odT1vWzBdLGk9b1sxXSk6KHU9aFswXSxpPWhbMV0scy5pbnZlcnQmJih1PXMuaW52ZXJ0KHUpLGk9cy5pbnZlcnQoaSkpLHU+aSYmKGw9dSx1PWksaT1sKSkpLGMmJnM/W1tlLHVdLFtyLGldXTpjP1tlLHJdOnMmJlt1LGldKX0sbi5jbGVhcj1mdW5jdGlvbigpe3JldHVybiBuLmVtcHR5KCl8fChmPVswLDBdLGg9WzAsMF0sYT1vPW51bGwpLG59LG4uZW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4hIWMmJmZbMF09PWZbMV18fCEhcyYmaFswXT09aFsxXX0sb2EucmViaW5kKG4sbCwib24iKX07dmFyICRsPXtuOiJucy1yZXNpemUiLGU6ImV3LXJlc2l6ZSIsczoibnMtcmVzaXplIix3OiJldy1yZXNpemUiLG53OiJud3NlLXJlc2l6ZSIsbmU6Im5lc3ctcmVzaXplIixzZToibndzZS1yZXNpemUiLHN3OiJuZXN3LXJlc2l6ZSJ9LEJsPVtbIm4iLCJlIiwicyIsInciLCJudyIsIm5lIiwic2UiLCJzdyJdLFsiZSIsInciXSxbIm4iLCJzIl0sW11dLFdsPWdvLmZvcm1hdD14by50aW1lRm9ybWF0LEpsPVdsLnV0YyxHbD1KbCgiJVktJW0tJWRUJUg6JU06JVMuJUxaIik7V2wuaXNvPURhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nJiYrbmV3IERhdGUoIjIwMDAtMDEtMDFUMDA6MDA6MDAuMDAwWiIpP2VhOkdsLGVhLnBhcnNlPWZ1bmN0aW9uKG4pe3ZhciB0PW5ldyBEYXRlKG4pO3JldHVybiBpc05hTih0KT9udWxsOnR9LGVhLnRvU3RyaW5nPUdsLnRvU3RyaW5nLGdvLnNlY29uZD1PbihmdW5jdGlvbihuKXtyZXR1cm4gbmV3IHBvKDFlMypNYXRoLmZsb29yKG4vMWUzKSl9LGZ1bmN0aW9uKG4sdCl7bi5zZXRUaW1lKG4uZ2V0VGltZSgpKzFlMypNYXRoLmZsb29yKHQpKX0sZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0U2Vjb25kcygpfSksZ28uc2Vjb25kcz1nby5zZWNvbmQucmFuZ2UsZ28uc2Vjb25kcy51dGM9Z28uc2Vjb25kLnV0Yy5yYW5nZSxnby5taW51dGU9T24oZnVuY3Rpb24obil7cmV0dXJuIG5ldyBwbyg2ZTQqTWF0aC5mbG9vcihuLzZlNCkpfSxmdW5jdGlvbihuLHQpe24uc2V0VGltZShuLmdldFRpbWUoKSs2ZTQqTWF0aC5mbG9vcih0KSl9LGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldE1pbnV0ZXMoKX0pLGdvLm1pbnV0ZXM9Z28ubWludXRlLnJhbmdlLGdvLm1pbnV0ZXMudXRjPWdvLm1pbnV0ZS51dGMucmFuZ2UsZ28uaG91cj1PbihmdW5jdGlvbihuKXt2YXIgdD1uLmdldFRpbWV6b25lT2Zmc2V0KCkvNjA7cmV0dXJuIG5ldyBwbygzNmU1KihNYXRoLmZsb29yKG4vMzZlNS10KSt0KSl9LGZ1bmN0aW9uKG4sdCl7bi5zZXRUaW1lKG4uZ2V0VGltZSgpKzM2ZTUqTWF0aC5mbG9vcih0KSl9LGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldEhvdXJzKCl9KSxnby5ob3Vycz1nby5ob3VyLnJhbmdlLGdvLmhvdXJzLnV0Yz1nby5ob3VyLnV0Yy5yYW5nZSxnby5tb250aD1PbihmdW5jdGlvbihuKXtyZXR1cm4gbj1nby5kYXkobiksbi5zZXREYXRlKDEpLG59LGZ1bmN0aW9uKG4sdCl7bi5zZXRNb250aChuLmdldE1vbnRoKCkrdCl9LGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldE1vbnRoKCl9KSxnby5tb250aHM9Z28ubW9udGgucmFuZ2UsZ28ubW9udGhzLnV0Yz1nby5tb250aC51dGMucmFuZ2U7dmFyIEtsPVsxZTMsNWUzLDE1ZTMsM2U0LDZlNCwzZTUsOWU1LDE4ZTUsMzZlNSwxMDhlNSwyMTZlNSw0MzJlNSw4NjRlNSwxNzI4ZTUsNjA0OGU1LDI1OTJlNiw3Nzc2ZTYsMzE1MzZlNl0sUWw9W1tnby5zZWNvbmQsMV0sW2dvLnNlY29uZCw1XSxbZ28uc2Vjb25kLDE1XSxbZ28uc2Vjb25kLDMwXSxbZ28ubWludXRlLDFdLFtnby5taW51dGUsNV0sW2dvLm1pbnV0ZSwxNV0sW2dvLm1pbnV0ZSwzMF0sW2dvLmhvdXIsMV0sW2dvLmhvdXIsM10sW2dvLmhvdXIsNl0sW2dvLmhvdXIsMTJdLFtnby5kYXksMV0sW2dvLmRheSwyXSxbZ28ud2VlaywxXSxbZ28ubW9udGgsMV0sW2dvLm1vbnRoLDNdLFtnby55ZWFyLDFdXSxuYz1XbC5tdWx0aShbWyIuJUwiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldE1pbGxpc2Vjb25kcygpfV0sWyI6JVMiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldFNlY29uZHMoKX1dLFsiJUk6JU0iLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldE1pbnV0ZXMoKX1dLFsiJUkgJXAiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldEhvdXJzKCl9XSxbIiVhICVkIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXREYXkoKSYmMSE9bi5nZXREYXRlKCl9XSxbIiViICVkIixmdW5jdGlvbihuKXtyZXR1cm4gMSE9bi5nZXREYXRlKCl9XSxbIiVCIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRNb250aCgpfV0sWyIlWSIsenRdXSksdGM9e3JhbmdlOmZ1bmN0aW9uKG4sdCxlKXtyZXR1cm4gb2EucmFuZ2UoTWF0aC5jZWlsKG4vZSkqZSwrdCxlKS5tYXAodWEpfSxmbG9vcjp5LGNlaWw6eX07UWwueWVhcj1nby55ZWFyLGdvLnNjYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHJhKG9hLnNjYWxlLmxpbmVhcigpLFFsLG5jKX07dmFyIGVjPVFsLm1hcChmdW5jdGlvbihuKXtyZXR1cm5bblswXS51dGMsblsxXV19KSxyYz1KbC5tdWx0aShbWyIuJUwiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldFVUQ01pbGxpc2Vjb25kcygpfV0sWyI6JVMiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldFVUQ1NlY29uZHMoKX1dLFsiJUk6JU0iLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldFVUQ01pbnV0ZXMoKX1dLFsiJUkgJXAiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldFVUQ0hvdXJzKCl9XSxbIiVhICVkIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRVVENEYXkoKSYmMSE9bi5nZXRVVENEYXRlKCl9XSxbIiViICVkIixmdW5jdGlvbihuKXtyZXR1cm4gMSE9bi5nZXRVVENEYXRlKCl9XSxbIiVCIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRVVENNb250aCgpfV0sWyIlWSIsenRdXSk7ZWMueWVhcj1nby55ZWFyLnV0Yyxnby5zY2FsZS51dGM9ZnVuY3Rpb24oKXtyZXR1cm4gcmEob2Euc2NhbGUubGluZWFyKCksZWMscmMpfSxvYS50ZXh0PUFuKGZ1bmN0aW9uKG4pe3JldHVybiBuLnJlc3BvbnNlVGV4dH0pLG9hLmpzb249ZnVuY3Rpb24obix0KXtyZXR1cm4gQ24obiwiYXBwbGljYXRpb24vanNvbiIsaWEsdCl9LG9hLmh0bWw9ZnVuY3Rpb24obix0KXtyZXR1cm4gQ24obiwidGV4dC9odG1sIixhYSx0KX0sb2EueG1sPUFuKGZ1bmN0aW9uKG4pe3JldHVybiBuLnJlc3BvbnNlWE1MfSksImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD8odGhpcy5kMz1vYSxkZWZpbmUob2EpKToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9b2E6dGhpcy5kMz1vYX0oKTs="></script>
<link href="data:text/css;charset=utf-8,%2Ec3%20svg%7Bfont%3A10px%20sans%2Dserif%3B%2Dwebkit%2Dtap%2Dhighlight%2Dcolor%3Atransparent%7D%2Ec3%20line%2C%2Ec3%20path%7Bfill%3Anone%3Bstroke%3A%23000%7D%2Ec3%20text%7B%2Dwebkit%2Duser%2Dselect%3Anone%3B%2Dmoz%2Duser%2Dselect%3Anone%3Buser%2Dselect%3Anone%7D%2Ec3%2Dbars%20path%2C%2Ec3%2Devent%2Drect%2C%2Ec3%2Dlegend%2Ditem%2Dtile%2C%2Ec3%2Dxgrid%2Dfocus%2C%2Ec3%2Dygrid%7Bshape%2Drendering%3AcrispEdges%7D%2Ec3%2Dchart%2Darc%20path%7Bstroke%3A%23fff%7D%2Ec3%2Dchart%2Darc%20text%7Bfill%3A%23fff%3Bfont%2Dsize%3A13px%7D%2Ec3%2Dgrid%20line%7Bstroke%3A%23aaa%7D%2Ec3%2Dgrid%20text%7Bfill%3A%23aaa%7D%2Ec3%2Dxgrid%2C%2Ec3%2Dygrid%7Bstroke%2Ddasharray%3A3%203%7D%2Ec3%2Dtext%2Ec3%2Dempty%7Bfill%3Agray%3Bfont%2Dsize%3A2em%7D%2Ec3%2Dline%7Bstroke%2Dwidth%3A1px%7D%2Ec3%2Dcircle%2E%5Fexpanded%5F%7Bstroke%2Dwidth%3A1px%3Bstroke%3A%23fff%7D%2Ec3%2Dselected%2Dcircle%7Bfill%3A%23fff%3Bstroke%2Dwidth%3A2px%7D%2Ec3%2Dbar%7Bstroke%2Dwidth%3A0%7D%2Ec3%2Dbar%2E%5Fexpanded%5F%7Bfill%2Dopacity%3A%2E75%7D%2Ec3%2Dtarget%2Ec3%2Dfocused%7Bopacity%3A1%7D%2Ec3%2Dtarget%2Ec3%2Dfocused%20path%2Ec3%2Dline%2C%2Ec3%2Dtarget%2Ec3%2Dfocused%20path%2Ec3%2Dstep%7Bstroke%2Dwidth%3A2px%7D%2Ec3%2Dtarget%2Ec3%2Ddefocused%7Bopacity%3A%2E3%21important%7D%2Ec3%2Dregion%7Bfill%3A%234682b4%3Bfill%2Dopacity%3A%2E1%7D%2Ec3%2Dbrush%20%2Eextent%7Bfill%2Dopacity%3A%2E1%7D%2Ec3%2Dlegend%2Ditem%7Bfont%2Dsize%3A12px%7D%2Ec3%2Dlegend%2Ditem%2Dhidden%7Bopacity%3A%2E15%7D%2Ec3%2Dlegend%2Dbackground%7Bopacity%3A%2E75%3Bfill%3A%23fff%3Bstroke%3A%23d3d3d3%3Bstroke%2Dwidth%3A1%7D%2Ec3%2Dtitle%7Bfont%3A14px%20sans%2Dserif%7D%2Ec3%2Dtooltip%2Dcontainer%7Bz%2Dindex%3A10%7D%2Ec3%2Dtooltip%7Bborder%2Dcollapse%3Acollapse%3Bborder%2Dspacing%3A0%3Bbackground%2Dcolor%3A%23fff%3Bempty%2Dcells%3Ashow%3B%2Dwebkit%2Dbox%2Dshadow%3A7px%207px%2012px%20%2D9px%20%23777%3B%2Dmoz%2Dbox%2Dshadow%3A7px%207px%2012px%20%2D9px%20%23777%3Bbox%2Dshadow%3A7px%207px%2012px%20%2D9px%20%23777%3Bopacity%3A%2E9%7D%2Ec3%2Dtooltip%20tr%7Bborder%3A1px%20solid%20%23CCC%7D%2Ec3%2Dtooltip%20th%7Bbackground%2Dcolor%3A%23aaa%3Bfont%2Dsize%3A14px%3Bpadding%3A2px%205px%3Btext%2Dalign%3Aleft%3Bcolor%3A%23FFF%7D%2Ec3%2Dtooltip%20td%7Bfont%2Dsize%3A13px%3Bpadding%3A3px%206px%3Bbackground%2Dcolor%3A%23fff%3Bborder%2Dleft%3A1px%20dotted%20%23999%7D%2Ec3%2Dtooltip%20td%3Espan%7Bdisplay%3Ainline%2Dblock%3Bwidth%3A10px%3Bheight%3A10px%3Bmargin%2Dright%3A6px%7D%2Ec3%2Dtooltip%20td%2Evalue%7Btext%2Dalign%3Aright%7D%2Ec3%2Darea%7Bstroke%2Dwidth%3A0%3Bopacity%3A%2E2%7D%2Ec3%2Dchart%2Darcs%2Dtitle%7Bdominant%2Dbaseline%3Amiddle%3Bfont%2Dsize%3A1%2E3em%7D%2Ec3%2Dchart%2Darcs%20%2Ec3%2Dchart%2Darcs%2Dbackground%7Bfill%3A%23e0e0e0%3Bstroke%3Anone%7D%2Ec3%2Dchart%2Darcs%20%2Ec3%2Dchart%2Darcs%2Dgauge%2Dunit%7Bfill%3A%23000%3Bfont%2Dsize%3A16px%7D%2Ec3%2Dchart%2Darcs%20%2Ec3%2Dchart%2Darcs%2Dgauge%2Dmax%2C%2Ec3%2Dchart%2Darcs%20%2Ec3%2Dchart%2Darcs%2Dgauge%2Dmin%7Bfill%3A%23777%7D%2Ec3%2Dchart%2Darc%20%2Ec3%2Dgauge%2Dvalue%7Bfill%3A%23000%7D" rel="stylesheet" />
<script src="data:application/x-javascript;base64,IWZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3RoaXMub3duZXI9YX1mdW5jdGlvbiBjKGEsYil7aWYoT2JqZWN0LmNyZWF0ZSliLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKTtlbHNle3ZhciBjPWZ1bmN0aW9uKCl7fTtjLnByb3RvdHlwZT1hLnByb3RvdHlwZSxiLnByb3RvdHlwZT1uZXcgY31yZXR1cm4gYi5wcm90b3R5cGUuY29uc3RydWN0b3I9YixifWZ1bmN0aW9uIGQoYSl7dmFyIGI9dGhpcy5pbnRlcm5hbD1uZXcgZSh0aGlzKTtiLmxvYWRDb25maWcoYSksYi5iZWZvcmVJbml0KGEpLGIuaW5pdCgpLGIuYWZ0ZXJJbml0KGEpLGZ1bmN0aW9uIGMoYSxiLGQpe09iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24oZSl7YltlXT1hW2VdLmJpbmQoZCksT2JqZWN0LmtleXMoYVtlXSkubGVuZ3RoPjAmJmMoYVtlXSxiW2VdLGQpfSl9KGgsdGhpcyx0aGlzKX1mdW5jdGlvbiBlKGIpe3ZhciBjPXRoaXM7Yy5kMz1hLmQzP2EuZDM6InVuZGVmaW5lZCIhPXR5cGVvZiByZXF1aXJlP3JlcXVpcmUoImQzIik6dm9pZCAwLGMuYXBpPWIsYy5jb25maWc9Yy5nZXREZWZhdWx0Q29uZmlnKCksYy5kYXRhPXt9LGMuY2FjaGU9e30sYy5heGVzPXt9fWZ1bmN0aW9uIGYoYSl7Yi5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gZyhhLGIpe2Z1bmN0aW9uIGMoYSxiKXthLmF0dHIoInRyYW5zZm9ybSIsZnVuY3Rpb24oYSl7cmV0dXJuInRyYW5zbGF0ZSgiK01hdGguY2VpbChiKGEpK3UpKyIsIDApIn0pfWZ1bmN0aW9uIGQoYSxiKXthLmF0dHIoInRyYW5zZm9ybSIsZnVuY3Rpb24oYSl7cmV0dXJuInRyYW5zbGF0ZSgwLCIrTWF0aC5jZWlsKGIoYSkpKyIpIn0pfWZ1bmN0aW9uIGUoYSl7dmFyIGI9YVswXSxjPWFbYS5sZW5ndGgtMV07cmV0dXJuIGM+Yj9bYixjXTpbYyxiXX1mdW5jdGlvbiBmKGEpe3ZhciBiLGMsZD1bXTtpZihhLnRpY2tzKXJldHVybiBhLnRpY2tzLmFwcGx5KGEsbik7Zm9yKGM9YS5kb21haW4oKSxiPU1hdGguY2VpbChjWzBdKTtiPGNbMV07YisrKWQucHVzaChiKTtyZXR1cm4gZC5sZW5ndGg+MCYmZFswXT4wJiZkLnVuc2hpZnQoZFswXS0oZFsxXS1kWzBdKSksZH1mdW5jdGlvbiBnKCl7dmFyIGEsYz1wLmNvcHkoKTtyZXR1cm4gYi5pc0NhdGVnb3J5JiYoYT1wLmRvbWFpbigpLGMuZG9tYWluKFthWzBdLGFbMV0tMV0pKSxjfWZ1bmN0aW9uIGgoYSl7dmFyIGI9bT9tKGEpOmE7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBiP2I6IiJ9ZnVuY3Rpb24gaShhKXtpZihBKXJldHVybiBBO3ZhciBiPXtoOjExLjUsdzo1LjV9O3JldHVybiBhLnNlbGVjdCgidGV4dCIpLnRleHQoaCkuZWFjaChmdW5jdGlvbihhKXt2YXIgYz10aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGQ9aChhKSxlPWMuaGVpZ2h0LGY9ZD9jLndpZHRoL2QubGVuZ3RoOnZvaWQgMDtlJiZmJiYoYi5oPWUsYi53PWYpfSkudGV4dCgiIiksQT1iLGJ9ZnVuY3Rpb24gaihjKXtyZXR1cm4gYi53aXRob3V0VHJhbnNpdGlvbj9jOmEudHJhbnNpdGlvbihjKX1mdW5jdGlvbiBrKG0pe20uZWFjaChmdW5jdGlvbigpe2Z1bmN0aW9uIG0oYSxjKXtmdW5jdGlvbiBkKGEsYil7Zj12b2lkIDA7Zm9yKHZhciBoPTE7aDxiLmxlbmd0aDtoKyspaWYoIiAiPT09Yi5jaGFyQXQoaCkmJihmPWgpLGU9Yi5zdWJzdHIoMCxoKzEpLGc9VS53KmUubGVuZ3RoLGc+YylyZXR1cm4gZChhLmNvbmNhdChiLnN1YnN0cigwLGY/ZjpoKSksYi5zbGljZShmP2YrMTpoKSk7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBlLGYsZyxpPWgoYSksaj1bXTtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGkpP2k6KCghY3x8MD49YykmJihjPVg/OTU6Yi5pc0NhdGVnb3J5P01hdGguY2VpbChGKEdbMV0pLUYoR1swXSkpLTEyOjExMCksZChqLGkrIiIpKX1mdW5jdGlvbiBuKGEsYil7dmFyIGM9VS5oO3JldHVybiAwPT09YiYmKGM9ImxlZnQiPT09cXx8InJpZ2h0Ij09PXE/LSgoVlthLmluZGV4XS0xKSooVS5oLzIpLTMpOiIuNzFlbSIpLGN9ZnVuY3Rpb24gdihhKXt2YXIgYj1wKGEpKyhvPzA6dSk7cmV0dXJuIExbMF08YiYmYjxMWzFdP3I6MH1mdW5jdGlvbiB3KGEpe3JldHVybiBhP2E+MD8ic3RhcnQiOiJlbmQiOiJtaWRkbGUifWZ1bmN0aW9uIHgoYSl7cmV0dXJuIGE/InJvdGF0ZSgiK2ErIikiOiIifWZ1bmN0aW9uIHkoYSl7cmV0dXJuIGE/OCpNYXRoLnNpbihNYXRoLlBJKihhLzE4MCkpOjB9ZnVuY3Rpb24geihhKXtyZXR1cm4gYT8xMS41LTIuNSooYS8xNSkqKGE+MD8xOi0xKTpXfXZhciBBLEIsQyxEPWsuZz1hLnNlbGVjdCh0aGlzKSxFPXRoaXMuX19jaGFydF9ffHxwLEY9dGhpcy5fX2NoYXJ0X189ZygpLEc9dD90OmYoRiksSD1ELnNlbGVjdEFsbCgiLnRpY2siKS5kYXRhKEcsRiksST1ILmVudGVyKCkuaW5zZXJ0KCJnIiwiLmRvbWFpbiIpLmF0dHIoImNsYXNzIiwidGljayIpLnN0eWxlKCJvcGFjaXR5IiwxZS02KSxKPUguZXhpdCgpLnJlbW92ZSgpLEs9aihIKS5zdHlsZSgib3BhY2l0eSIsMSksTD1wLnJhbmdlRXh0ZW50P3AucmFuZ2VFeHRlbnQoKTplKHAucmFuZ2UoKSksTT1ELnNlbGVjdEFsbCgiLmRvbWFpbiIpLmRhdGEoWzBdKSxOPShNLmVudGVyKCkuYXBwZW5kKCJwYXRoIikuYXR0cigiY2xhc3MiLCJkb21haW4iKSxqKE0pKTtJLmFwcGVuZCgibGluZSIpLEkuYXBwZW5kKCJ0ZXh0Iik7dmFyIE89SS5zZWxlY3QoImxpbmUiKSxQPUsuc2VsZWN0KCJsaW5lIiksUT1JLnNlbGVjdCgidGV4dCIpLFI9Sy5zZWxlY3QoInRleHQiKTtiLmlzQ2F0ZWdvcnk/KHU9TWF0aC5jZWlsKChGKDEpLUYoMCkpLzIpLEI9bz8wOnUsQz1vP3U6MCk6dT1CPTA7dmFyIFMsVCxVPWkoRC5zZWxlY3QoIi50aWNrIikpLFY9W10sVz1NYXRoLm1heChyLDApK3MsWD0ibGVmdCI9PT1xfHwicmlnaHQiPT09cTtTPUguc2VsZWN0KCJ0ZXh0IiksVD1TLnNlbGVjdEFsbCgidHNwYW4iKS5kYXRhKGZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yi50aWNrTXVsdGlsaW5lP20oYSxiLnRpY2tXaWR0aCk6W10uY29uY2F0KGgoYSkpO3JldHVybiBWW2NdPWQubGVuZ3RoLGQubWFwKGZ1bmN0aW9uKGEpe3JldHVybntpbmRleDpjLHNwbGl0dGVkOmF9fSl9KSxULmVudGVyKCkuYXBwZW5kKCJ0c3BhbiIpLFQuZXhpdCgpLnJlbW92ZSgpLFQudGV4dChmdW5jdGlvbihhKXtyZXR1cm4gYS5zcGxpdHRlZH0pO3ZhciBZPWIudGlja1RleHRSb3RhdGU7c3dpdGNoKHEpe2Nhc2UiYm90dG9tIjpBPWMsTy5hdHRyKCJ5MiIsciksUS5hdHRyKCJ5IixXKSxQLmF0dHIoIngxIixCKS5hdHRyKCJ4MiIsQikuYXR0cigieTIiLHYpLFIuYXR0cigieCIsMCkuYXR0cigieSIseihZKSkuc3R5bGUoInRleHQtYW5jaG9yIix3KFkpKS5hdHRyKCJ0cmFuc2Zvcm0iLHgoWSkpLFQuYXR0cigieCIsMCkuYXR0cigiZHkiLG4pLmF0dHIoImR4Iix5KFkpKSxOLmF0dHIoImQiLCJNIitMWzBdKyIsIitsKyJWMEgiK0xbMV0rIlYiK2wpO2JyZWFrO2Nhc2UidG9wIjpBPWMsTy5hdHRyKCJ5MiIsLXIpLFEuYXR0cigieSIsLVcpLFAuYXR0cigieDIiLDApLmF0dHIoInkyIiwtciksUi5hdHRyKCJ4IiwwKS5hdHRyKCJ5IiwtVyksUy5zdHlsZSgidGV4dC1hbmNob3IiLCJtaWRkbGUiKSxULmF0dHIoIngiLDApLmF0dHIoImR5IiwiMGVtIiksTi5hdHRyKCJkIiwiTSIrTFswXSsiLCIrLWwrIlYwSCIrTFsxXSsiViIrLWwpO2JyZWFrO2Nhc2UibGVmdCI6QT1kLE8uYXR0cigieDIiLC1yKSxRLmF0dHIoIngiLC1XKSxQLmF0dHIoIngyIiwtcikuYXR0cigieTEiLEMpLmF0dHIoInkyIixDKSxSLmF0dHIoIngiLC1XKS5hdHRyKCJ5Iix1KSxTLnN0eWxlKCJ0ZXh0LWFuY2hvciIsImVuZCIpLFQuYXR0cigieCIsLVcpLmF0dHIoImR5IixuKSxOLmF0dHIoImQiLCJNIistbCsiLCIrTFswXSsiSDBWIitMWzFdKyJIIistbCk7YnJlYWs7Y2FzZSJyaWdodCI6QT1kLE8uYXR0cigieDIiLHIpLFEuYXR0cigieCIsVyksUC5hdHRyKCJ4MiIscikuYXR0cigieTIiLDApLFIuYXR0cigieCIsVykuYXR0cigieSIsMCksUy5zdHlsZSgidGV4dC1hbmNob3IiLCJzdGFydCIpLFQuYXR0cigieCIsVykuYXR0cigiZHkiLG4pLE4uYXR0cigiZCIsIk0iK2wrIiwiK0xbMF0rIkgwViIrTFsxXSsiSCIrbCl9aWYoRi5yYW5nZUJhbmQpe3ZhciBaPUYsJD1aLnJhbmdlQmFuZCgpLzI7RT1GPWZ1bmN0aW9uKGEpe3JldHVybiBaKGEpKyR9fWVsc2UgRS5yYW5nZUJhbmQ/RT1GOkouY2FsbChBLEYpO0kuY2FsbChBLEUpLEsuY2FsbChBLEYpfSl9dmFyIGwsbSxuLG8scD1hLnNjYWxlLmxpbmVhcigpLHE9ImJvdHRvbSIscj02LHM9Myx0PW51bGwsdT0wLHY9ITA7cmV0dXJuIGI9Ynx8e30sbD1iLndpdGhPdXRlclRpY2s/NjowLGsuc2NhbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHA9YSxrKTpwfSxrLm9yaWVudD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocT1hIGlue3RvcDoxLHJpZ2h0OjEsYm90dG9tOjEsbGVmdDoxfT9hKyIiOiJib3R0b20iLGspOnF9LGsudGlja0Zvcm1hdD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obT1hLGspOm19LGsudGlja0NlbnRlcmVkPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvPWEsayk6b30say50aWNrT2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHV9LGsudGlja0ludGVydmFsPWZ1bmN0aW9uKCl7dmFyIGEsYztyZXR1cm4gYi5pc0NhdGVnb3J5P2E9Mip1OihjPWsuZy5zZWxlY3QoInBhdGguZG9tYWluIikubm9kZSgpLmdldFRvdGFsTGVuZ3RoKCktMipsLGE9Yy9rLmcuc2VsZWN0QWxsKCJsaW5lIikuc2l6ZSgpKSxhPT09MS8wPzA6YX0say50aWNrcz1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPWFyZ3VtZW50cyxrKTpufSxrLnRpY2tDdWxsaW5nPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh2PWEsayk6dn0say50aWNrVmFsdWVzPWZ1bmN0aW9uKGEpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBhKXQ9ZnVuY3Rpb24oKXtyZXR1cm4gYShwLmRvbWFpbigpKX07ZWxzZXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdDt0PWF9cmV0dXJuIGt9LGt9dmFyIGgsaSxqLGs9e3ZlcnNpb246IjAuNC4xMSJ9O2suZ2VuZXJhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBkKGEpfSxrLmNoYXJ0PXtmbjpkLnByb3RvdHlwZSxpbnRlcm5hbDp7Zm46ZS5wcm90b3R5cGUsYXhpczp7Zm46Zi5wcm90b3R5cGV9fX0saD1rLmNoYXJ0LmZuLGk9ay5jaGFydC5pbnRlcm5hbC5mbixqPWsuY2hhcnQuaW50ZXJuYWwuYXhpcy5mbixpLmJlZm9yZUluaXQ9ZnVuY3Rpb24oKXt9LGkuYWZ0ZXJJbml0PWZ1bmN0aW9uKCl7fSxpLmluaXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWc7aWYoYS5pbml0UGFyYW1zKCksYi5kYXRhX3VybClhLmNvbnZlcnRVcmxUb0RhdGEoYi5kYXRhX3VybCxiLmRhdGFfbWltZVR5cGUsYi5kYXRhX2hlYWRlcnMsYi5kYXRhX2tleXMsYS5pbml0V2l0aERhdGEpO2Vsc2UgaWYoYi5kYXRhX2pzb24pYS5pbml0V2l0aERhdGEoYS5jb252ZXJ0SnNvblRvRGF0YShiLmRhdGFfanNvbixiLmRhdGFfa2V5cykpO2Vsc2UgaWYoYi5kYXRhX3Jvd3MpYS5pbml0V2l0aERhdGEoYS5jb252ZXJ0Um93c1RvRGF0YShiLmRhdGFfcm93cykpO2Vsc2V7aWYoIWIuZGF0YV9jb2x1bW5zKXRocm93IEVycm9yKCJ1cmwgb3IganNvbiBvciByb3dzIG9yIGNvbHVtbnMgaXMgcmVxdWlyZWQuIik7YS5pbml0V2l0aERhdGEoYS5jb252ZXJ0Q29sdW1uc1RvRGF0YShiLmRhdGFfY29sdW1ucykpfX0saS5pbml0UGFyYW1zPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZDMsYz1hLmNvbmZpZzthLmNsaXBJZD0iYzMtIisgK25ldyBEYXRlKyItY2xpcCIsYS5jbGlwSWRGb3JYQXhpcz1hLmNsaXBJZCsiLXhheGlzIixhLmNsaXBJZEZvcllBeGlzPWEuY2xpcElkKyIteWF4aXMiLGEuY2xpcElkRm9yR3JpZD1hLmNsaXBJZCsiLWdyaWQiLGEuY2xpcElkRm9yU3ViY2hhcnQ9YS5jbGlwSWQrIi1zdWJjaGFydCIsYS5jbGlwUGF0aD1hLmdldENsaXBQYXRoKGEuY2xpcElkKSxhLmNsaXBQYXRoRm9yWEF4aXM9YS5nZXRDbGlwUGF0aChhLmNsaXBJZEZvclhBeGlzKSxhLmNsaXBQYXRoRm9yWUF4aXM9YS5nZXRDbGlwUGF0aChhLmNsaXBJZEZvcllBeGlzKSxhLmNsaXBQYXRoRm9yR3JpZD1hLmdldENsaXBQYXRoKGEuY2xpcElkRm9yR3JpZCksYS5jbGlwUGF0aEZvclN1YmNoYXJ0PWEuZ2V0Q2xpcFBhdGgoYS5jbGlwSWRGb3JTdWJjaGFydCksYS5kcmFnU3RhcnQ9bnVsbCxhLmRyYWdnaW5nPSExLGEuZmxvd2luZz0hMSxhLmNhbmNlbENsaWNrPSExLGEubW91c2VvdmVyPSExLGEudHJhbnNpdGluZz0hMSxhLmNvbG9yPWEuZ2VuZXJhdGVDb2xvcigpLGEubGV2ZWxDb2xvcj1hLmdlbmVyYXRlTGV2ZWxDb2xvcigpLGEuZGF0YVRpbWVGb3JtYXQ9Yy5kYXRhX3hMb2NhbHRpbWU/Yi50aW1lLmZvcm1hdDpiLnRpbWUuZm9ybWF0LnV0YyxhLmF4aXNUaW1lRm9ybWF0PWMuYXhpc194X2xvY2FsdGltZT9iLnRpbWUuZm9ybWF0OmIudGltZS5mb3JtYXQudXRjLGEuZGVmYXVsdEF4aXNUaW1lRm9ybWF0PWEuYXhpc1RpbWVGb3JtYXQubXVsdGkoW1siLiVMIixmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRNaWxsaXNlY29uZHMoKX1dLFsiOiVTIixmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRTZWNvbmRzKCl9XSxbIiVJOiVNIixmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRNaW51dGVzKCl9XSxbIiVJICVwIixmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRIb3VycygpfV0sWyIlLW0vJS1kIixmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXREYXkoKSYmMSE9PWEuZ2V0RGF0ZSgpfV0sWyIlLW0vJS1kIixmdW5jdGlvbihhKXtyZXR1cm4gMSE9PWEuZ2V0RGF0ZSgpfV0sWyIlLW0vJS1kIixmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRNb250aCgpfV0sWyIlWS8lLW0vJS1kIixmdW5jdGlvbigpe3JldHVybiEwfV1dKSxhLmhpZGRlblRhcmdldElkcz1bXSxhLmhpZGRlbkxlZ2VuZElkcz1bXSxhLmZvY3VzZWRUYXJnZXRJZHM9W10sYS5kZWZvY3VzZWRUYXJnZXRJZHM9W10sYS54T3JpZW50PWMuYXhpc19yb3RhdGVkPyJsZWZ0IjoiYm90dG9tIixhLnlPcmllbnQ9Yy5heGlzX3JvdGF0ZWQ/Yy5heGlzX3lfaW5uZXI/InRvcCI6ImJvdHRvbSI6Yy5heGlzX3lfaW5uZXI/InJpZ2h0IjoibGVmdCIsYS55Mk9yaWVudD1jLmF4aXNfcm90YXRlZD9jLmF4aXNfeTJfaW5uZXI/ImJvdHRvbSI6InRvcCI6Yy5heGlzX3kyX2lubmVyPyJsZWZ0IjoicmlnaHQiLGEuc3ViWE9yaWVudD1jLmF4aXNfcm90YXRlZD8ibGVmdCI6ImJvdHRvbSIsYS5pc0xlZ2VuZFJpZ2h0PSJyaWdodCI9PT1jLmxlZ2VuZF9wb3NpdGlvbixhLmlzTGVnZW5kSW5zZXQ9Imluc2V0Ij09PWMubGVnZW5kX3Bvc2l0aW9uLGEuaXNMZWdlbmRUb3A9InRvcC1sZWZ0Ij09PWMubGVnZW5kX2luc2V0X2FuY2hvcnx8InRvcC1yaWdodCI9PT1jLmxlZ2VuZF9pbnNldF9hbmNob3IsYS5pc0xlZ2VuZExlZnQ9InRvcC1sZWZ0Ij09PWMubGVnZW5kX2luc2V0X2FuY2hvcnx8ImJvdHRvbS1sZWZ0Ij09PWMubGVnZW5kX2luc2V0X2FuY2hvcixhLmxlZ2VuZFN0ZXA9MCxhLmxlZ2VuZEl0ZW1XaWR0aD0wLGEubGVnZW5kSXRlbUhlaWdodD0wLGEuY3VycmVudE1heFRpY2tXaWR0aHM9e3g6MCx5OjAseTI6MH0sYS5yb3RhdGVkX3BhZGRpbmdfbGVmdD0zMCxhLnJvdGF0ZWRfcGFkZGluZ19yaWdodD1jLmF4aXNfcm90YXRlZCYmIWMuYXhpc194X3Nob3c/MDozMCxhLnJvdGF0ZWRfcGFkZGluZ190b3A9NSxhLndpdGhvdXRGYWRlSW49e30sYS5pbnRlcnZhbEZvck9ic2VydmVJbnNlcnRlZD12b2lkIDAsYS5heGVzLnN1Yng9Yi5zZWxlY3RBbGwoW10pfSxpLmluaXRDaGFydEVsZW1lbnRzPWZ1bmN0aW9uKCl7dGhpcy5pbml0QmFyJiZ0aGlzLmluaXRCYXIoKSx0aGlzLmluaXRMaW5lJiZ0aGlzLmluaXRMaW5lKCksdGhpcy5pbml0QXJjJiZ0aGlzLmluaXRBcmMoKSx0aGlzLmluaXRHYXVnZSYmdGhpcy5pbml0R2F1Z2UoKSx0aGlzLmluaXRUZXh0JiZ0aGlzLmluaXRUZXh0KCl9LGkuaW5pdFdpdGhEYXRhPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLGU9ZC5kMyxnPWQuY29uZmlnLGg9ITA7ZC5heGlzPW5ldyBmKGQpLGQuaW5pdFBpZSYmZC5pbml0UGllKCksZC5pbml0QnJ1c2gmJmQuaW5pdEJydXNoKCksZC5pbml0Wm9vbSYmZC5pbml0Wm9vbSgpLGcuYmluZHRvPyJmdW5jdGlvbiI9PXR5cGVvZiBnLmJpbmR0by5ub2RlP2Quc2VsZWN0Q2hhcnQ9Zy5iaW5kdG86ZC5zZWxlY3RDaGFydD1lLnNlbGVjdChnLmJpbmR0byk6ZC5zZWxlY3RDaGFydD1lLnNlbGVjdEFsbChbXSksZC5zZWxlY3RDaGFydC5lbXB0eSgpJiYoZC5zZWxlY3RDaGFydD1lLnNlbGVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuc3R5bGUoIm9wYWNpdHkiLDApLGQub2JzZXJ2ZUluc2VydGVkKGQuc2VsZWN0Q2hhcnQpLGg9ITEpLGQuc2VsZWN0Q2hhcnQuaHRtbCgiIikuY2xhc3NlZCgiYzMiLCEwKSxkLmRhdGEueHM9e30sZC5kYXRhLnRhcmdldHM9ZC5jb252ZXJ0RGF0YVRvVGFyZ2V0cyhhKSxnLmRhdGFfZmlsdGVyJiYoZC5kYXRhLnRhcmdldHM9ZC5kYXRhLnRhcmdldHMuZmlsdGVyKGcuZGF0YV9maWx0ZXIpKSxnLmRhdGFfaGlkZSYmZC5hZGRIaWRkZW5UYXJnZXRJZHMoZy5kYXRhX2hpZGU9PT0hMD9kLm1hcFRvSWRzKGQuZGF0YS50YXJnZXRzKTpnLmRhdGFfaGlkZSksZy5sZWdlbmRfaGlkZSYmZC5hZGRIaWRkZW5MZWdlbmRJZHMoZy5sZWdlbmRfaGlkZT09PSEwP2QubWFwVG9JZHMoZC5kYXRhLnRhcmdldHMpOmcubGVnZW5kX2hpZGUpLGQuaGFzVHlwZSgiZ2F1Z2UiKSYmKGcubGVnZW5kX3Nob3c9ITEpLGQudXBkYXRlU2l6ZXMoKSxkLnVwZGF0ZVNjYWxlcygpLGQueC5kb21haW4oZS5leHRlbnQoZC5nZXRYRG9tYWluKGQuZGF0YS50YXJnZXRzKSkpLGQueS5kb21haW4oZC5nZXRZRG9tYWluKGQuZGF0YS50YXJnZXRzLCJ5IikpLGQueTIuZG9tYWluKGQuZ2V0WURvbWFpbihkLmRhdGEudGFyZ2V0cywieTIiKSksZC5zdWJYLmRvbWFpbihkLnguZG9tYWluKCkpLGQuc3ViWS5kb21haW4oZC55LmRvbWFpbigpKSxkLnN1YlkyLmRvbWFpbihkLnkyLmRvbWFpbigpKSxkLm9yZ1hEb21haW49ZC54LmRvbWFpbigpLGQuYnJ1c2gmJmQuYnJ1c2guc2NhbGUoZC5zdWJYKSxnLnpvb21fZW5hYmxlZCYmZC56b29tLnNjYWxlKGQueCksZC5zdmc9ZC5zZWxlY3RDaGFydC5hcHBlbmQoInN2ZyIpLnN0eWxlKCJvdmVyZmxvdyIsImhpZGRlbiIpLm9uKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe3JldHVybiBnLm9ubW91c2VvdmVyLmNhbGwoZCl9KS5vbigibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXtyZXR1cm4gZy5vbm1vdXNlb3V0LmNhbGwoZCl9KSxkLmNvbmZpZy5zdmdfY2xhc3NuYW1lJiZkLnN2Zy5hdHRyKCJjbGFzcyIsZC5jb25maWcuc3ZnX2NsYXNzbmFtZSksYj1kLnN2Zy5hcHBlbmQoImRlZnMiKSxkLmNsaXBDaGFydD1kLmFwcGVuZENsaXAoYixkLmNsaXBJZCksZC5jbGlwWEF4aXM9ZC5hcHBlbmRDbGlwKGIsZC5jbGlwSWRGb3JYQXhpcyksZC5jbGlwWUF4aXM9ZC5hcHBlbmRDbGlwKGIsZC5jbGlwSWRGb3JZQXhpcyksZC5jbGlwR3JpZD1kLmFwcGVuZENsaXAoYixkLmNsaXBJZEZvckdyaWQpLGQuY2xpcFN1YmNoYXJ0PWQuYXBwZW5kQ2xpcChiLGQuY2xpcElkRm9yU3ViY2hhcnQpLGQudXBkYXRlU3ZnU2l6ZSgpLGM9ZC5tYWluPWQuc3ZnLmFwcGVuZCgiZyIpLmF0dHIoInRyYW5zZm9ybSIsZC5nZXRUcmFuc2xhdGUoIm1haW4iKSksZC5pbml0U3ViY2hhcnQmJmQuaW5pdFN1YmNoYXJ0KCksZC5pbml0VG9vbHRpcCYmZC5pbml0VG9vbHRpcCgpLGQuaW5pdExlZ2VuZCYmZC5pbml0TGVnZW5kKCksZC5pbml0VGl0bGUmJmQuaW5pdFRpdGxlKCksYy5hcHBlbmQoInRleHQiKS5hdHRyKCJjbGFzcyIsbC50ZXh0KyIgIitsLmVtcHR5KS5hdHRyKCJ0ZXh0LWFuY2hvciIsIm1pZGRsZSIpLmF0dHIoImRvbWluYW50LWJhc2VsaW5lIiwibWlkZGxlIiksZC5pbml0UmVnaW9uKCksZC5pbml0R3JpZCgpLGMuYXBwZW5kKCJnIikuYXR0cigiY2xpcC1wYXRoIixkLmNsaXBQYXRoKS5hdHRyKCJjbGFzcyIsbC5jaGFydCksZy5ncmlkX2xpbmVzX2Zyb250JiZkLmluaXRHcmlkTGluZXMoKSxkLmluaXRFdmVudFJlY3QoKSxkLmluaXRDaGFydEVsZW1lbnRzKCksYy5pbnNlcnQoInJlY3QiLGcuem9vbV9wcml2aWxlZ2VkP251bGw6ImcuIitsLnJlZ2lvbnMpLmF0dHIoImNsYXNzIixsLnpvb21SZWN0KS5hdHRyKCJ3aWR0aCIsZC53aWR0aCkuYXR0cigiaGVpZ2h0IixkLmhlaWdodCkuc3R5bGUoIm9wYWNpdHkiLDApLm9uKCJkYmxjbGljay56b29tIixudWxsKSxnLmF4aXNfeF9leHRlbnQmJmQuYnJ1c2guZXh0ZW50KGQuZ2V0RGVmYXVsdEV4dGVudCgpKSxkLmF4aXMuaW5pdCgpLGQudXBkYXRlVGFyZ2V0cyhkLmRhdGEudGFyZ2V0cyksaCYmKGQudXBkYXRlRGltZW5zaW9uKCksZC5jb25maWcub25pbml0LmNhbGwoZCksZC5yZWRyYXcoe3dpdGhUcmFuc2l0aW9uOiExLHdpdGhUcmFuc2Zvcm06ITAsd2l0aFVwZGF0ZVhEb21haW46ITAsd2l0aFVwZGF0ZU9yZ1hEb21haW46ITAsd2l0aFRyYW5zaXRpb25Gb3JBeGlzOiExfSkpLGQuYmluZFJlc2l6ZSgpLGQuYXBpLmVsZW1lbnQ9ZC5zZWxlY3RDaGFydC5ub2RlKCl9LGkuc21vb3RoTGluZXM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzOyJncmlkIj09PWImJmEuZWFjaChmdW5jdGlvbigpe3ZhciBhPWMuZDMuc2VsZWN0KHRoaXMpLGI9YS5hdHRyKCJ4MSIpLGQ9YS5hdHRyKCJ4MiIpLGU9YS5hdHRyKCJ5MSIpLGY9YS5hdHRyKCJ5MiIpO2EuYXR0cih7eDE6TWF0aC5jZWlsKGIpLHgyOk1hdGguY2VpbChkKSx5MTpNYXRoLmNlaWwoZSkseTI6TWF0aC5jZWlsKGYpfSl9KX0saS51cGRhdGVTaXplcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZyxjPWEubGVnZW5kP2EuZ2V0TGVnZW5kSGVpZ2h0KCk6MCxkPWEubGVnZW5kP2EuZ2V0TGVnZW5kV2lkdGgoKTowLGU9YS5pc0xlZ2VuZFJpZ2h0fHxhLmlzTGVnZW5kSW5zZXQ/MDpjLGY9YS5oYXNBcmNUeXBlKCksZz1iLmF4aXNfcm90YXRlZHx8Zj8wOmEuZ2V0SG9yaXpvbnRhbEF4aXNIZWlnaHQoIngiKSxoPWIuc3ViY2hhcnRfc2hvdyYmIWY/Yi5zdWJjaGFydF9zaXplX2hlaWdodCtnOjA7YS5jdXJyZW50V2lkdGg9YS5nZXRDdXJyZW50V2lkdGgoKSxhLmN1cnJlbnRIZWlnaHQ9YS5nZXRDdXJyZW50SGVpZ2h0KCksYS5tYXJnaW49Yi5heGlzX3JvdGF0ZWQ/e3RvcDphLmdldEhvcml6b250YWxBeGlzSGVpZ2h0KCJ5MiIpK2EuZ2V0Q3VycmVudFBhZGRpbmdUb3AoKSxyaWdodDpmPzA6YS5nZXRDdXJyZW50UGFkZGluZ1JpZ2h0KCksYm90dG9tOmEuZ2V0SG9yaXpvbnRhbEF4aXNIZWlnaHQoInkiKStlK2EuZ2V0Q3VycmVudFBhZGRpbmdCb3R0b20oKSxsZWZ0OmgrKGY/MDphLmdldEN1cnJlbnRQYWRkaW5nTGVmdCgpKX06e3RvcDo0K2EuZ2V0Q3VycmVudFBhZGRpbmdUb3AoKSxyaWdodDpmPzA6YS5nZXRDdXJyZW50UGFkZGluZ1JpZ2h0KCksYm90dG9tOmcraCtlK2EuZ2V0Q3VycmVudFBhZGRpbmdCb3R0b20oKSxsZWZ0OmY/MDphLmdldEN1cnJlbnRQYWRkaW5nTGVmdCgpfSxhLm1hcmdpbjI9Yi5heGlzX3JvdGF0ZWQ/e3RvcDphLm1hcmdpbi50b3AscmlnaHQ6TmFOLGJvdHRvbToyMCtlLGxlZnQ6YS5yb3RhdGVkX3BhZGRpbmdfbGVmdH06e3RvcDphLmN1cnJlbnRIZWlnaHQtaC1lLHJpZ2h0Ok5hTixib3R0b206ZytlLGxlZnQ6YS5tYXJnaW4ubGVmdH0sYS5tYXJnaW4zPXt0b3A6MCxyaWdodDpOYU4sYm90dG9tOjAsbGVmdDowfSxhLnVwZGF0ZVNpemVGb3JMZWdlbmQmJmEudXBkYXRlU2l6ZUZvckxlZ2VuZChjLGQpLGEud2lkdGg9YS5jdXJyZW50V2lkdGgtYS5tYXJnaW4ubGVmdC1hLm1hcmdpbi5yaWdodCxhLmhlaWdodD1hLmN1cnJlbnRIZWlnaHQtYS5tYXJnaW4udG9wLWEubWFyZ2luLmJvdHRvbSxhLndpZHRoPDAmJihhLndpZHRoPTApLGEuaGVpZ2h0PDAmJihhLmhlaWdodD0wKSxhLndpZHRoMj1iLmF4aXNfcm90YXRlZD9hLm1hcmdpbi5sZWZ0LWEucm90YXRlZF9wYWRkaW5nX2xlZnQtYS5yb3RhdGVkX3BhZGRpbmdfcmlnaHQ6YS53aWR0aCxhLmhlaWdodDI9Yi5heGlzX3JvdGF0ZWQ/YS5oZWlnaHQ6YS5jdXJyZW50SGVpZ2h0LWEubWFyZ2luMi50b3AtYS5tYXJnaW4yLmJvdHRvbSxhLndpZHRoMjwwJiYoYS53aWR0aDI9MCksYS5oZWlnaHQyPDAmJihhLmhlaWdodDI9MCksYS5hcmNXaWR0aD1hLndpZHRoLShhLmlzTGVnZW5kUmlnaHQ/ZCsxMDowKSxhLmFyY0hlaWdodD1hLmhlaWdodC0oYS5pc0xlZ2VuZFJpZ2h0PzA6MTApLGEuaGFzVHlwZSgiZ2F1Z2UiKSYmIWIuZ2F1Z2VfZnVsbENpcmNsZSYmKGEuYXJjSGVpZ2h0Kz1hLmhlaWdodC1hLmdldEdhdWdlTGFiZWxIZWlnaHQoKSksYS51cGRhdGVSYWRpdXMmJmEudXBkYXRlUmFkaXVzKCksYS5pc0xlZ2VuZFJpZ2h0JiZmJiYoYS5tYXJnaW4zLmxlZnQ9YS5hcmNXaWR0aC8yKzEuMSphLnJhZGl1c0V4cGFuZGVkKX0saS51cGRhdGVUYXJnZXRzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi51cGRhdGVUYXJnZXRzRm9yVGV4dChhKSxiLnVwZGF0ZVRhcmdldHNGb3JCYXIoYSksYi51cGRhdGVUYXJnZXRzRm9yTGluZShhKSxiLmhhc0FyY1R5cGUoKSYmYi51cGRhdGVUYXJnZXRzRm9yQXJjJiZiLnVwZGF0ZVRhcmdldHNGb3JBcmMoYSksYi51cGRhdGVUYXJnZXRzRm9yU3ViY2hhcnQmJmIudXBkYXRlVGFyZ2V0c0ZvclN1YmNoYXJ0KGEpLGIuc2hvd1RhcmdldHMoKX0saS5zaG93VGFyZ2V0cz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5zdmcuc2VsZWN0QWxsKCIuIitsLnRhcmdldCkuZmlsdGVyKGZ1bmN0aW9uKGIpe3JldHVybiBhLmlzVGFyZ2V0VG9TaG93KGIuaWQpfSkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEuY29uZmlnLnRyYW5zaXRpb25fZHVyYXRpb24pLnN0eWxlKCJvcGFjaXR5IiwxKX0saS5yZWRyYXc9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbSxuLG8scCxxLHIscyx0LHUsdix4LHkseixBLEIsQyxELEUsRixHLEg9dGhpcyxJPUgubWFpbixKPUguZDMsSz1ILmNvbmZpZyxMPUguZ2V0U2hhcGVJbmRpY2VzKEguaXNBcmVhVHlwZSksTT1ILmdldFNoYXBlSW5kaWNlcyhILmlzQmFyVHlwZSksTj1ILmdldFNoYXBlSW5kaWNlcyhILmlzTGluZVR5cGUpLE89SC5oYXNBcmNUeXBlKCksUD1ILmZpbHRlclRhcmdldHNUb1Nob3coSC5kYXRhLnRhcmdldHMpLFE9SC54di5iaW5kKEgpO2lmKGE9YXx8e30sYz13KGEsIndpdGhZIiwhMCksZD13KGEsIndpdGhTdWJjaGFydCIsITApLGU9dyhhLCJ3aXRoVHJhbnNpdGlvbiIsITApLGg9dyhhLCJ3aXRoVHJhbnNmb3JtIiwhMSksaT13KGEsIndpdGhVcGRhdGVYRG9tYWluIiwhMSksaj13KGEsIndpdGhVcGRhdGVPcmdYRG9tYWluIiwhMSksaz13KGEsIndpdGhUcmltWERvbWFpbiIsITApLHA9dyhhLCJ3aXRoVXBkYXRlWEF4aXMiLGkpLG09dyhhLCJ3aXRoTGVnZW5kIiwhMSksbj13KGEsIndpdGhFdmVudFJlY3QiLCEwKSxvPXcoYSwid2l0aERpbWVuc2lvbiIsITApLGY9dyhhLCJ3aXRoVHJhbnNpdGlvbkZvckV4aXQiLGUpLGc9dyhhLCJ3aXRoVHJhbnNpdGlvbkZvckF4aXMiLGUpLHY9ZT9LLnRyYW5zaXRpb25fZHVyYXRpb246MCx4PWY/djowLHk9Zz92OjAsYj1ifHxILmF4aXMuZ2VuZXJhdGVUcmFuc2l0aW9ucyh5KSxtJiZLLmxlZ2VuZF9zaG93P0gudXBkYXRlTGVnZW5kKEgubWFwVG9JZHMoSC5kYXRhLnRhcmdldHMpLGEsYik6byYmSC51cGRhdGVEaW1lbnNpb24oITApLEguaXNDYXRlZ29yaXplZCgpJiYwPT09UC5sZW5ndGgmJkgueC5kb21haW4oWzAsSC5heGVzLnguc2VsZWN0QWxsKCIudGljayIpLnNpemUoKV0pLFAubGVuZ3RoPyhILnVwZGF0ZVhEb21haW4oUCxpLGosayksSy5heGlzX3hfdGlja192YWx1ZXN8fChCPUguYXhpcy51cGRhdGVYQXhpc1RpY2tWYWx1ZXMoUCkpKTooSC54QXhpcy50aWNrVmFsdWVzKFtdKSxILnN1YlhBeGlzLnRpY2tWYWx1ZXMoW10pKSxLLnpvb21fcmVzY2FsZSYmIWEuZmxvdyYmKEU9SC54Lm9yZ0RvbWFpbigpKSxILnkuZG9tYWluKEguZ2V0WURvbWFpbihQLCJ5IixFKSksSC55Mi5kb21haW4oSC5nZXRZRG9tYWluKFAsInkyIixFKSksIUsuYXhpc195X3RpY2tfdmFsdWVzJiZLLmF4aXNfeV90aWNrX2NvdW50JiZILnlBeGlzLnRpY2tWYWx1ZXMoSC5heGlzLmdlbmVyYXRlVGlja1ZhbHVlcyhILnkuZG9tYWluKCksSy5heGlzX3lfdGlja19jb3VudCkpLCFLLmF4aXNfeTJfdGlja192YWx1ZXMmJksuYXhpc195Ml90aWNrX2NvdW50JiZILnkyQXhpcy50aWNrVmFsdWVzKEguYXhpcy5nZW5lcmF0ZVRpY2tWYWx1ZXMoSC55Mi5kb21haW4oKSxLLmF4aXNfeTJfdGlja19jb3VudCkpLEguYXhpcy5yZWRyYXcoYixPKSxILmF4aXMudXBkYXRlTGFiZWxzKGUpLChpfHxwKSYmUC5sZW5ndGgpaWYoSy5heGlzX3hfdGlja19jdWxsaW5nJiZCKXtmb3IoQz0xO0M8Qi5sZW5ndGg7QysrKWlmKEIubGVuZ3RoL0M8Sy5heGlzX3hfdGlja19jdWxsaW5nX21heCl7RD1DO2JyZWFrfUguc3ZnLnNlbGVjdEFsbCgiLiIrbC5heGlzWCsiIC50aWNrIHRleHQiKS5lYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPUIuaW5kZXhPZihhKTtiPj0wJiZKLnNlbGVjdCh0aGlzKS5zdHlsZSgiZGlzcGxheSIsYiVEPyJub25lIjoiYmxvY2siKX0pfWVsc2UgSC5zdmcuc2VsZWN0QWxsKCIuIitsLmF4aXNYKyIgLnRpY2sgdGV4dCIpLnN0eWxlKCJkaXNwbGF5IiwiYmxvY2siKTtxPUguZ2VuZXJhdGVEcmF3QXJlYT9ILmdlbmVyYXRlRHJhd0FyZWEoTCwhMSk6dm9pZCAwLHI9SC5nZW5lcmF0ZURyYXdCYXI/SC5nZW5lcmF0ZURyYXdCYXIoTSk6dm9pZCAwLHM9SC5nZW5lcmF0ZURyYXdMaW5lP0guZ2VuZXJhdGVEcmF3TGluZShOLCExKTp2b2lkIDAsdD1ILmdlbmVyYXRlWFlGb3JUZXh0KEwsTSxOLCEwKSx1PUguZ2VuZXJhdGVYWUZvclRleHQoTCxNLE4sITEpLGMmJihILnN1YlkuZG9tYWluKEguZ2V0WURvbWFpbihQLCJ5IikpLEguc3ViWTIuZG9tYWluKEguZ2V0WURvbWFpbihQLCJ5MiIpKSksSC51cGRhdGVYZ3JpZEZvY3VzKCksSS5zZWxlY3QoInRleHQuIitsLnRleHQrIi4iK2wuZW1wdHkpLmF0dHIoIngiLEgud2lkdGgvMikuYXR0cigieSIsSC5oZWlnaHQvMikudGV4dChLLmRhdGFfZW1wdHlfbGFiZWxfdGV4dCkudHJhbnNpdGlvbigpLnN0eWxlKCJvcGFjaXR5IixQLmxlbmd0aD8wOjEpLEgudXBkYXRlR3JpZCh2KSxILnVwZGF0ZVJlZ2lvbih2KSxILnVwZGF0ZUJhcih4KSxILnVwZGF0ZUxpbmUoeCksSC51cGRhdGVBcmVhKHgpLEgudXBkYXRlQ2lyY2xlKCksSC5oYXNEYXRhTGFiZWwoKSYmSC51cGRhdGVUZXh0KHgpLEgucmVkcmF3VGl0bGUmJkgucmVkcmF3VGl0bGUoKSxILnJlZHJhd0FyYyYmSC5yZWRyYXdBcmModix4LGgpLEgucmVkcmF3U3ViY2hhcnQmJkgucmVkcmF3U3ViY2hhcnQoZCxiLHYseCxMLE0sTiksSS5zZWxlY3RBbGwoIi4iK2wuc2VsZWN0ZWRDaXJjbGVzKS5maWx0ZXIoSC5pc0JhclR5cGUuYmluZChIKSkuc2VsZWN0QWxsKCJjaXJjbGUiKS5yZW1vdmUoKSxLLmludGVyYWN0aW9uX2VuYWJsZWQmJiFhLmZsb3cmJm4mJihILnJlZHJhd0V2ZW50UmVjdCgpLEgudXBkYXRlWm9vbSYmSC51cGRhdGVab29tKCkpLEgudXBkYXRlQ2lyY2xlWSgpLEY9KEguY29uZmlnLmF4aXNfcm90YXRlZD9ILmNpcmNsZVk6SC5jaXJjbGVYKS5iaW5kKEgpLEc9KEguY29uZmlnLmF4aXNfcm90YXRlZD9ILmNpcmNsZVg6SC5jaXJjbGVZKS5iaW5kKEgpLGEuZmxvdyYmKEE9SC5nZW5lcmF0ZUZsb3coe3RhcmdldHM6UCxmbG93OmEuZmxvdyxkdXJhdGlvbjphLmZsb3cuZHVyYXRpb24sZHJhd0JhcjpyLGRyYXdMaW5lOnMsZHJhd0FyZWE6cSxjeDpGLGN5OkcseHY6USx4Rm9yVGV4dDp0LHlGb3JUZXh0OnV9KSksKHZ8fEEpJiZILmlzVGFiVmlzaWJsZSgpP0oudHJhbnNpdGlvbigpLmR1cmF0aW9uKHYpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1bXTtbSC5yZWRyYXdCYXIociwhMCksSC5yZWRyYXdMaW5lKHMsITApLEgucmVkcmF3QXJlYShxLCEwKSxILnJlZHJhd0NpcmNsZShGLEcsITApLEgucmVkcmF3VGV4dCh0LHUsYS5mbG93LCEwKSxILnJlZHJhd1JlZ2lvbighMCksSC5yZWRyYXdHcmlkKCEwKV0uZm9yRWFjaChmdW5jdGlvbihhKXthLmZvckVhY2goZnVuY3Rpb24oYSl7Yi5wdXNoKGEpfSl9KSx6PUguZ2VuZXJhdGVXYWl0KCksYi5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ouYWRkKGEpfSl9KS5jYWxsKHosZnVuY3Rpb24oKXtBJiZBKCksSy5vbnJlbmRlcmVkJiZLLm9ucmVuZGVyZWQuY2FsbChIKX0pOihILnJlZHJhd0JhcihyKSxILnJlZHJhd0xpbmUocyksSC5yZWRyYXdBcmVhKHEpLEgucmVkcmF3Q2lyY2xlKEYsRyksSC5yZWRyYXdUZXh0KHQsdSxhLmZsb3cpLEgucmVkcmF3UmVnaW9uKCksSC5yZWRyYXdHcmlkKCksSy5vbnJlbmRlcmVkJiZLLm9ucmVuZGVyZWQuY2FsbChIKSksSC5tYXBUb0lkcyhILmRhdGEudGFyZ2V0cykuZm9yRWFjaChmdW5jdGlvbihhKXtILndpdGhvdXRGYWRlSW5bYV09ITB9KX0saS51cGRhdGVBbmRSZWRyYXc9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLGQ9Yy5jb25maWc7YT1hfHx7fSxhLndpdGhUcmFuc2l0aW9uPXcoYSwid2l0aFRyYW5zaXRpb24iLCEwKSxhLndpdGhUcmFuc2Zvcm09dyhhLCJ3aXRoVHJhbnNmb3JtIiwhMSksYS53aXRoTGVnZW5kPXcoYSwid2l0aExlZ2VuZCIsITEpLGEud2l0aFVwZGF0ZVhEb21haW49ITAsYS53aXRoVXBkYXRlT3JnWERvbWFpbj0hMCxhLndpdGhUcmFuc2l0aW9uRm9yRXhpdD0hMSxhLndpdGhUcmFuc2l0aW9uRm9yVHJhbnNmb3JtPXcoYSwid2l0aFRyYW5zaXRpb25Gb3JUcmFuc2Zvcm0iLGEud2l0aFRyYW5zaXRpb24pLGMudXBkYXRlU2l6ZXMoKSxhLndpdGhMZWdlbmQmJmQubGVnZW5kX3Nob3d8fChiPWMuYXhpcy5nZW5lcmF0ZVRyYW5zaXRpb25zKGEud2l0aFRyYW5zaXRpb25Gb3JBeGlzP2QudHJhbnNpdGlvbl9kdXJhdGlvbjowKSxjLnVwZGF0ZVNjYWxlcygpLGMudXBkYXRlU3ZnU2l6ZSgpLGMudHJhbnNmb3JtQWxsKGEud2l0aFRyYW5zaXRpb25Gb3JUcmFuc2Zvcm0sYikpLGMucmVkcmF3KGEsYil9LGkucmVkcmF3V2l0aG91dFJlc2NhbGU9ZnVuY3Rpb24oKXt0aGlzLnJlZHJhdyh7d2l0aFk6ITEsd2l0aFN1YmNoYXJ0OiExLHdpdGhFdmVudFJlY3Q6ITEsd2l0aFRyYW5zaXRpb25Gb3JBeGlzOiExfSl9LGkuaXNUaW1lU2VyaWVzPWZ1bmN0aW9uKCl7cmV0dXJuInRpbWVzZXJpZXMiPT09dGhpcy5jb25maWcuYXhpc194X3R5cGV9LGkuaXNDYXRlZ29yaXplZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmZpZy5heGlzX3hfdHlwZS5pbmRleE9mKCJjYXRlZ29yIik+PTB9LGkuaXNDdXN0b21YPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnO3JldHVybiFhLmlzVGltZVNlcmllcygpJiYoYi5kYXRhX3h8fHYoYi5kYXRhX3hzKSl9LGkuaXNUaW1lU2VyaWVzWT1mdW5jdGlvbigpe3JldHVybiJ0aW1lc2VyaWVzIj09PXRoaXMuY29uZmlnLmF4aXNfeV90eXBlfSxpLmdldFRyYW5zbGF0ZT1mdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcyxlPWQuY29uZmlnO3JldHVybiJtYWluIj09PWE/KGI9cyhkLm1hcmdpbi5sZWZ0KSxjPXMoZC5tYXJnaW4udG9wKSk6ImNvbnRleHQiPT09YT8oYj1zKGQubWFyZ2luMi5sZWZ0KSxjPXMoZC5tYXJnaW4yLnRvcCkpOiJsZWdlbmQiPT09YT8oYj1kLm1hcmdpbjMubGVmdCxjPWQubWFyZ2luMy50b3ApOiJ4Ij09PWE/KGI9MCxjPWUuYXhpc19yb3RhdGVkPzA6ZC5oZWlnaHQpOiJ5Ij09PWE/KGI9MCxjPWUuYXhpc19yb3RhdGVkP2QuaGVpZ2h0OjApOiJ5MiI9PT1hPyhiPWUuYXhpc19yb3RhdGVkPzA6ZC53aWR0aCxjPWUuYXhpc19yb3RhdGVkPzE6MCk6InN1YngiPT09YT8oYj0wLGM9ZS5heGlzX3JvdGF0ZWQ/MDpkLmhlaWdodDIpOiJhcmMiPT09YSYmKGI9ZC5hcmNXaWR0aC8yLGM9ZC5hcmNIZWlnaHQvMiksInRyYW5zbGF0ZSgiK2IrIiwiK2MrIikifSxpLmluaXRpYWxPcGFjaXR5PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT09YS52YWx1ZSYmdGhpcy53aXRob3V0RmFkZUluW2EuaWRdPzE6MH0saS5pbml0aWFsT3BhY2l0eUZvckNpcmNsZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9PWEudmFsdWUmJnRoaXMud2l0aG91dEZhZGVJblthLmlkXT90aGlzLm9wYWNpdHlGb3JDaXJjbGUoYSk6MH0saS5vcGFjaXR5Rm9yQ2lyY2xlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29uZmlnLnBvaW50X3Nob3c/MTowO3JldHVybiBtKGEudmFsdWUpP3RoaXMuaXNTY2F0dGVyVHlwZShhKT8uNTpiOjB9LGkub3BhY2l0eUZvclRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNEYXRhTGFiZWwoKT8xOjB9LGkueHg9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy54KGEueCk6bnVsbH0saS54dj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9YS52YWx1ZTtyZXR1cm4gYi5pc1RpbWVTZXJpZXMoKT9jPWIucGFyc2VEYXRlKGEudmFsdWUpOmIuaXNDYXRlZ29yaXplZCgpJiYic3RyaW5nIj09dHlwZW9mIGEudmFsdWUmJihjPWIuY29uZmlnLmF4aXNfeF9jYXRlZ29yaWVzLmluZGV4T2YoYS52YWx1ZSkpLE1hdGguY2VpbChiLngoYykpfSxpLnl2PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1hLmF4aXMmJiJ5MiI9PT1hLmF4aXM/Yi55MjpiLnk7cmV0dXJuIE1hdGguY2VpbChjKGEudmFsdWUpKX0saS5zdWJ4eD1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLnN1YlgoYS54KTpudWxsfSxpLnRyYW5zZm9ybU1haW49ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj10aGlzO2ImJmIuYXhpc1g/Yz1iLmF4aXNYOihjPWYubWFpbi5zZWxlY3QoIi4iK2wuYXhpc1gpLGEmJihjPWMudHJhbnNpdGlvbigpKSksYiYmYi5heGlzWT9kPWIuYXhpc1k6KGQ9Zi5tYWluLnNlbGVjdCgiLiIrbC5heGlzWSksYSYmKGQ9ZC50cmFuc2l0aW9uKCkpKSxiJiZiLmF4aXNZMj9lPWIuYXhpc1kyOihlPWYubWFpbi5zZWxlY3QoIi4iK2wuYXhpc1kyKSxhJiYoZT1lLnRyYW5zaXRpb24oKSkpLChhP2YubWFpbi50cmFuc2l0aW9uKCk6Zi5tYWluKS5hdHRyKCJ0cmFuc2Zvcm0iLGYuZ2V0VHJhbnNsYXRlKCJtYWluIikpLGMuYXR0cigidHJhbnNmb3JtIixmLmdldFRyYW5zbGF0ZSgieCIpKSxkLmF0dHIoInRyYW5zZm9ybSIsZi5nZXRUcmFuc2xhdGUoInkiKSksZS5hdHRyKCJ0cmFuc2Zvcm0iLGYuZ2V0VHJhbnNsYXRlKCJ5MiIpKSxmLm1haW4uc2VsZWN0KCIuIitsLmNoYXJ0QXJjcykuYXR0cigidHJhbnNmb3JtIixmLmdldFRyYW5zbGF0ZSgiYXJjIikpfSxpLnRyYW5zZm9ybUFsbD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7Yy50cmFuc2Zvcm1NYWluKGEsYiksYy5jb25maWcuc3ViY2hhcnRfc2hvdyYmYy50cmFuc2Zvcm1Db250ZXh0KGEsYiksYy5sZWdlbmQmJmMudHJhbnNmb3JtTGVnZW5kKGEpfSxpLnVwZGF0ZVN2Z1NpemU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5zdmcuc2VsZWN0KCIuYzMtYnJ1c2ggLmJhY2tncm91bmQiKTthLnN2Zy5hdHRyKCJ3aWR0aCIsYS5jdXJyZW50V2lkdGgpLmF0dHIoImhlaWdodCIsYS5jdXJyZW50SGVpZ2h0KSxhLnN2Zy5zZWxlY3RBbGwoWyIjIithLmNsaXBJZCwiIyIrYS5jbGlwSWRGb3JHcmlkXSkuc2VsZWN0KCJyZWN0IikuYXR0cigid2lkdGgiLGEud2lkdGgpLmF0dHIoImhlaWdodCIsYS5oZWlnaHQpLGEuc3ZnLnNlbGVjdCgiIyIrYS5jbGlwSWRGb3JYQXhpcykuc2VsZWN0KCJyZWN0IikuYXR0cigieCIsYS5nZXRYQXhpc0NsaXBYLmJpbmQoYSkpLmF0dHIoInkiLGEuZ2V0WEF4aXNDbGlwWS5iaW5kKGEpKS5hdHRyKCJ3aWR0aCIsYS5nZXRYQXhpc0NsaXBXaWR0aC5iaW5kKGEpKS5hdHRyKCJoZWlnaHQiLGEuZ2V0WEF4aXNDbGlwSGVpZ2h0LmJpbmQoYSkpLGEuc3ZnLnNlbGVjdCgiIyIrYS5jbGlwSWRGb3JZQXhpcykuc2VsZWN0KCJyZWN0IikuYXR0cigieCIsYS5nZXRZQXhpc0NsaXBYLmJpbmQoYSkpLmF0dHIoInkiLGEuZ2V0WUF4aXNDbGlwWS5iaW5kKGEpKS5hdHRyKCJ3aWR0aCIsYS5nZXRZQXhpc0NsaXBXaWR0aC5iaW5kKGEpKS5hdHRyKCJoZWlnaHQiLGEuZ2V0WUF4aXNDbGlwSGVpZ2h0LmJpbmQoYSkpLGEuc3ZnLnNlbGVjdCgiIyIrYS5jbGlwSWRGb3JTdWJjaGFydCkuc2VsZWN0KCJyZWN0IikuYXR0cigid2lkdGgiLGEud2lkdGgpLmF0dHIoImhlaWdodCIsYi5zaXplKCk/Yi5hdHRyKCJoZWlnaHQiKTowKSxhLnN2Zy5zZWxlY3QoIi4iK2wuem9vbVJlY3QpLmF0dHIoIndpZHRoIixhLndpZHRoKS5hdHRyKCJoZWlnaHQiLGEuaGVpZ2h0KSxhLnNlbGVjdENoYXJ0LnN0eWxlKCJtYXgtaGVpZ2h0IixhLmN1cnJlbnRIZWlnaHQrInB4Iil9LGkudXBkYXRlRGltZW5zaW9uPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YXx8KGIuY29uZmlnLmF4aXNfcm90YXRlZD8oYi5heGVzLnguY2FsbChiLnhBeGlzKSxiLmF4ZXMuc3VieC5jYWxsKGIuc3ViWEF4aXMpKTooYi5heGVzLnkuY2FsbChiLnlBeGlzKSxiLmF4ZXMueTIuY2FsbChiLnkyQXhpcykpKSxiLnVwZGF0ZVNpemVzKCksYi51cGRhdGVTY2FsZXMoKSxiLnVwZGF0ZVN2Z1NpemUoKSxiLnRyYW5zZm9ybUFsbCghMSl9LGkub2JzZXJ2ZUluc2VydGVkPWZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcztyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXI/dm9pZCBhLmNvbnNvbGUuZXJyb3IoIk11dGF0aW9uT2JzZXJ2ZXIgbm90IGRlZmluZWQuIik6KGM9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpeyJjaGlsZExpc3QiPT09ZS50eXBlJiZlLnByZXZpb3VzU2libGluZyYmKGMuZGlzY29ubmVjdCgpLGQuaW50ZXJ2YWxGb3JPYnNlcnZlSW5zZXJ0ZWQ9YS5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2Iubm9kZSgpLnBhcmVudE5vZGUmJihhLmNsZWFySW50ZXJ2YWwoZC5pbnRlcnZhbEZvck9ic2VydmVJbnNlcnRlZCksZC51cGRhdGVEaW1lbnNpb24oKSxkLmJydXNoJiZkLmJydXNoLnVwZGF0ZSgpLGQuY29uZmlnLm9uaW5pdC5jYWxsKGQpLGQucmVkcmF3KHt3aXRoVHJhbnNmb3JtOiEwLHdpdGhVcGRhdGVYRG9tYWluOiEwLHdpdGhVcGRhdGVPcmdYRG9tYWluOiEwLHdpdGhUcmFuc2l0aW9uOiExLHdpdGhUcmFuc2l0aW9uRm9yVHJhbnNmb3JtOiExLHdpdGhMZWdlbmQ6ITB9KSxiLnRyYW5zaXRpb24oKS5zdHlsZSgib3BhY2l0eSIsMSkpfSwxMCkpfSl9KSx2b2lkIGMub2JzZXJ2ZShiLm5vZGUoKSx7YXR0cmlidXRlczohMCxjaGlsZExpc3Q6ITAsY2hhcmFjdGVyRGF0YTohMH0pKX0saS5iaW5kUmVzaXplPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuY29uZmlnO2lmKGIucmVzaXplRnVuY3Rpb249Yi5nZW5lcmF0ZVJlc2l6ZSgpLGIucmVzaXplRnVuY3Rpb24uYWRkKGZ1bmN0aW9uKCl7Yy5vbnJlc2l6ZS5jYWxsKGIpfSksYy5yZXNpemVfYXV0byYmYi5yZXNpemVGdW5jdGlvbi5hZGQoZnVuY3Rpb24oKXt2b2lkIDAhPT1iLnJlc2l6ZVRpbWVvdXQmJmEuY2xlYXJUaW1lb3V0KGIucmVzaXplVGltZW91dCksYi5yZXNpemVUaW1lb3V0PWEuc2V0VGltZW91dChmdW5jdGlvbigpe2RlbGV0ZSBiLnJlc2l6ZVRpbWVvdXQsYi5hcGkuZmx1c2goKX0sMTAwKX0pLGIucmVzaXplRnVuY3Rpb24uYWRkKGZ1bmN0aW9uKCl7Yy5vbnJlc2l6ZWQuY2FsbChiKX0pLGEuYXR0YWNoRXZlbnQpYS5hdHRhY2hFdmVudCgib25yZXNpemUiLGIucmVzaXplRnVuY3Rpb24pO2Vsc2UgaWYoYS5hZGRFdmVudExpc3RlbmVyKWEuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIixiLnJlc2l6ZUZ1bmN0aW9uLCExKTtlbHNle3ZhciBkPWEub25yZXNpemU7ZD9kLmFkZCYmZC5yZW1vdmV8fChkPWIuZ2VuZXJhdGVSZXNpemUoKSxkLmFkZChhLm9ucmVzaXplKSk6ZD1iLmdlbmVyYXRlUmVzaXplKCksZC5hZGQoYi5yZXNpemVGdW5jdGlvbiksYS5vbnJlc2l6ZT1kfX0saS5nZW5lcmF0ZVJlc2l6ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtiLmZvckVhY2goZnVuY3Rpb24oYSl7YSgpfSl9dmFyIGI9W107cmV0dXJuIGEuYWRkPWZ1bmN0aW9uKGEpe2IucHVzaChhKX0sYS5yZW1vdmU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXT09PWEpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9fSxhfSxpLmVuZGFsbD1mdW5jdGlvbihhLGIpe3ZhciBjPTA7YS5lYWNoKGZ1bmN0aW9uKCl7KytjfSkuZWFjaCgiZW5kIixmdW5jdGlvbigpey0tY3x8Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0saS5nZW5lcmF0ZVdhaXQ9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgYj0wO2EuZm9yRWFjaChmdW5jdGlvbihhKXtpZihhLmVtcHR5KCkpcmV0dXJuIHZvaWQoYis9MSk7dHJ5e2EudHJhbnNpdGlvbigpfWNhdGNoKGMpe2IrPTF9fSksYj09PWEubGVuZ3RoJiYoY2xlYXJJbnRlcnZhbChkKSxjJiZjKCkpfSwxMCl9O3JldHVybiBiLmFkZD1mdW5jdGlvbihiKXthLnB1c2goYil9LGJ9LGkucGFyc2VEYXRlPWZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcztyZXR1cm4gYiBpbnN0YW5jZW9mIERhdGU/Yz1iOiJzdHJpbmciPT10eXBlb2YgYj9jPWQuZGF0YVRpbWVGb3JtYXQoZC5jb25maWcuZGF0YV94Rm9ybWF0KS5wYXJzZShiKToibnVtYmVyIiE9dHlwZW9mIGJ8fGlzTmFOKGIpfHwoYz1uZXcgRGF0ZSgrYikpLGMmJiFpc05hTigrYyl8fGEuY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIHBhcnNlIHggJyIrYisiJyB0byBEYXRlIG9iamVjdCIpLGN9LGkuaXNUYWJWaXNpYmxlPWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudC5oaWRkZW4/YT0iaGlkZGVuIjoidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50Lm1vekhpZGRlbj9hPSJtb3pIaWRkZW4iOiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQubXNIaWRkZW4/YT0ibXNIaWRkZW4iOiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQud2Via2l0SGlkZGVuJiYoYT0id2Via2l0SGlkZGVuIiksIWRvY3VtZW50W2FdfSxpLmdldERlZmF1bHRDb25maWc9ZnVuY3Rpb24oKXt2YXIgYT17YmluZHRvOiIjY2hhcnQiLHN2Z19jbGFzc25hbWU6dm9pZCAwLHNpemVfd2lkdGg6dm9pZCAwLHNpemVfaGVpZ2h0OnZvaWQgMCxwYWRkaW5nX2xlZnQ6dm9pZCAwLHBhZGRpbmdfcmlnaHQ6dm9pZCAwLHBhZGRpbmdfdG9wOnZvaWQgMCxwYWRkaW5nX2JvdHRvbTp2b2lkIDAscmVzaXplX2F1dG86ITAsem9vbV9lbmFibGVkOiExLHpvb21fZXh0ZW50OnZvaWQgMCx6b29tX3ByaXZpbGVnZWQ6ITEsem9vbV9yZXNjYWxlOiExLHpvb21fb256b29tOmZ1bmN0aW9uKCl7fSx6b29tX29uem9vbXN0YXJ0OmZ1bmN0aW9uKCl7fSx6b29tX29uem9vbWVuZDpmdW5jdGlvbigpe30sem9vbV94X21pbjp2b2lkIDAsem9vbV94X21heDp2b2lkIDAsaW50ZXJhY3Rpb25fYnJpZ2h0ZW46ITAsaW50ZXJhY3Rpb25fZW5hYmxlZDohMCxvbm1vdXNlb3ZlcjpmdW5jdGlvbigpe30sb25tb3VzZW91dDpmdW5jdGlvbigpe30sb25yZXNpemU6ZnVuY3Rpb24oKXt9LG9ucmVzaXplZDpmdW5jdGlvbigpe30sb25pbml0OmZ1bmN0aW9uKCl7fSxvbnJlbmRlcmVkOmZ1bmN0aW9uKCl7fSx0cmFuc2l0aW9uX2R1cmF0aW9uOjM1MCxkYXRhX3g6dm9pZCAwLGRhdGFfeHM6e30sZGF0YV94Rm9ybWF0OiIlWS0lbS0lZCIsZGF0YV94TG9jYWx0aW1lOiEwLGRhdGFfeFNvcnQ6ITAsZGF0YV9pZENvbnZlcnRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sZGF0YV9uYW1lczp7fSxkYXRhX2NsYXNzZXM6e30sZGF0YV9ncm91cHM6W10sZGF0YV9heGVzOnt9LGRhdGFfdHlwZTp2b2lkIDAsZGF0YV90eXBlczp7fSxkYXRhX2xhYmVsczp7fSxkYXRhX29yZGVyOiJkZXNjIixkYXRhX3JlZ2lvbnM6e30sZGF0YV9jb2xvcjp2b2lkIDAsZGF0YV9jb2xvcnM6e30sZGF0YV9oaWRlOiExLGRhdGFfZmlsdGVyOnZvaWQgMCxkYXRhX3NlbGVjdGlvbl9lbmFibGVkOiExLGRhdGFfc2VsZWN0aW9uX2dyb3VwZWQ6ITEsZGF0YV9zZWxlY3Rpb25faXNzZWxlY3RhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuITB9LGRhdGFfc2VsZWN0aW9uX211bHRpcGxlOiEwLGRhdGFfc2VsZWN0aW9uX2RyYWdnYWJsZTohMSxkYXRhX29uY2xpY2s6ZnVuY3Rpb24oKXt9LGRhdGFfb25tb3VzZW92ZXI6ZnVuY3Rpb24oKXt9LGRhdGFfb25tb3VzZW91dDpmdW5jdGlvbigpe30sZGF0YV9vbnNlbGVjdGVkOmZ1bmN0aW9uKCl7fSxkYXRhX29udW5zZWxlY3RlZDpmdW5jdGlvbigpe30sZGF0YV91cmw6dm9pZCAwLGRhdGFfaGVhZGVyczp2b2lkIDAsZGF0YV9qc29uOnZvaWQgMCxkYXRhX3Jvd3M6dm9pZCAwLGRhdGFfY29sdW1uczp2b2lkIDAsZGF0YV9taW1lVHlwZTp2b2lkIDAsZGF0YV9rZXlzOnZvaWQgMCxkYXRhX2VtcHR5X2xhYmVsX3RleHQ6IiIsc3ViY2hhcnRfc2hvdzohMSxzdWJjaGFydF9zaXplX2hlaWdodDo2MCxzdWJjaGFydF9heGlzX3hfc2hvdzohMCxzdWJjaGFydF9vbmJydXNoOmZ1bmN0aW9uKCl7fSxjb2xvcl9wYXR0ZXJuOltdLGNvbG9yX3RocmVzaG9sZDp7fSxsZWdlbmRfc2hvdzohMCxsZWdlbmRfaGlkZTohMSxsZWdlbmRfcG9zaXRpb246ImJvdHRvbSIsbGVnZW5kX2luc2V0X2FuY2hvcjoidG9wLWxlZnQiLGxlZ2VuZF9pbnNldF94OjEwLGxlZ2VuZF9pbnNldF95OjAsbGVnZW5kX2luc2V0X3N0ZXA6dm9pZCAwLGxlZ2VuZF9pdGVtX29uY2xpY2s6dm9pZCAwLGxlZ2VuZF9pdGVtX29ubW91c2VvdmVyOnZvaWQgMCxsZWdlbmRfaXRlbV9vbm1vdXNlb3V0OnZvaWQgMCxsZWdlbmRfZXF1YWxseTohMSxsZWdlbmRfcGFkZGluZzowLGxlZ2VuZF9pdGVtX3RpbGVfd2lkdGg6MTAsbGVnZW5kX2l0ZW1fdGlsZV9oZWlnaHQ6MTAsYXhpc19yb3RhdGVkOiExLGF4aXNfeF9zaG93OiEwLGF4aXNfeF90eXBlOiJpbmRleGVkIixheGlzX3hfbG9jYWx0aW1lOiEwLGF4aXNfeF9jYXRlZ29yaWVzOltdLGF4aXNfeF90aWNrX2NlbnRlcmVkOiExLGF4aXNfeF90aWNrX2Zvcm1hdDp2b2lkIDAsYXhpc194X3RpY2tfY3VsbGluZzp7fSxheGlzX3hfdGlja19jdWxsaW5nX21heDoxMCxheGlzX3hfdGlja19jb3VudDp2b2lkIDAsYXhpc194X3RpY2tfZml0OiEwLGF4aXNfeF90aWNrX3ZhbHVlczpudWxsLGF4aXNfeF90aWNrX3JvdGF0ZTowLGF4aXNfeF90aWNrX291dGVyOiEwLGF4aXNfeF90aWNrX211bHRpbGluZTohMCxheGlzX3hfdGlja193aWR0aDpudWxsLGF4aXNfeF9tYXg6dm9pZCAwLGF4aXNfeF9taW46dm9pZCAwLGF4aXNfeF9wYWRkaW5nOnt9LGF4aXNfeF9oZWlnaHQ6dm9pZCAwLGF4aXNfeF9leHRlbnQ6dm9pZCAwLGF4aXNfeF9sYWJlbDp7fSxheGlzX3lfc2hvdzohMCxheGlzX3lfdHlwZTp2b2lkIDAsYXhpc195X21heDp2b2lkIDAsYXhpc195X21pbjp2b2lkIDAsYXhpc195X2ludmVydGVkOiExLGF4aXNfeV9jZW50ZXI6dm9pZCAwLGF4aXNfeV9pbm5lcjp2b2lkIDAsYXhpc195X2xhYmVsOnt9LGF4aXNfeV90aWNrX2Zvcm1hdDp2b2lkIDAsYXhpc195X3RpY2tfb3V0ZXI6ITAsYXhpc195X3RpY2tfdmFsdWVzOm51bGwsYXhpc195X3RpY2tfcm90YXRlOjAsYXhpc195X3RpY2tfY291bnQ6dm9pZCAwLGF4aXNfeV90aWNrX3RpbWVfdmFsdWU6dm9pZCAwLGF4aXNfeV90aWNrX3RpbWVfaW50ZXJ2YWw6dm9pZCAwLGF4aXNfeV9wYWRkaW5nOnt9LGF4aXNfeV9kZWZhdWx0OnZvaWQgMCxheGlzX3kyX3Nob3c6ITEsYXhpc195Ml9tYXg6dm9pZCAwLGF4aXNfeTJfbWluOnZvaWQgMCxheGlzX3kyX2ludmVydGVkOiExLGF4aXNfeTJfY2VudGVyOnZvaWQgMCxheGlzX3kyX2lubmVyOnZvaWQgMCxheGlzX3kyX2xhYmVsOnt9LGF4aXNfeTJfdGlja19mb3JtYXQ6dm9pZCAwLGF4aXNfeTJfdGlja19vdXRlcjohMCxheGlzX3kyX3RpY2tfdmFsdWVzOm51bGwsYXhpc195Ml90aWNrX2NvdW50OnZvaWQgMCxheGlzX3kyX3BhZGRpbmc6e30sYXhpc195Ml9kZWZhdWx0OnZvaWQgMCxncmlkX3hfc2hvdzohMSxncmlkX3hfdHlwZToidGljayIsZ3JpZF94X2xpbmVzOltdLGdyaWRfeV9zaG93OiExLGdyaWRfeV9saW5lczpbXSxncmlkX3lfdGlja3M6MTAsZ3JpZF9mb2N1c19zaG93OiEwLGdyaWRfbGluZXNfZnJvbnQ6ITAscG9pbnRfc2hvdzohMCxwb2ludF9yOjIuNSxwb2ludF9zZW5zaXRpdml0eToxMCxwb2ludF9mb2N1c19leHBhbmRfZW5hYmxlZDohMCxwb2ludF9mb2N1c19leHBhbmRfcjp2b2lkIDAscG9pbnRfc2VsZWN0X3I6dm9pZCAwLGxpbmVfY29ubmVjdE51bGw6ITEsbGluZV9zdGVwX3R5cGU6InN0ZXAiLGJhcl93aWR0aDp2b2lkIDAsYmFyX3dpZHRoX3JhdGlvOi42LGJhcl93aWR0aF9tYXg6dm9pZCAwLGJhcl96ZXJvYmFzZWQ6ITAsYXJlYV96ZXJvYmFzZWQ6ITAsYXJlYV9hYm92ZTohMSxwaWVfbGFiZWxfc2hvdzohMCxwaWVfbGFiZWxfZm9ybWF0OnZvaWQgMCxwaWVfbGFiZWxfdGhyZXNob2xkOi4wNSxwaWVfbGFiZWxfcmF0aW86dm9pZCAwLHBpZV9leHBhbmQ6e30scGllX2V4cGFuZF9kdXJhdGlvbjo1MCxnYXVnZV9mdWxsQ2lyY2xlOiExLGdhdWdlX2xhYmVsX3Nob3c6ITAsZ2F1Z2VfbGFiZWxfZm9ybWF0OnZvaWQgMCxnYXVnZV9taW46MCxnYXVnZV9tYXg6MTAwLGdhdWdlX3N0YXJ0aW5nQW5nbGU6LTEqTWF0aC5QSS8yLGdhdWdlX3VuaXRzOnZvaWQgMCxnYXVnZV93aWR0aDp2b2lkIDAsZ2F1Z2VfZXhwYW5kOnt9LGdhdWdlX2V4cGFuZF9kdXJhdGlvbjo1MCxkb251dF9sYWJlbF9zaG93OiEwLGRvbnV0X2xhYmVsX2Zvcm1hdDp2b2lkIDAsZG9udXRfbGFiZWxfdGhyZXNob2xkOi4wNSxkb251dF9sYWJlbF9yYXRpbzp2b2lkIDAsZG9udXRfd2lkdGg6dm9pZCAwLGRvbnV0X3RpdGxlOiIiLGRvbnV0X2V4cGFuZDp7fSxkb251dF9leHBhbmRfZHVyYXRpb246NTAsc3BsaW5lX2ludGVycG9sYXRpb25fdHlwZToiY2FyZGluYWwiLHJlZ2lvbnM6W10sdG9vbHRpcF9zaG93OiEwLHRvb2x0aXBfZ3JvdXBlZDohMCx0b29sdGlwX2Zvcm1hdF90aXRsZTp2b2lkIDAsdG9vbHRpcF9mb3JtYXRfbmFtZTp2b2lkIDAsdG9vbHRpcF9mb3JtYXRfdmFsdWU6dm9pZCAwLHRvb2x0aXBfcG9zaXRpb246dm9pZCAwLHRvb2x0aXBfY29udGVudHM6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZ2V0VG9vbHRpcENvbnRlbnQ/dGhpcy5nZXRUb29sdGlwQ29udGVudChhLGIsYyxkKToiIn0sdG9vbHRpcF9pbml0X3Nob3c6ITEsdG9vbHRpcF9pbml0X3g6MCx0b29sdGlwX2luaXRfcG9zaXRpb246e3RvcDoiMHB4IixsZWZ0OiI1MHB4In0sdG9vbHRpcF9vbnNob3c6ZnVuY3Rpb24oKXt9LHRvb2x0aXBfb25oaWRlOmZ1bmN0aW9uKCl7fSx0aXRsZV90ZXh0OnZvaWQgMCx0aXRsZV9wYWRkaW5nOnt0b3A6MCxyaWdodDowLGJvdHRvbTowLGxlZnQ6MH0sdGl0bGVfcG9zaXRpb246InRvcC1jZW50ZXIifTtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5hZGRpdGlvbmFsQ29uZmlnKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2FbYl09dGhpcy5hZGRpdGlvbmFsQ29uZmlnW2JdfSx0aGlzKSxhfSxpLmFkZGl0aW9uYWxDb25maWc9e30saS5sb2FkQ29uZmlnPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt2YXIgYT1kLnNoaWZ0KCk7cmV0dXJuIGEmJmMmJiJvYmplY3QiPT10eXBlb2YgYyYmYSBpbiBjPyhjPWNbYV0sYigpKTphP3ZvaWQgMDpjfXZhciBjLGQsZSxmPXRoaXMuY29uZmlnO09iamVjdC5rZXlzKGYpLmZvckVhY2goZnVuY3Rpb24oZyl7Yz1hLGQ9Zy5zcGxpdCgiXyIpLGU9YigpLHEoZSkmJihmW2ddPWUpfSl9LGkuZ2V0U2NhbGU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybihjP3RoaXMuZDMudGltZS5zY2FsZSgpOnRoaXMuZDMuc2NhbGUubGluZWFyKCkpLnJhbmdlKFthLGJdKX0saS5nZXRYPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGY9dGhpcyxnPWYuZ2V0U2NhbGUoYSxiLGYuaXNUaW1lU2VyaWVzKCkpLGg9Yz9nLmRvbWFpbihjKTpnO2YuaXNDYXRlZ29yaXplZCgpPyhkPWR8fGZ1bmN0aW9uKCl7cmV0dXJuIDB9LGc9ZnVuY3Rpb24oYSxiKXt2YXIgYz1oKGEpK2QoYSk7cmV0dXJuIGI/YzpNYXRoLmNlaWwoYyl9KTpnPWZ1bmN0aW9uKGEsYil7dmFyIGM9aChhKTtyZXR1cm4gYj9jOk1hdGguY2VpbChjKX07Zm9yKGUgaW4gaClnW2VdPWhbZV07cmV0dXJuIGcub3JnRG9tYWluPWZ1bmN0aW9uKCl7cmV0dXJuIGguZG9tYWluKCl9LGYuaXNDYXRlZ29yaXplZCgpJiYoZy5kb21haW49ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGguZG9tYWluKGEpLGcpOihhPXRoaXMub3JnRG9tYWluKCksW2FbMF0sYVsxXSsxXSl9KSxnfSxpLmdldFk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ2V0U2NhbGUoYSxiLHRoaXMuaXNUaW1lU2VyaWVzWSgpKTtyZXR1cm4gYyYmZC5kb21haW4oYyksZH0saS5nZXRZU2NhbGU9ZnVuY3Rpb24oYSl7cmV0dXJuInkyIj09PXRoaXMuYXhpcy5nZXRJZChhKT90aGlzLnkyOnRoaXMueX0saS5nZXRTdWJZU2NhbGU9ZnVuY3Rpb24oYSl7cmV0dXJuInkyIj09PXRoaXMuYXhpcy5nZXRJZChhKT90aGlzLnN1YlkyOnRoaXMuc3ViWX0saS51cGRhdGVTY2FsZXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcsYz0hYS54O2EueE1pbj1iLmF4aXNfcm90YXRlZD8xOjAsYS54TWF4PWIuYXhpc19yb3RhdGVkP2EuaGVpZ2h0OmEud2lkdGgsYS55TWluPWIuYXhpc19yb3RhdGVkPzA6YS5oZWlnaHQsYS55TWF4PWIuYXhpc19yb3RhdGVkP2Eud2lkdGg6MSxhLnN1YlhNaW49YS54TWluLGEuc3ViWE1heD1hLnhNYXgsYS5zdWJZTWluPWIuYXhpc19yb3RhdGVkPzA6YS5oZWlnaHQyLGEuc3ViWU1heD1iLmF4aXNfcm90YXRlZD9hLndpZHRoMjoxLGEueD1hLmdldFgoYS54TWluLGEueE1heCxjP3ZvaWQgMDphLngub3JnRG9tYWluKCksZnVuY3Rpb24oKXtyZXR1cm4gYS54QXhpcy50aWNrT2Zmc2V0KCl9KSxhLnk9YS5nZXRZKGEueU1pbixhLnlNYXgsYz9iLmF4aXNfeV9kZWZhdWx0OmEueS5kb21haW4oKSksYS55Mj1hLmdldFkoYS55TWluLGEueU1heCxjP2IuYXhpc195Ml9kZWZhdWx0OmEueTIuZG9tYWluKCkpLGEuc3ViWD1hLmdldFgoYS54TWluLGEueE1heCxhLm9yZ1hEb21haW4sZnVuY3Rpb24oYil7cmV0dXJuIGIlMT8wOmEuc3ViWEF4aXMudGlja09mZnNldCgpfSksYS5zdWJZPWEuZ2V0WShhLnN1YllNaW4sYS5zdWJZTWF4LGM/Yi5heGlzX3lfZGVmYXVsdDphLnN1YlkuZG9tYWluKCkpLGEuc3ViWTI9YS5nZXRZKGEuc3ViWU1pbixhLnN1YllNYXgsYz9iLmF4aXNfeTJfZGVmYXVsdDphLnN1YlkyLmRvbWFpbigpKSxhLnhBeGlzVGlja0Zvcm1hdD1hLmF4aXMuZ2V0WEF4aXNUaWNrRm9ybWF0KCksYS54QXhpc1RpY2tWYWx1ZXM9YS5heGlzLmdldFhBeGlzVGlja1ZhbHVlcygpLGEueUF4aXNUaWNrVmFsdWVzPWEuYXhpcy5nZXRZQXhpc1RpY2tWYWx1ZXMoKSxhLnkyQXhpc1RpY2tWYWx1ZXM9YS5heGlzLmdldFkyQXhpc1RpY2tWYWx1ZXMoKSxhLnhBeGlzPWEuYXhpcy5nZXRYQXhpcyhhLngsYS54T3JpZW50LGEueEF4aXNUaWNrRm9ybWF0LGEueEF4aXNUaWNrVmFsdWVzLGIuYXhpc194X3RpY2tfb3V0ZXIpLGEuc3ViWEF4aXM9YS5heGlzLmdldFhBeGlzKGEuc3ViWCxhLnN1YlhPcmllbnQsYS54QXhpc1RpY2tGb3JtYXQsYS54QXhpc1RpY2tWYWx1ZXMsYi5heGlzX3hfdGlja19vdXRlciksYS55QXhpcz1hLmF4aXMuZ2V0WUF4aXMoYS55LGEueU9yaWVudCxiLmF4aXNfeV90aWNrX2Zvcm1hdCxhLnlBeGlzVGlja1ZhbHVlcyxiLmF4aXNfeV90aWNrX291dGVyKSxhLnkyQXhpcz1hLmF4aXMuZ2V0WUF4aXMoYS55MixhLnkyT3JpZW50LGIuYXhpc195Ml90aWNrX2Zvcm1hdCxhLnkyQXhpc1RpY2tWYWx1ZXMsYi5heGlzX3kyX3RpY2tfb3V0ZXIpLGN8fChhLmJydXNoJiZhLmJydXNoLnNjYWxlKGEuc3ViWCksYi56b29tX2VuYWJsZWQmJmEuem9vbS5zY2FsZShhLngpKSxhLnVwZGF0ZUFyYyYmYS51cGRhdGVBcmMoKX0saS5nZXRZRG9tYWluTWluPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPXRoaXMsaT1oLmNvbmZpZyxqPWgubWFwVG9JZHMoYSksaz1oLmdldFZhbHVlc0FzSWRLZXllZChhKTtpZihpLmRhdGFfZ3JvdXBzLmxlbmd0aD4wKWZvcihnPWguaGFzTmVnYXRpdmVWYWx1ZUluVGFyZ2V0cyhhKSxiPTA7YjxpLmRhdGFfZ3JvdXBzLmxlbmd0aDtiKyspaWYoZT1pLmRhdGFfZ3JvdXBzW2JdLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gai5pbmRleE9mKGEpPj0wfSksMCE9PWUubGVuZ3RoKWZvcihkPWVbMF0sZyYma1tkXSYma1tkXS5mb3JFYWNoKGZ1bmN0aW9uKGEsYil7a1tkXVtiXT0wPmE/YTowfSksYz0xO2M8ZS5sZW5ndGg7YysrKWY9ZVtjXSxrW2ZdJiZrW2ZdLmZvckVhY2goZnVuY3Rpb24oYSxiKXtoLmF4aXMuZ2V0SWQoZikhPT1oLmF4aXMuZ2V0SWQoZCl8fCFrW2RdfHxnJiYrYT4wfHwoa1tkXVtiXSs9K2EpfSk7cmV0dXJuIGguZDMubWluKE9iamVjdC5rZXlzKGspLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gaC5kMy5taW4oa1thXSl9KSl9LGkuZ2V0WURvbWFpbk1heD1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaD10aGlzLGk9aC5jb25maWcsaj1oLm1hcFRvSWRzKGEpLGs9aC5nZXRWYWx1ZXNBc0lkS2V5ZWQoYSk7aWYoaS5kYXRhX2dyb3Vwcy5sZW5ndGg+MClmb3IoZz1oLmhhc1Bvc2l0aXZlVmFsdWVJblRhcmdldHMoYSksYj0wO2I8aS5kYXRhX2dyb3Vwcy5sZW5ndGg7YisrKWlmKGU9aS5kYXRhX2dyb3Vwc1tiXS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGouaW5kZXhPZihhKT49MH0pLDAhPT1lLmxlbmd0aClmb3IoZD1lWzBdLGcmJmtbZF0mJmtbZF0uZm9yRWFjaChmdW5jdGlvbihhLGIpe2tbZF1bYl09YT4wP2E6MH0pLGM9MTtjPGUubGVuZ3RoO2MrKylmPWVbY10sa1tmXSYma1tmXS5mb3JFYWNoKGZ1bmN0aW9uKGEsYil7aC5heGlzLmdldElkKGYpIT09aC5heGlzLmdldElkKGQpfHwha1tkXXx8ZyYmMD4rYXx8KGtbZF1bYl0rPSthKX0pO3JldHVybiBoLmQzLm1heChPYmplY3Qua2V5cyhrKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGguZDMubWF4KGtbYV0pfSkpfSxpLmdldFlEb21haW49ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbCxuLG8scD10aGlzLHE9cC5jb25maWcscj1hLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gcC5heGlzLmdldElkKGEuaWQpPT09Yn0pLHM9Yz9wLmZpbHRlckJ5WERvbWFpbihyLGMpOnIsdT0ieTIiPT09Yj9xLmF4aXNfeTJfbWluOnEuYXhpc195X21pbix3PSJ5MiI9PT1iP3EuYXhpc195Ml9tYXg6cS5heGlzX3lfbWF4LHg9cC5nZXRZRG9tYWluTWluKHMpLHk9cC5nZXRZRG9tYWluTWF4KHMpLHo9InkyIj09PWI/cS5heGlzX3kyX2NlbnRlcjpxLmF4aXNfeV9jZW50ZXIsQT1wLmhhc1R5cGUoImJhciIscykmJnEuYmFyX3plcm9iYXNlZHx8cC5oYXNUeXBlKCJhcmVhIixzKSYmcS5hcmVhX3plcm9iYXNlZCxCPSJ5MiI9PT1iP3EuYXhpc195Ml9pbnZlcnRlZDpxLmF4aXNfeV9pbnZlcnRlZCxDPXAuaGFzRGF0YUxhYmVsKCkmJnEuYXhpc19yb3RhdGVkLEQ9cC5oYXNEYXRhTGFiZWwoKSYmIXEuYXhpc19yb3RhdGVkO3JldHVybiB4PW0odSk/dTptKHcpP3c+eD94OnctMTA6eCx5PW0odyk/dzptKHUpP3k+dT95OnUrMTA6eSwwPT09cy5sZW5ndGg/InkyIj09PWI/cC55Mi5kb21haW4oKTpwLnkuZG9tYWluKCk6KGlzTmFOKHgpJiYoeD0wKSxpc05hTih5KSYmKHk9eCkseD09PXkmJigwPng/eT0wOng9MCksbj14Pj0wJiZ5Pj0wLG89MD49eCYmMD49eSwobSh1KSYmbnx8bSh3KSYmbykmJihBPSExKSxBJiYobiYmKHg9MCksbyYmKHk9MCkpLGU9TWF0aC5hYnMoeS14KSxmPWc9aD0uMSplLCJ1bmRlZmluZWQiIT10eXBlb2YgeiYmKGk9TWF0aC5tYXgoTWF0aC5hYnMoeCksTWF0aC5hYnMoeSkpLHk9eitpLHg9ei1pKSxDPyhqPXAuZ2V0RGF0YUxhYmVsTGVuZ3RoKHgseSwid2lkdGgiKSxrPXQocC55LnJhbmdlKCkpLGw9W2pbMF0vayxqWzFdL2tdLA0KZys9ZSoobFsxXS8oMS1sWzBdLWxbMV0pKSxoKz1lKihsWzBdLygxLWxbMF0tbFsxXSkpKTpEJiYoaj1wLmdldERhdGFMYWJlbExlbmd0aCh4LHksImhlaWdodCIpLGcrPXAuYXhpcy5jb252ZXJ0UGl4ZWxzVG9BeGlzUGFkZGluZyhqWzFdLGUpLGgrPXAuYXhpcy5jb252ZXJ0UGl4ZWxzVG9BeGlzUGFkZGluZyhqWzBdLGUpKSwieSI9PT1iJiZ2KHEuYXhpc195X3BhZGRpbmcpJiYoZz1wLmF4aXMuZ2V0UGFkZGluZyhxLmF4aXNfeV9wYWRkaW5nLCJ0b3AiLGcsZSksaD1wLmF4aXMuZ2V0UGFkZGluZyhxLmF4aXNfeV9wYWRkaW5nLCJib3R0b20iLGgsZSkpLCJ5MiI9PT1iJiZ2KHEuYXhpc195Ml9wYWRkaW5nKSYmKGc9cC5heGlzLmdldFBhZGRpbmcocS5heGlzX3kyX3BhZGRpbmcsInRvcCIsZyxlKSxoPXAuYXhpcy5nZXRQYWRkaW5nKHEuYXhpc195Ml9wYWRkaW5nLCJib3R0b20iLGgsZSkpLEEmJihuJiYoaD14KSxvJiYoZz0teSkpLGQ9W3gtaCx5K2ddLEI/ZC5yZXZlcnNlKCk6ZCl9LGkuZ2V0WERvbWFpbk1pbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWc7cmV0dXJuIHEoYy5heGlzX3hfbWluKT9iLmlzVGltZVNlcmllcygpP3RoaXMucGFyc2VEYXRlKGMuYXhpc194X21pbik6Yy5heGlzX3hfbWluOmIuZDMubWluKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIuZDMubWluKGEudmFsdWVzLGZ1bmN0aW9uKGEpe3JldHVybiBhLnh9KX0pfSxpLmdldFhEb21haW5NYXg9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnO3JldHVybiBxKGMuYXhpc194X21heCk/Yi5pc1RpbWVTZXJpZXMoKT90aGlzLnBhcnNlRGF0ZShjLmF4aXNfeF9tYXgpOmMuYXhpc194X21heDpiLmQzLm1heChhLGZ1bmN0aW9uKGEpe3JldHVybiBiLmQzLm1heChhLnZhbHVlcyxmdW5jdGlvbihhKXtyZXR1cm4gYS54fSl9KX0saS5nZXRYRG9tYWluUGFkZGluZz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmPXRoaXMsZz1mLmNvbmZpZyxoPWFbMV0tYVswXTtyZXR1cm4gZi5pc0NhdGVnb3JpemVkKCk/Yz0wOmYuaGFzVHlwZSgiYmFyIik/KGI9Zi5nZXRNYXhEYXRhQ291bnQoKSxjPWI+MT9oLyhiLTEpLzI6LjUpOmM9LjAxKmgsIm9iamVjdCI9PXR5cGVvZiBnLmF4aXNfeF9wYWRkaW5nJiZ2KGcuYXhpc194X3BhZGRpbmcpPyhkPW0oZy5heGlzX3hfcGFkZGluZy5sZWZ0KT9nLmF4aXNfeF9wYWRkaW5nLmxlZnQ6YyxlPW0oZy5heGlzX3hfcGFkZGluZy5yaWdodCk/Zy5heGlzX3hfcGFkZGluZy5yaWdodDpjKTpkPWU9Im51bWJlciI9PXR5cGVvZiBnLmF4aXNfeF9wYWRkaW5nP2cuYXhpc194X3BhZGRpbmc6Yyx7bGVmdDpkLHJpZ2h0OmV9fSxpLmdldFhEb21haW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPVtiLmdldFhEb21haW5NaW4oYSksYi5nZXRYRG9tYWluTWF4KGEpXSxkPWNbMF0sZT1jWzFdLGY9Yi5nZXRYRG9tYWluUGFkZGluZyhjKSxnPTAsaD0wO3JldHVybiBkLWUhPT0wfHxiLmlzQ2F0ZWdvcml6ZWQoKXx8KGIuaXNUaW1lU2VyaWVzKCk/KGQ9bmV3IERhdGUoLjUqZC5nZXRUaW1lKCkpLGU9bmV3IERhdGUoMS41KmUuZ2V0VGltZSgpKSk6KGQ9MD09PWQ/MTouNSpkLGU9MD09PWU/LTE6MS41KmUpKSwoZHx8MD09PWQpJiYoZz1iLmlzVGltZVNlcmllcygpP25ldyBEYXRlKGQuZ2V0VGltZSgpLWYubGVmdCk6ZC1mLmxlZnQpLChlfHwwPT09ZSkmJihoPWIuaXNUaW1lU2VyaWVzKCk/bmV3IERhdGUoZS5nZXRUaW1lKCkrZi5yaWdodCk6ZStmLnJpZ2h0KSxbZyxoXX0saS51cGRhdGVYRG9tYWluPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcyxnPWYuY29uZmlnO3JldHVybiBjJiYoZi54LmRvbWFpbihlP2U6Zi5kMy5leHRlbnQoZi5nZXRYRG9tYWluKGEpKSksZi5vcmdYRG9tYWluPWYueC5kb21haW4oKSxnLnpvb21fZW5hYmxlZCYmZi56b29tLnNjYWxlKGYueCkudXBkYXRlU2NhbGVFeHRlbnQoKSxmLnN1YlguZG9tYWluKGYueC5kb21haW4oKSksZi5icnVzaCYmZi5icnVzaC5zY2FsZShmLnN1YlgpKSxiJiYoZi54LmRvbWFpbihlP2U6IWYuYnJ1c2h8fGYuYnJ1c2guZW1wdHkoKT9mLm9yZ1hEb21haW46Zi5icnVzaC5leHRlbnQoKSksZy56b29tX2VuYWJsZWQmJmYuem9vbS5zY2FsZShmLngpLnVwZGF0ZVNjYWxlRXh0ZW50KCkpLGQmJmYueC5kb21haW4oZi50cmltWERvbWFpbihmLngub3JnRG9tYWluKCkpKSxmLnguZG9tYWluKCl9LGkudHJpbVhEb21haW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRab29tRG9tYWluKCksYz1iWzBdLGQ9YlsxXTtyZXR1cm4gYVswXTw9YyYmKGFbMV09K2FbMV0rKGMtYVswXSksYVswXT1jKSxkPD1hWzFdJiYoYVswXT0rYVswXS0oYVsxXS1kKSxhWzFdPWQpLGF9LGkuaXNYPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztyZXR1cm4gYy5kYXRhX3gmJmE9PT1jLmRhdGFfeHx8dihjLmRhdGFfeHMpJiZ4KGMuZGF0YV94cyxhKX0saS5pc05vdFg9ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuaXNYKGEpfSxpLmdldFhLZXk9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnO3JldHVybiBjLmRhdGFfeD9jLmRhdGFfeDp2KGMuZGF0YV94cyk/Yy5kYXRhX3hzW2FdOm51bGx9LGkuZ2V0WFZhbHVlc09mWEtleT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcyxlPWImJnYoYik/ZC5tYXBUb0lkcyhiKTpbXTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2QuZ2V0WEtleShiKT09PWEmJihjPWQuZGF0YS54c1tiXSl9KSxjfSxpLmdldEluZGV4QnlYPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmZpbHRlckJ5WChiLmRhdGEudGFyZ2V0cyxhKTtyZXR1cm4gYy5sZW5ndGg/Y1swXS5pbmRleDpudWxsfSxpLmdldFhWYWx1ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIGEgaW4gYy5kYXRhLnhzJiZjLmRhdGEueHNbYV0mJm0oYy5kYXRhLnhzW2FdW2JdKT9jLmRhdGEueHNbYV1bYl06Yn0saS5nZXRPdGhlclRhcmdldFhzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPU9iamVjdC5rZXlzKGEuZGF0YS54cyk7cmV0dXJuIGIubGVuZ3RoP2EuZGF0YS54c1tiWzBdXTpudWxsfSxpLmdldE90aGVyVGFyZ2V0WD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE90aGVyVGFyZ2V0WHMoKTtyZXR1cm4gYiYmYTxiLmxlbmd0aD9iW2FdOm51bGx9LGkuYWRkWHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe2IuY29uZmlnLmRhdGFfeHNbY109YVtjXX0pfSxpLmhhc011bHRpcGxlWD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kMy5zZXQoT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfSkpLnNpemUoKT4xfSxpLmlzTXVsdGlwbGVYPWZ1bmN0aW9uKCl7cmV0dXJuIHYodGhpcy5jb25maWcuZGF0YV94cyl8fCF0aGlzLmNvbmZpZy5kYXRhX3hTb3J0fHx0aGlzLmhhc1R5cGUoInNjYXR0ZXIiKX0saS5hZGROYW1lPWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcztyZXR1cm4gYSYmKGI9Yy5jb25maWcuZGF0YV9uYW1lc1thLmlkXSxhLm5hbWU9dm9pZCAwIT09Yj9iOmEuaWQpLGF9LGkuZ2V0VmFsdWVPbkluZGV4PWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5kZXg9PT1ifSk7cmV0dXJuIGMubGVuZ3RoP2NbMF06bnVsbH0saS51cGRhdGVUYXJnZXRYPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczthLmZvckVhY2goZnVuY3Rpb24oYSl7YS52YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihkLGUpe2QueD1jLmdlbmVyYXRlVGFyZ2V0WChiW2VdLGEuaWQsZSl9KSxjLmRhdGEueHNbYS5pZF09Yn0pfSxpLnVwZGF0ZVRhcmdldFhzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczthLmZvckVhY2goZnVuY3Rpb24oYSl7YlthLmlkXSYmYy51cGRhdGVUYXJnZXRYKFthXSxiW2EuaWRdKX0pfSxpLmdlbmVyYXRlVGFyZ2V0WD1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzO3JldHVybiBkPWUuaXNUaW1lU2VyaWVzKCk/YT9lLnBhcnNlRGF0ZShhKTplLnBhcnNlRGF0ZShlLmdldFhWYWx1ZShiLGMpKTplLmlzQ3VzdG9tWCgpJiYhZS5pc0NhdGVnb3JpemVkKCk/bShhKT8rYTplLmdldFhWYWx1ZShiLGMpOmN9LGkuY2xvbmVUYXJnZXQ9ZnVuY3Rpb24oYSl7cmV0dXJue2lkOmEuaWQsaWRfb3JnOmEuaWRfb3JnLHZhbHVlczphLnZhbHVlcy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJue3g6YS54LHZhbHVlOmEudmFsdWUsaWQ6YS5pZH19KX19LGkudXBkYXRlWHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZGF0YS50YXJnZXRzLmxlbmd0aCYmKGEueHM9W10sYS5kYXRhLnRhcmdldHNbMF0udmFsdWVzLmZvckVhY2goZnVuY3Rpb24oYil7YS54c1tiLmluZGV4XT1iLnh9KSl9LGkuZ2V0UHJldlg9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy54c1thLTFdO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYj9iOm51bGx9LGkuZ2V0TmV4dFg9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy54c1thKzFdO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYj9iOm51bGx9LGkuZ2V0TWF4RGF0YUNvdW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gYS5kMy5tYXgoYS5kYXRhLnRhcmdldHMsZnVuY3Rpb24oYSl7cmV0dXJuIGEudmFsdWVzLmxlbmd0aH0pfSxpLmdldE1heERhdGFDb3VudFRhcmdldD1mdW5jdGlvbihhKXt2YXIgYixjPWEubGVuZ3RoLGQ9MDtyZXR1cm4gYz4xP2EuZm9yRWFjaChmdW5jdGlvbihhKXthLnZhbHVlcy5sZW5ndGg+ZCYmKGI9YSxkPWEudmFsdWVzLmxlbmd0aCl9KTpiPWM/YVswXTpudWxsLGJ9LGkuZ2V0RWRnZVg9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gYS5sZW5ndGg/W2IuZDMubWluKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEudmFsdWVzWzBdLnh9KSxiLmQzLm1heChhLGZ1bmN0aW9uKGEpe3JldHVybiBhLnZhbHVlc1thLnZhbHVlcy5sZW5ndGgtMV0ueH0pXTpbMCwwXX0saS5tYXBUb0lkcz1mdW5jdGlvbihhKXtyZXR1cm4gYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KX0saS5tYXBUb1RhcmdldElkcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBhP1tdLmNvbmNhdChhKTpiLm1hcFRvSWRzKGIuZGF0YS50YXJnZXRzKX0saS5oYXNUYXJnZXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXMubWFwVG9JZHMoYSk7Zm9yKGM9MDtjPGQubGVuZ3RoO2MrKylpZihkW2NdPT09YilyZXR1cm4hMDtyZXR1cm4hMX0saS5pc1RhcmdldFRvU2hvdz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oaWRkZW5UYXJnZXRJZHMuaW5kZXhPZihhKTwwfSxpLmlzTGVnZW5kVG9TaG93PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhpZGRlbkxlZ2VuZElkcy5pbmRleE9mKGEpPDB9LGkuZmlsdGVyVGFyZ2V0c1RvU2hvdz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYi5pc1RhcmdldFRvU2hvdyhhLmlkKX0pfSxpLm1hcFRhcmdldHNUb1VuaXF1ZVhzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmQzLnNldChiLmQzLm1lcmdlKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZhbHVlcy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuK2EueH0pfSkpKS52YWx1ZXMoKTtyZXR1cm4gYz1iLmlzVGltZVNlcmllcygpP2MubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgRGF0ZSgrYSl9KTpjLm1hcChmdW5jdGlvbihhKXtyZXR1cm4rYX0pLGMuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBiPmE/LTE6YT5iPzE6YT49Yj8wOk5hTn0pfSxpLmFkZEhpZGRlblRhcmdldElkcz1mdW5jdGlvbihhKXt0aGlzLmhpZGRlblRhcmdldElkcz10aGlzLmhpZGRlblRhcmdldElkcy5jb25jYXQoYSl9LGkucmVtb3ZlSGlkZGVuVGFyZ2V0SWRzPWZ1bmN0aW9uKGEpe3RoaXMuaGlkZGVuVGFyZ2V0SWRzPXRoaXMuaGlkZGVuVGFyZ2V0SWRzLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gYS5pbmRleE9mKGIpPDB9KX0saS5hZGRIaWRkZW5MZWdlbmRJZHM9ZnVuY3Rpb24oYSl7dGhpcy5oaWRkZW5MZWdlbmRJZHM9dGhpcy5oaWRkZW5MZWdlbmRJZHMuY29uY2F0KGEpfSxpLnJlbW92ZUhpZGRlbkxlZ2VuZElkcz1mdW5jdGlvbihhKXt0aGlzLmhpZGRlbkxlZ2VuZElkcz10aGlzLmhpZGRlbkxlZ2VuZElkcy5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGEuaW5kZXhPZihiKTwwfSl9LGkuZ2V0VmFsdWVzQXNJZEtleWVkPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O3JldHVybiBhLmZvckVhY2goZnVuY3Rpb24oYSl7YlthLmlkXT1bXSxhLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGMpe2JbYS5pZF0ucHVzaChjLnZhbHVlKX0pfSksYn0saS5jaGVja1ZhbHVlSW5UYXJnZXRzPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9T2JqZWN0LmtleXMoYSk7Zm9yKGM9MDtjPGYubGVuZ3RoO2MrKylmb3IoZT1hW2ZbY11dLnZhbHVlcyxkPTA7ZDxlLmxlbmd0aDtkKyspaWYoYihlW2RdLnZhbHVlKSlyZXR1cm4hMDtyZXR1cm4hMX0saS5oYXNOZWdhdGl2ZVZhbHVlSW5UYXJnZXRzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNoZWNrVmFsdWVJblRhcmdldHMoYSxmdW5jdGlvbihhKXtyZXR1cm4gMD5hfSl9LGkuaGFzUG9zaXRpdmVWYWx1ZUluVGFyZ2V0cz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jaGVja1ZhbHVlSW5UYXJnZXRzKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE+MH0pfSxpLmlzT3JkZXJEZXNjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb25maWc7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhLmRhdGFfb3JkZXImJiJkZXNjIj09PWEuZGF0YV9vcmRlci50b0xvd2VyQ2FzZSgpfSxpLmlzT3JkZXJBc2M9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbmZpZztyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGEuZGF0YV9vcmRlciYmImFzYyI9PT1hLmRhdGFfb3JkZXIudG9Mb3dlckNhc2UoKX0saS5vcmRlclRhcmdldHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9Yi5pc09yZGVyQXNjKCksZT1iLmlzT3JkZXJEZXNjKCk7cmV0dXJuIGR8fGU/YS5zb3J0KGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStNYXRoLmFicyhiLnZhbHVlKX0sZT1hLnZhbHVlcy5yZWR1Y2UoYywwKSxmPWIudmFsdWVzLnJlZHVjZShjLDApO3JldHVybiBkP2YtZTplLWZ9KTpuKGMuZGF0YV9vcmRlcikmJmEuc29ydChjLmRhdGFfb3JkZXIpLGF9LGkuZmlsdGVyQnlYPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZDMubWVyZ2UoYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudmFsdWVzfSkpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS54LWI9PT0wfSl9LGkuZmlsdGVyUmVtb3ZlTnVsbD1mdW5jdGlvbihhKXtyZXR1cm4gYS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIG0oYS52YWx1ZSl9KX0saS5maWx0ZXJCeVhEb21haW49ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJue2lkOmEuaWQsaWRfb3JnOmEuaWRfb3JnLHZhbHVlczphLnZhbHVlcy5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGJbMF08PWEueCYmYS54PD1iWzFdfSl9fSl9LGkuaGFzRGF0YUxhYmVsPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb25maWc7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgYS5kYXRhX2xhYmVscyYmYS5kYXRhX2xhYmVscz8hMDohKCJvYmplY3QiIT10eXBlb2YgYS5kYXRhX2xhYmVsc3x8IXYoYS5kYXRhX2xhYmVscykpfSxpLmdldERhdGFMYWJlbExlbmd0aD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcyxlPVswLDBdLGY9MS4zO3JldHVybiBkLnNlbGVjdENoYXJ0LnNlbGVjdCgic3ZnIikuc2VsZWN0QWxsKCIuZHVtbXkiKS5kYXRhKFthLGJdKS5lbnRlcigpLmFwcGVuZCgidGV4dCIpLnRleHQoZnVuY3Rpb24oYSl7cmV0dXJuIGQuZGF0YUxhYmVsRm9ybWF0KGEuaWQpKGEpfSkuZWFjaChmdW5jdGlvbihhLGIpe2VbYl09dGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtjXSpmfSkucmVtb3ZlKCksZX0saS5pc05vbmVBcmM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGFzVGFyZ2V0KHRoaXMuZGF0YS50YXJnZXRzLGEuaWQpfSxpLmlzQXJjPWZ1bmN0aW9uKGEpe3JldHVybiJkYXRhImluIGEmJnRoaXMuaGFzVGFyZ2V0KHRoaXMuZGF0YS50YXJnZXRzLGEuZGF0YS5pZCl9LGkuZmluZFNhbWVYT2ZWYWx1ZXM9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWFbYl0ueCxlPVtdO2ZvcihjPWItMTtjPj0wJiZkPT09YVtjXS54O2MtLSllLnB1c2goYVtjXSk7Zm9yKGM9YjtjPGEubGVuZ3RoJiZkPT09YVtjXS54O2MrKyllLnB1c2goYVtjXSk7cmV0dXJuIGV9LGkuZmluZENsb3Nlc3RGcm9tVGFyZ2V0cz1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcztyZXR1cm4gYz1hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gZC5maW5kQ2xvc2VzdChhLnZhbHVlcyxiKX0pLGQuZmluZENsb3Nlc3QoYyxiKX0saS5maW5kQ2xvc2VzdD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcyxlPWQuY29uZmlnLnBvaW50X3NlbnNpdGl2aXR5O3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYSYmZC5pc0JhclR5cGUoYS5pZCl9KS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWQubWFpbi5zZWxlY3QoIi4iK2wuYmFycytkLmdldFRhcmdldFNlbGVjdG9yU3VmZml4KGEuaWQpKyIgLiIrbC5iYXIrIi0iK2EuaW5kZXgpLm5vZGUoKTshYyYmZC5pc1dpdGhpbkJhcihiKSYmKGM9YSl9KSxhLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYSYmIWQuaXNCYXJUeXBlKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgZj1kLmRpc3QoYSxiKTtlPmYmJihlPWYsYz1hKX0pLGN9LGkuZGlzdD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNvbmZpZyxlPWQuYXhpc19yb3RhdGVkPzE6MCxmPWQuYXhpc19yb3RhdGVkPzA6MSxnPWMuY2lyY2xlWShhLGEuaW5kZXgpLGg9Yy54KGEueCk7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhoLWJbZV0sMikrTWF0aC5wb3coZy1iW2ZdLDIpKX0saS5jb252ZXJ0VmFsdWVzVG9TdGVwPWZ1bmN0aW9uKGEpe3ZhciBiLGM9W10uY29uY2F0KGEpO2lmKCF0aGlzLmlzQ2F0ZWdvcml6ZWQoKSlyZXR1cm4gYTtmb3IoYj1hLmxlbmd0aCsxO2I+MDtiLS0pY1tiXT1jW2ItMV07cmV0dXJuIGNbMF09e3g6Y1swXS54LTEsdmFsdWU6Y1swXS52YWx1ZSxpZDpjWzBdLmlkfSxjW2EubGVuZ3RoKzFdPXt4OmNbYS5sZW5ndGhdLngrMSx2YWx1ZTpjW2EubGVuZ3RoXS52YWx1ZSxpZDpjW2EubGVuZ3RoXS5pZH0sY30saS51cGRhdGVEYXRhQXR0cmlidXRlcz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNvbmZpZyxlPWRbImRhdGFfIithXTtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGI/ZTooT2JqZWN0LmtleXMoYikuZm9yRWFjaChmdW5jdGlvbihhKXtlW2FdPWJbYV19KSxjLnJlZHJhdyh7d2l0aExlZ2VuZDohMH0pLGUpfSxpLmNvbnZlcnRVcmxUb0RhdGE9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLGc9Yj9iOiJjc3YiLGg9Zi5kMy54aHIoYSk7YyYmT2JqZWN0LmtleXMoYykuZm9yRWFjaChmdW5jdGlvbihhKXtoLmhlYWRlcihhLGNbYV0pfSksaC5nZXQoZnVuY3Rpb24oYSxiKXt2YXIgYztpZighYil0aHJvdyBuZXcgRXJyb3IoYS5yZXNwb25zZVVSTCsiICIrYS5zdGF0dXMrIiAoIithLnN0YXR1c1RleHQrIikiKTtjPSJqc29uIj09PWc/Zi5jb252ZXJ0SnNvblRvRGF0YShKU09OLnBhcnNlKGIucmVzcG9uc2UpLGQpOiJ0c3YiPT09Zz9mLmNvbnZlcnRUc3ZUb0RhdGEoYi5yZXNwb25zZSk6Zi5jb252ZXJ0Q3N2VG9EYXRhKGIucmVzcG9uc2UpLGUuY2FsbChmLGMpfSl9LGkuY29udmVydFhzdlRvRGF0YT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9Yi5wYXJzZVJvd3MoYSk7cmV0dXJuIDE9PT1kLmxlbmd0aD8oYz1be31dLGRbMF0uZm9yRWFjaChmdW5jdGlvbihhKXtjWzBdW2FdPW51bGx9KSk6Yz1iLnBhcnNlKGEpLGN9LGkuY29udmVydENzdlRvRGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb252ZXJ0WHN2VG9EYXRhKGEsdGhpcy5kMy5jc3YpfSxpLmNvbnZlcnRUc3ZUb0RhdGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29udmVydFhzdlRvRGF0YShhLHRoaXMuZDMudHN2KX0saS5jb252ZXJ0SnNvblRvRGF0YT1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZT10aGlzLGY9W107cmV0dXJuIGI/KGIueD8oYz1iLnZhbHVlLmNvbmNhdChiLngpLGUuY29uZmlnLmRhdGFfeD1iLngpOmM9Yi52YWx1ZSxmLnB1c2goYyksYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPVtdO2MuZm9yRWFjaChmdW5jdGlvbihjKXt2YXIgZD1lLmZpbmRWYWx1ZUluSnNvbihhLGMpO3AoZCkmJihkPW51bGwpLGIucHVzaChkKX0pLGYucHVzaChiKX0pLGQ9ZS5jb252ZXJ0Um93c1RvRGF0YShmKSk6KE9iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24oYil7Zi5wdXNoKFtiXS5jb25jYXQoYVtiXSkpfSksZD1lLmNvbnZlcnRDb2x1bW5zVG9EYXRhKGYpKSxkfSxpLmZpbmRWYWx1ZUluSnNvbj1mdW5jdGlvbihhLGIpe2I9Yi5yZXBsYWNlKC9cWyhcdyspXF0vZywiLiQxIiksYj1iLnJlcGxhY2UoL15cLi8sIiIpO2Zvcih2YXIgYz1iLnNwbGl0KCIuIiksZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jW2RdO2lmKCEoZSBpbiBhKSlyZXR1cm47YT1hW2VdfXJldHVybiBhfSxpLmNvbnZlcnRSb3dzVG9EYXRhPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD1hWzBdLGU9e30sZj1bXTtmb3IoYj0xO2I8YS5sZW5ndGg7YisrKXtmb3IoZT17fSxjPTA7YzxhW2JdLmxlbmd0aDtjKyspe2lmKHAoYVtiXVtjXSkpdGhyb3cgbmV3IEVycm9yKCJTb3VyY2UgZGF0YSBpcyBtaXNzaW5nIGEgY29tcG9uZW50IGF0ICgiK2IrIiwiK2MrIikhIik7ZVtkW2NdXT1hW2JdW2NdfWYucHVzaChlKX1yZXR1cm4gZn0saS5jb252ZXJ0Q29sdW1uc1RvRGF0YT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZT1bXTtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKWZvcihkPWFbYl1bMF0sYz0xO2M8YVtiXS5sZW5ndGg7YysrKXtpZihwKGVbYy0xXSkmJihlW2MtMV09e30pLHAoYVtiXVtjXSkpdGhyb3cgbmV3IEVycm9yKCJTb3VyY2UgZGF0YSBpcyBtaXNzaW5nIGEgY29tcG9uZW50IGF0ICgiK2IrIiwiK2MrIikhIik7ZVtjLTFdW2RdPWFbYl1bY119cmV0dXJuIGV9LGkuY29udmVydERhdGFUb1RhcmdldHM9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXMsZT1kLmNvbmZpZyxmPWQuZDMua2V5cyhhWzBdKS5maWx0ZXIoZC5pc05vdFgsZCksZz1kLmQzLmtleXMoYVswXSkuZmlsdGVyKGQuaXNYLGQpO3JldHVybiBmLmZvckVhY2goZnVuY3Rpb24oYyl7dmFyIGY9ZC5nZXRYS2V5KGMpO2QuaXNDdXN0b21YKCl8fGQuaXNUaW1lU2VyaWVzKCk/Zy5pbmRleE9mKGYpPj0wP2QuZGF0YS54c1tjXT0oYiYmZC5kYXRhLnhzW2NdP2QuZGF0YS54c1tjXTpbXSkuY29uY2F0KGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhW2ZdfSkuZmlsdGVyKG0pLm1hcChmdW5jdGlvbihhLGIpe3JldHVybiBkLmdlbmVyYXRlVGFyZ2V0WChhLGMsYil9KSk6ZS5kYXRhX3g/ZC5kYXRhLnhzW2NdPWQuZ2V0T3RoZXJUYXJnZXRYcygpOnYoZS5kYXRhX3hzKSYmKGQuZGF0YS54c1tjXT1kLmdldFhWYWx1ZXNPZlhLZXkoZixkLmRhdGEudGFyZ2V0cykpOmQuZGF0YS54c1tjXT1hLm1hcChmdW5jdGlvbihhLGIpe3JldHVybiBifSl9KSxmLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoIWQuZGF0YS54c1thXSl0aHJvdyBuZXcgRXJyb3IoJ3ggaXMgbm90IGRlZmluZWQgZm9yIGlkID0gIicrYSsnIi4nKX0pLGM9Zi5tYXAoZnVuY3Rpb24oYixjKXt2YXIgZj1lLmRhdGFfaWRDb252ZXJ0ZXIoYik7cmV0dXJue2lkOmYsaWRfb3JnOmIsdmFsdWVzOmEubWFwKGZ1bmN0aW9uKGEsZyl7dmFyIGgsaT1kLmdldFhLZXkoYiksaj1hW2ldLGs9bnVsbD09PWFbYl18fGlzTmFOKGFbYl0pP251bGw6K2FbYl07cmV0dXJuIGQuaXNDdXN0b21YKCkmJmQuaXNDYXRlZ29yaXplZCgpJiYwPT09YyYmIXAoaik/KDA9PT1jJiYwPT09ZyYmKGUuYXhpc194X2NhdGVnb3JpZXM9W10pLGg9ZS5heGlzX3hfY2F0ZWdvcmllcy5pbmRleE9mKGopLC0xPT09aCYmKGg9ZS5heGlzX3hfY2F0ZWdvcmllcy5sZW5ndGgsZS5heGlzX3hfY2F0ZWdvcmllcy5wdXNoKGopKSk6aD1kLmdlbmVyYXRlVGFyZ2V0WChqLGIsZyksKHAoYVtiXSl8fGQuZGF0YS54c1tiXS5sZW5ndGg8PWcpJiYoaD12b2lkIDApLHt4OmgsdmFsdWU6ayxpZDpmfX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gcShhLngpfSl9fSksYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiO2UuZGF0YV94U29ydCYmKGEudmFsdWVzPWEudmFsdWVzLnNvcnQoZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnh8fDA9PT1hLng/YS54OjEvMCxkPWIueHx8MD09PWIueD9iLng6MS8wO3JldHVybiBjLWR9KSksYj0wLGEudmFsdWVzLmZvckVhY2goZnVuY3Rpb24oYSl7YS5pbmRleD1iKyt9KSxkLmRhdGEueHNbYS5pZF0uc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9KX0pLGQuaGFzTmVnYXRpdmVWYWx1ZT1kLmhhc05lZ2F0aXZlVmFsdWVJblRhcmdldHMoYyksZC5oYXNQb3NpdGl2ZVZhbHVlPWQuaGFzUG9zaXRpdmVWYWx1ZUluVGFyZ2V0cyhjKSxlLmRhdGFfdHlwZSYmZC5zZXRUYXJnZXRUeXBlKGQubWFwVG9JZHMoYykuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEoYSBpbiBlLmRhdGFfdHlwZXMpfSksZS5kYXRhX3R5cGUpLGMuZm9yRWFjaChmdW5jdGlvbihhKXtkLmFkZENhY2hlKGEuaWRfb3JnLGEpfSksY30saS5sb2FkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczthJiYoYi5maWx0ZXImJihhPWEuZmlsdGVyKGIuZmlsdGVyKSksKGIudHlwZXx8Yi50eXBlcykmJmEuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgZD1iLnR5cGVzJiZiLnR5cGVzW2EuaWRdP2IudHlwZXNbYS5pZF06Yi50eXBlO2Muc2V0VGFyZ2V0VHlwZShhLmlkLGQpfSksYy5kYXRhLnRhcmdldHMuZm9yRWFjaChmdW5jdGlvbihiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKylpZihiLmlkPT09YVtjXS5pZCl7Yi52YWx1ZXM9YVtjXS52YWx1ZXMsYS5zcGxpY2UoYywxKTticmVha319KSxjLmRhdGEudGFyZ2V0cz1jLmRhdGEudGFyZ2V0cy5jb25jYXQoYSkpLGMudXBkYXRlVGFyZ2V0cyhjLmRhdGEudGFyZ2V0cyksYy5yZWRyYXcoe3dpdGhVcGRhdGVPcmdYRG9tYWluOiEwLHdpdGhVcGRhdGVYRG9tYWluOiEwLHdpdGhMZWdlbmQ6ITB9KSxiLmRvbmUmJmIuZG9uZSgpfSxpLmxvYWRGcm9tQXJncz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2EuZGF0YT9iLmxvYWQoYi5jb252ZXJ0RGF0YVRvVGFyZ2V0cyhhLmRhdGEpLGEpOmEudXJsP2IuY29udmVydFVybFRvRGF0YShhLnVybCxhLm1pbWVUeXBlLGEuaGVhZGVycyxhLmtleXMsZnVuY3Rpb24oYyl7Yi5sb2FkKGIuY29udmVydERhdGFUb1RhcmdldHMoYyksYSl9KTphLmpzb24/Yi5sb2FkKGIuY29udmVydERhdGFUb1RhcmdldHMoYi5jb252ZXJ0SnNvblRvRGF0YShhLmpzb24sYS5rZXlzKSksYSk6YS5yb3dzP2IubG9hZChiLmNvbnZlcnREYXRhVG9UYXJnZXRzKGIuY29udmVydFJvd3NUb0RhdGEoYS5yb3dzKSksYSk6YS5jb2x1bW5zP2IubG9hZChiLmNvbnZlcnREYXRhVG9UYXJnZXRzKGIuY29udmVydENvbHVtbnNUb0RhdGEoYS5jb2x1bW5zKSksYSk6Yi5sb2FkKG51bGwsYSl9LGkudW5sb2FkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gYnx8KGI9ZnVuY3Rpb24oKXt9KSxhPWEuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBjLmhhc1RhcmdldChjLmRhdGEudGFyZ2V0cyxhKX0pLGEmJjAhPT1hLmxlbmd0aD8oYy5zdmcuc2VsZWN0QWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBjLnNlbGVjdG9yVGFyZ2V0KGEpfSkpLnRyYW5zaXRpb24oKS5zdHlsZSgib3BhY2l0eSIsMCkucmVtb3ZlKCkuY2FsbChjLmVuZGFsbCxiKSx2b2lkIGEuZm9yRWFjaChmdW5jdGlvbihhKXtjLndpdGhvdXRGYWRlSW5bYV09ITEsYy5sZWdlbmQmJmMubGVnZW5kLnNlbGVjdEFsbCgiLiIrbC5sZWdlbmRJdGVtK2MuZ2V0VGFyZ2V0U2VsZWN0b3JTdWZmaXgoYSkpLnJlbW92ZSgpLGMuZGF0YS50YXJnZXRzPWMuZGF0YS50YXJnZXRzLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gYi5pZCE9PWF9KX0pKTp2b2lkIGIoKX0saS5jYXRlZ29yeU5hbWU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jb25maWc7cmV0dXJuIGE8Yi5heGlzX3hfY2F0ZWdvcmllcy5sZW5ndGg/Yi5heGlzX3hfY2F0ZWdvcmllc1thXTphfSxpLmluaXRFdmVudFJlY3Q9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EubWFpbi5zZWxlY3QoIi4iK2wuY2hhcnQpLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixsLmV2ZW50UmVjdHMpLnN0eWxlKCJmaWxsLW9wYWNpdHkiLDApfSxpLnJlZHJhd0V2ZW50UmVjdD1mdW5jdGlvbigpe3ZhciBhLGIsYz10aGlzLGQ9Yy5jb25maWcsZT1jLmlzTXVsdGlwbGVYKCksZj1jLm1haW4uc2VsZWN0KCIuIitsLmV2ZW50UmVjdHMpLnN0eWxlKCJjdXJzb3IiLGQuem9vbV9lbmFibGVkP2QuYXhpc19yb3RhdGVkPyJucy1yZXNpemUiOiJldy1yZXNpemUiOm51bGwpLmNsYXNzZWQobC5ldmVudFJlY3RzTXVsdGlwbGUsZSkuY2xhc3NlZChsLmV2ZW50UmVjdHNTaW5nbGUsIWUpO2Yuc2VsZWN0QWxsKCIuIitsLmV2ZW50UmVjdCkucmVtb3ZlKCksYy5ldmVudFJlY3Q9Zi5zZWxlY3RBbGwoIi4iK2wuZXZlbnRSZWN0KSxlPyhhPWMuZXZlbnRSZWN0LmRhdGEoWzBdKSxjLmdlbmVyYXRlRXZlbnRSZWN0c0Zvck11bHRpcGxlWHMoYS5lbnRlcigpKSxjLnVwZGF0ZUV2ZW50UmVjdChhKSk6KGI9Yy5nZXRNYXhEYXRhQ291bnRUYXJnZXQoYy5kYXRhLnRhcmdldHMpLGYuZGF0dW0oYj9iLnZhbHVlczpbXSksYy5ldmVudFJlY3Q9Zi5zZWxlY3RBbGwoIi4iK2wuZXZlbnRSZWN0KSxhPWMuZXZlbnRSZWN0LmRhdGEoZnVuY3Rpb24oYSl7cmV0dXJuIGF9KSxjLmdlbmVyYXRlRXZlbnRSZWN0c0ZvclNpbmdsZVgoYS5lbnRlcigpKSxjLnVwZGF0ZUV2ZW50UmVjdChhKSxhLmV4aXQoKS5yZW1vdmUoKSl9LGkudXBkYXRlRXZlbnRSZWN0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPXRoaXMsaT1oLmNvbmZpZzthPWF8fGguZXZlbnRSZWN0LmRhdGEoZnVuY3Rpb24oYSl7cmV0dXJuIGF9KSxoLmlzTXVsdGlwbGVYKCk/KGI9MCxjPTAsZD1oLndpZHRoLGU9aC5oZWlnaHQpOighaC5pc0N1c3RvbVgoKSYmIWguaXNUaW1lU2VyaWVzKCl8fGguaXNDYXRlZ29yaXplZCgpPyhmPWguZ2V0RXZlbnRSZWN0V2lkdGgoKSxnPWZ1bmN0aW9uKGEpe3JldHVybiBoLngoYS54KS1mLzJ9KTooaC51cGRhdGVYcygpLGY9ZnVuY3Rpb24oYSl7dmFyIGI9aC5nZXRQcmV2WChhLmluZGV4KSxjPWguZ2V0TmV4dFgoYS5pbmRleCk7cmV0dXJuIG51bGw9PT1iJiZudWxsPT09Yz9pLmF4aXNfcm90YXRlZD9oLmhlaWdodDpoLndpZHRoOihudWxsPT09YiYmKGI9aC54LmRvbWFpbigpWzBdKSxudWxsPT09YyYmKGM9aC54LmRvbWFpbigpWzFdKSxNYXRoLm1heCgwLChoLngoYyktaC54KGIpKS8yKSl9LGc9ZnVuY3Rpb24oYSl7dmFyIGI9aC5nZXRQcmV2WChhLmluZGV4KSxjPWguZ2V0TmV4dFgoYS5pbmRleCksZD1oLmRhdGEueHNbYS5pZF1bYS5pbmRleF07cmV0dXJuIG51bGw9PT1iJiZudWxsPT09Yz8wOihudWxsPT09YiYmKGI9aC54LmRvbWFpbigpWzBdKSwoaC54KGQpK2gueChiKSkvMil9KSxiPWkuYXhpc19yb3RhdGVkPzA6ZyxjPWkuYXhpc19yb3RhdGVkP2c6MCxkPWkuYXhpc19yb3RhdGVkP2gud2lkdGg6ZixlPWkuYXhpc19yb3RhdGVkP2Y6aC5oZWlnaHQpLGEuYXR0cigiY2xhc3MiLGguY2xhc3NFdmVudC5iaW5kKGgpKS5hdHRyKCJ4IixiKS5hdHRyKCJ5IixjKS5hdHRyKCJ3aWR0aCIsZCkuYXR0cigiaGVpZ2h0IixlKX0saS5nZW5lcmF0ZUV2ZW50UmVjdHNGb3JTaW5nbGVYPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmQzLGQ9Yi5jb25maWc7YS5hcHBlbmQoInJlY3QiKS5hdHRyKCJjbGFzcyIsYi5jbGFzc0V2ZW50LmJpbmQoYikpLnN0eWxlKCJjdXJzb3IiLGQuZGF0YV9zZWxlY3Rpb25fZW5hYmxlZCYmZC5kYXRhX3NlbGVjdGlvbl9ncm91cGVkPyJwb2ludGVyIjpudWxsKS5vbigibW91c2VvdmVyIixmdW5jdGlvbihhKXt2YXIgYz1hLmluZGV4O2IuZHJhZ2dpbmd8fGIuZmxvd2luZ3x8Yi5oYXNBcmNUeXBlKCl8fChkLnBvaW50X2ZvY3VzX2V4cGFuZF9lbmFibGVkJiZiLmV4cGFuZENpcmNsZXMoYyxudWxsLCEwKSxiLmV4cGFuZEJhcnMoYyxudWxsLCEwKSxiLm1haW4uc2VsZWN0QWxsKCIuIitsLnNoYXBlKyItIitjKS5lYWNoKGZ1bmN0aW9uKGEpe2QuZGF0YV9vbm1vdXNlb3Zlci5jYWxsKGIuYXBpLGEpfSkpfSkub24oIm1vdXNlb3V0IixmdW5jdGlvbihhKXt2YXIgYz1hLmluZGV4O2IuY29uZmlnJiYoYi5oYXNBcmNUeXBlKCl8fChiLmhpZGVYR3JpZEZvY3VzKCksYi5oaWRlVG9vbHRpcCgpLGIudW5leHBhbmRDaXJjbGVzKCksYi51bmV4cGFuZEJhcnMoKSxiLm1haW4uc2VsZWN0QWxsKCIuIitsLnNoYXBlKyItIitjKS5lYWNoKGZ1bmN0aW9uKGEpe2QuZGF0YV9vbm1vdXNlb3V0LmNhbGwoYi5hcGksYSl9KSkpfSkub24oIm1vdXNlbW92ZSIsZnVuY3Rpb24oYSl7dmFyIGUsZj1hLmluZGV4LGc9Yi5zdmcuc2VsZWN0KCIuIitsLmV2ZW50UmVjdCsiLSIrZik7Yi5kcmFnZ2luZ3x8Yi5mbG93aW5nfHxiLmhhc0FyY1R5cGUoKXx8KGIuaXNTdGVwVHlwZShhKSYmInN0ZXAtYWZ0ZXIiPT09Yi5jb25maWcubGluZV9zdGVwX3R5cGUmJmMubW91c2UodGhpcylbMF08Yi54KGIuZ2V0WFZhbHVlKGEuaWQsZikpJiYoZi09MSksZT1iLmZpbHRlclRhcmdldHNUb1Nob3coYi5kYXRhLnRhcmdldHMpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYi5hZGROYW1lKGIuZ2V0VmFsdWVPbkluZGV4KGEudmFsdWVzLGYpKX0pLGQudG9vbHRpcF9ncm91cGVkJiYoYi5zaG93VG9vbHRpcChlLHRoaXMpLGIuc2hvd1hHcmlkRm9jdXMoZSkpLCghZC50b29sdGlwX2dyb3VwZWR8fGQuZGF0YV9zZWxlY3Rpb25fZW5hYmxlZCYmIWQuZGF0YV9zZWxlY3Rpb25fZ3JvdXBlZCkmJmIubWFpbi5zZWxlY3RBbGwoIi4iK2wuc2hhcGUrIi0iK2YpLmVhY2goZnVuY3Rpb24oKXtjLnNlbGVjdCh0aGlzKS5jbGFzc2VkKGwuRVhQQU5ERUQsITApLGQuZGF0YV9zZWxlY3Rpb25fZW5hYmxlZCYmZy5zdHlsZSgiY3Vyc29yIixkLmRhdGFfc2VsZWN0aW9uX2dyb3VwZWQ/InBvaW50ZXIiOm51bGwpLGQudG9vbHRpcF9ncm91cGVkfHwoYi5oaWRlWEdyaWRGb2N1cygpLGIuaGlkZVRvb2x0aXAoKSxkLmRhdGFfc2VsZWN0aW9uX2dyb3VwZWR8fChiLnVuZXhwYW5kQ2lyY2xlcyhmKSxiLnVuZXhwYW5kQmFycyhmKSkpfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBiLmlzV2l0aGluU2hhcGUodGhpcyxhKX0pLmVhY2goZnVuY3Rpb24oYSl7ZC5kYXRhX3NlbGVjdGlvbl9lbmFibGVkJiYoZC5kYXRhX3NlbGVjdGlvbl9ncm91cGVkfHxkLmRhdGFfc2VsZWN0aW9uX2lzc2VsZWN0YWJsZShhKSkmJmcuc3R5bGUoImN1cnNvciIsInBvaW50ZXIiKSxkLnRvb2x0aXBfZ3JvdXBlZHx8KGIuc2hvd1Rvb2x0aXAoW2FdLHRoaXMpLGIuc2hvd1hHcmlkRm9jdXMoW2FdKSxkLnBvaW50X2ZvY3VzX2V4cGFuZF9lbmFibGVkJiZiLmV4cGFuZENpcmNsZXMoZixhLmlkLCEwKSxiLmV4cGFuZEJhcnMoZixhLmlkLCEwKSl9KSl9KS5vbigiY2xpY2siLGZ1bmN0aW9uKGEpe3ZhciBlPWEuaW5kZXg7aWYoIWIuaGFzQXJjVHlwZSgpJiZiLnRvZ2dsZVNoYXBlKXtpZihiLmNhbmNlbENsaWNrKXJldHVybiB2b2lkKGIuY2FuY2VsQ2xpY2s9ITEpO2IuaXNTdGVwVHlwZShhKSYmInN0ZXAtYWZ0ZXIiPT09ZC5saW5lX3N0ZXBfdHlwZSYmYy5tb3VzZSh0aGlzKVswXTxiLngoYi5nZXRYVmFsdWUoYS5pZCxlKSkmJihlLT0xKSxiLm1haW4uc2VsZWN0QWxsKCIuIitsLnNoYXBlKyItIitlKS5lYWNoKGZ1bmN0aW9uKGEpeyhkLmRhdGFfc2VsZWN0aW9uX2dyb3VwZWR8fGIuaXNXaXRoaW5TaGFwZSh0aGlzLGEpKSYmKGIudG9nZ2xlU2hhcGUodGhpcyxhLGUpLGIuY29uZmlnLmRhdGFfb25jbGljay5jYWxsKGIuYXBpLGEsdGhpcykpfSl9fSkuY2FsbChkLmRhdGFfc2VsZWN0aW9uX2RyYWdnYWJsZSYmYi5kcmFnP2MuYmVoYXZpb3IuZHJhZygpLm9yaWdpbihPYmplY3QpLm9uKCJkcmFnIixmdW5jdGlvbigpe2IuZHJhZyhjLm1vdXNlKHRoaXMpKX0pLm9uKCJkcmFnc3RhcnQiLGZ1bmN0aW9uKCl7Yi5kcmFnc3RhcnQoYy5tb3VzZSh0aGlzKSl9KS5vbigiZHJhZ2VuZCIsZnVuY3Rpb24oKXtiLmRyYWdlbmQoKX0pOmZ1bmN0aW9uKCl7fSl9LGkuZ2VuZXJhdGVFdmVudFJlY3RzRm9yTXVsdGlwbGVYcz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7Yy5zdmcuc2VsZWN0KCIuIitsLmV2ZW50UmVjdCkuc3R5bGUoImN1cnNvciIsbnVsbCksYy5oaWRlWEdyaWRGb2N1cygpLGMuaGlkZVRvb2x0aXAoKSxjLnVuZXhwYW5kQ2lyY2xlcygpLGMudW5leHBhbmRCYXJzKCl9dmFyIGM9dGhpcyxkPWMuZDMsZT1jLmNvbmZpZzthLmFwcGVuZCgicmVjdCIpLmF0dHIoIngiLDApLmF0dHIoInkiLDApLmF0dHIoIndpZHRoIixjLndpZHRoKS5hdHRyKCJoZWlnaHQiLGMuaGVpZ2h0KS5hdHRyKCJjbGFzcyIsbC5ldmVudFJlY3QpLm9uKCJtb3VzZW91dCIsZnVuY3Rpb24oKXtjLmNvbmZpZyYmKGMuaGFzQXJjVHlwZSgpfHxiKCkpfSkub24oIm1vdXNlbW92ZSIsZnVuY3Rpb24oKXt2YXIgYSxmLGcsaCxpPWMuZmlsdGVyVGFyZ2V0c1RvU2hvdyhjLmRhdGEudGFyZ2V0cyk7aWYoIWMuZHJhZ2dpbmcmJiFjLmhhc0FyY1R5cGUoaSkpe2lmKGE9ZC5tb3VzZSh0aGlzKSxmPWMuZmluZENsb3Nlc3RGcm9tVGFyZ2V0cyhpLGEpLCFjLm1vdXNlb3Zlcnx8ZiYmZi5pZD09PWMubW91c2VvdmVyLmlkfHwoZS5kYXRhX29ubW91c2VvdXQuY2FsbChjLmFwaSxjLm1vdXNlb3ZlciksYy5tb3VzZW92ZXI9dm9pZCAwKSwhZilyZXR1cm4gdm9pZCBiKCk7Zz1jLmlzU2NhdHRlclR5cGUoZil8fCFlLnRvb2x0aXBfZ3JvdXBlZD9bZl06Yy5maWx0ZXJCeVgoaSxmLngpLGg9Zy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGMuYWRkTmFtZShhKX0pLGMuc2hvd1Rvb2x0aXAoaCx0aGlzKSxlLnBvaW50X2ZvY3VzX2V4cGFuZF9lbmFibGVkJiZjLmV4cGFuZENpcmNsZXMoZi5pbmRleCxmLmlkLCEwKSxjLmV4cGFuZEJhcnMoZi5pbmRleCxmLmlkLCEwKSxjLnNob3dYR3JpZEZvY3VzKGgpLChjLmlzQmFyVHlwZShmLmlkKXx8Yy5kaXN0KGYsYSk8ZS5wb2ludF9zZW5zaXRpdml0eSkmJihjLnN2Zy5zZWxlY3QoIi4iK2wuZXZlbnRSZWN0KS5zdHlsZSgiY3Vyc29yIiwicG9pbnRlciIpLGMubW91c2VvdmVyfHwoZS5kYXRhX29ubW91c2VvdmVyLmNhbGwoYy5hcGksZiksYy5tb3VzZW92ZXI9ZikpfX0pLm9uKCJjbGljayIsZnVuY3Rpb24oKXt2YXIgYSxiLGY9Yy5maWx0ZXJUYXJnZXRzVG9TaG93KGMuZGF0YS50YXJnZXRzKTtjLmhhc0FyY1R5cGUoZil8fChhPWQubW91c2UodGhpcyksYj1jLmZpbmRDbG9zZXN0RnJvbVRhcmdldHMoZixhKSxiJiYoYy5pc0JhclR5cGUoYi5pZCl8fGMuZGlzdChiLGEpPGUucG9pbnRfc2Vuc2l0aXZpdHkpJiZjLm1haW4uc2VsZWN0QWxsKCIuIitsLnNoYXBlcytjLmdldFRhcmdldFNlbGVjdG9yU3VmZml4KGIuaWQpKS5zZWxlY3RBbGwoIi4iK2wuc2hhcGUrIi0iK2IuaW5kZXgpLmVhY2goZnVuY3Rpb24oKXsoZS5kYXRhX3NlbGVjdGlvbl9ncm91cGVkfHxjLmlzV2l0aGluU2hhcGUodGhpcyxiKSkmJihjLnRvZ2dsZVNoYXBlKHRoaXMsYixiLmluZGV4KSxjLmNvbmZpZy5kYXRhX29uY2xpY2suY2FsbChjLmFwaSxiLHRoaXMpKX0pKX0pLmNhbGwoZS5kYXRhX3NlbGVjdGlvbl9kcmFnZ2FibGUmJmMuZHJhZz9kLmJlaGF2aW9yLmRyYWcoKS5vcmlnaW4oT2JqZWN0KS5vbigiZHJhZyIsZnVuY3Rpb24oKXtjLmRyYWcoZC5tb3VzZSh0aGlzKSl9KS5vbigiZHJhZ3N0YXJ0IixmdW5jdGlvbigpe2MuZHJhZ3N0YXJ0KGQubW91c2UodGhpcykpfSkub24oImRyYWdlbmQiLGZ1bmN0aW9uKCl7Yy5kcmFnZW5kKCl9KTpmdW5jdGlvbigpe30pfSxpLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXRoaXMsZj0iLiIrbC5ldmVudFJlY3QrKGUuaXNNdWx0aXBsZVgoKT8iIjoiLSIrYyksZz1lLm1haW4uc2VsZWN0KGYpLm5vZGUoKSxoPWcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1oLmxlZnQrKGQ/ZFswXTowKSxqPWgudG9wKyhkP2RbMV06MCksaz1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudHMiKTtrLmluaXRNb3VzZUV2ZW50KGIsITAsITAsYSwwLGksaixpLGosITEsITEsITEsITEsMCxudWxsKSxnLmRpc3BhdGNoRXZlbnQoayl9LGkuZ2V0Q3VycmVudFdpZHRoPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnO3JldHVybiBiLnNpemVfd2lkdGg/Yi5zaXplX3dpZHRoOmEuZ2V0UGFyZW50V2lkdGgoKX0saS5nZXRDdXJyZW50SGVpZ2h0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9Yi5zaXplX2hlaWdodD9iLnNpemVfaGVpZ2h0OmEuZ2V0UGFyZW50SGVpZ2h0KCk7cmV0dXJuIGM+MD9jOjMyMC8oYS5oYXNUeXBlKCJnYXVnZSIpJiYhYi5nYXVnZV9mdWxsQ2lyY2xlPzI6MSl9LGkuZ2V0Q3VycmVudFBhZGRpbmdUb3A9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcsYz1tKGIucGFkZGluZ190b3ApP2IucGFkZGluZ190b3A6MDtyZXR1cm4gYS50aXRsZSYmYS50aXRsZS5ub2RlKCkmJihjKz1hLmdldFRpdGxlUGFkZGluZygpKSxjfSxpLmdldEN1cnJlbnRQYWRkaW5nQm90dG9tPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb25maWc7cmV0dXJuIG0oYS5wYWRkaW5nX2JvdHRvbSk/YS5wYWRkaW5nX2JvdHRvbTowfSxpLmdldEN1cnJlbnRQYWRkaW5nTGVmdD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWc7cmV0dXJuIG0oYy5wYWRkaW5nX2xlZnQpP2MucGFkZGluZ19sZWZ0OmMuYXhpc19yb3RhdGVkP2MuYXhpc194X3Nob3c/TWF0aC5tYXgocihiLmdldEF4aXNXaWR0aEJ5QXhpc0lkKCJ4IixhKSksNDApOjE6IWMuYXhpc195X3Nob3d8fGMuYXhpc195X2lubmVyP2IuYXhpcy5nZXRZQXhpc0xhYmVsUG9zaXRpb24oKS5pc091dGVyPzMwOjE6cihiLmdldEF4aXNXaWR0aEJ5QXhpc0lkKCJ5IixhKSl9LGkuZ2V0Q3VycmVudFBhZGRpbmdSaWdodD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZyxjPTEwLGQ9YS5pc0xlZ2VuZFJpZ2h0P2EuZ2V0TGVnZW5kV2lkdGgoKSsyMDowO3JldHVybiBtKGIucGFkZGluZ19yaWdodCk/Yi5wYWRkaW5nX3JpZ2h0KzE6Yi5heGlzX3JvdGF0ZWQ/YytkOiFiLmF4aXNfeTJfc2hvd3x8Yi5heGlzX3kyX2lubmVyPzIrZCsoYS5heGlzLmdldFkyQXhpc0xhYmVsUG9zaXRpb24oKS5pc091dGVyPzIwOjApOnIoYS5nZXRBeGlzV2lkdGhCeUF4aXNJZCgieTIiKSkrZH0saS5nZXRQYXJlbnRSZWN0VmFsdWU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5zZWxlY3RDaGFydC5ub2RlKCk7YyYmIkJPRFkiIT09Yy50YWdOYW1lOyl7dHJ5e2I9Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVthXX1jYXRjaChkKXsid2lkdGgiPT09YSYmKGI9Yy5vZmZzZXRXaWR0aCl9aWYoYilicmVhaztjPWMucGFyZW50Tm9kZX1yZXR1cm4gYn0saS5nZXRQYXJlbnRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBhcmVudFJlY3RWYWx1ZSgid2lkdGgiKX0saS5nZXRQYXJlbnRIZWlnaHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNlbGVjdENoYXJ0LnN0eWxlKCJoZWlnaHQiKTtyZXR1cm4gYS5pbmRleE9mKCJweCIpPjA/K2EucmVwbGFjZSgicHgiLCIiKTowfSxpLmdldFN2Z0xlZnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9Yy5heGlzX3JvdGF0ZWR8fCFjLmF4aXNfcm90YXRlZCYmIWMuYXhpc195X2lubmVyLGU9Yy5heGlzX3JvdGF0ZWQ/bC5heGlzWDpsLmF4aXNZLGY9Yi5tYWluLnNlbGVjdCgiLiIrZSkubm9kZSgpLGc9ZiYmZD9mLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOntyaWdodDowfSxoPWIuc2VsZWN0Q2hhcnQubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9Yi5oYXNBcmNUeXBlKCksaj1nLnJpZ2h0LWgubGVmdC0oaT8wOmIuZ2V0Q3VycmVudFBhZGRpbmdMZWZ0KGEpKTtyZXR1cm4gaj4wP2o6MH0saS5nZXRBeGlzV2lkdGhCeUF4aXNJZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmF4aXMuZ2V0TGFiZWxQb3NpdGlvbkJ5SWQoYSk7cmV0dXJuIGMuYXhpcy5nZXRNYXhUaWNrV2lkdGgoYSxiKSsoZC5pc0lubmVyPzIwOjQwKX0saS5nZXRIb3Jpem9udGFsQXhpc0hlaWdodD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWcsZD0zMDtyZXR1cm4ieCIhPT1hfHxjLmF4aXNfeF9zaG93PyJ4Ij09PWEmJmMuYXhpc194X2hlaWdodD9jLmF4aXNfeF9oZWlnaHQ6InkiIT09YXx8Yy5heGlzX3lfc2hvdz8ieTIiIT09YXx8Yy5heGlzX3kyX3Nob3c/KCJ4Ij09PWEmJiFjLmF4aXNfcm90YXRlZCYmYy5heGlzX3hfdGlja19yb3RhdGUmJihkPTMwK2IuYXhpcy5nZXRNYXhUaWNrV2lkdGgoYSkqTWF0aC5jb3MoTWF0aC5QSSooOTAtYy5heGlzX3hfdGlja19yb3RhdGUpLzE4MCkpLCJ5Ij09PWEmJmMuYXhpc19yb3RhdGVkJiZjLmF4aXNfeV90aWNrX3JvdGF0ZSYmKGQ9MzArYi5heGlzLmdldE1heFRpY2tXaWR0aChhKSpNYXRoLmNvcyhNYXRoLlBJKig5MC1jLmF4aXNfeV90aWNrX3JvdGF0ZSkvMTgwKSksZCsoYi5heGlzLmdldExhYmVsUG9zaXRpb25CeUlkKGEpLmlzSW5uZXI/MDoxMCkrKCJ5MiI9PT1hPy0xMDowKSk6Yi5yb3RhdGVkX3BhZGRpbmdfdG9wOiFjLmxlZ2VuZF9zaG93fHxiLmlzTGVnZW5kUmlnaHR8fGIuaXNMZWdlbmRJbnNldD8xOjEwOjh9LGkuZ2V0RXZlbnRSZWN0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgoMCx0aGlzLnhBeGlzLnRpY2tJbnRlcnZhbCgpKX0saS5nZXRTaGFwZUluZGljZXM9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXRoaXMsZT1kLmNvbmZpZyxmPXt9LGc9MDtyZXR1cm4gZC5maWx0ZXJUYXJnZXRzVG9TaG93KGQuZGF0YS50YXJnZXRzLmZpbHRlcihhLGQpKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2ZvcihiPTA7YjxlLmRhdGFfZ3JvdXBzLmxlbmd0aDtiKyspaWYoIShlLmRhdGFfZ3JvdXBzW2JdLmluZGV4T2YoYS5pZCk8MCkpZm9yKGM9MDtjPGUuZGF0YV9ncm91cHNbYl0ubGVuZ3RoO2MrKylpZihlLmRhdGFfZ3JvdXBzW2JdW2NdaW4gZil7ZlthLmlkXT1mW2UuZGF0YV9ncm91cHNbYl1bY11dO2JyZWFrfXAoZlthLmlkXSkmJihmW2EuaWRdPWcrKyl9KSxmLl9fbWF4X189Zy0xLGZ9LGkuZ2V0U2hhcGVYPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMsZj1kP2Uuc3ViWDplLng7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWQuaWQgaW4gYz9jW2QuaWRdOjA7cmV0dXJuIGQueHx8MD09PWQueD9mKGQueCktYSooYi8yLWUpOjB9fSxpLmdldFNoYXBlWT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBmdW5jdGlvbihjKXt2YXIgZD1hP2IuZ2V0U3ViWVNjYWxlKGMuaWQpOmIuZ2V0WVNjYWxlKGMuaWQpO3JldHVybiBkKGMudmFsdWUpfX0saS5nZXRTaGFwZU9mZnNldD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcyxlPWQub3JkZXJUYXJnZXRzKGQuZmlsdGVyVGFyZ2V0c1RvU2hvdyhkLmRhdGEudGFyZ2V0cy5maWx0ZXIoYSxkKSkpLGY9ZS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KTtyZXR1cm4gZnVuY3Rpb24oYSxnKXt2YXIgaD1jP2QuZ2V0U3ViWVNjYWxlKGEuaWQpOmQuZ2V0WVNjYWxlKGEuaWQpLGk9aCgwKSxqPWk7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihjKXt2YXIgZT1kLmlzU3RlcFR5cGUoYSk/ZC5jb252ZXJ0VmFsdWVzVG9TdGVwKGMudmFsdWVzKTpjLnZhbHVlcztjLmlkIT09YS5pZCYmYltjLmlkXT09PWJbYS5pZF0mJmYuaW5kZXhPZihjLmlkKTxmLmluZGV4T2YoYS5pZCkmJigidW5kZWZpbmVkIiE9dHlwZW9mIGVbZ10mJitlW2ddLng9PT0rYS54fHwoZz0tMSxlLmZvckVhY2goZnVuY3Rpb24oYixjKXtiLng9PT1hLngmJihnPWMpfSkpLGcgaW4gZSYmZVtnXS52YWx1ZSphLnZhbHVlPj0wJiYoais9aChlW2ddLnZhbHVlKS1pKSl9KSxqfX0saS5pc1dpdGhpblNoYXBlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD10aGlzLGU9ZC5kMy5zZWxlY3QoYSk7cmV0dXJuIGQuaXNUYXJnZXRUb1Nob3coYi5pZCk/ImNpcmNsZSI9PT1hLm5vZGVOYW1lP2M9ZC5pc1N0ZXBUeXBlKGIpP2QuaXNXaXRoaW5TdGVwKGEsZC5nZXRZU2NhbGUoYi5pZCkoYi52YWx1ZSkpOmQuaXNXaXRoaW5DaXJjbGUoYSwxLjUqZC5wb2ludFNlbGVjdFIoYikpOiJwYXRoIj09PWEubm9kZU5hbWUmJihjPWUuY2xhc3NlZChsLmJhcik/ZC5pc1dpdGhpbkJhcihhKTohMCk6Yz0hMSxjfSxpLmdldEludGVycG9sYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmlzSW50ZXJwb2xhdGlvblR5cGUoYi5jb25maWcuc3BsaW5lX2ludGVycG9sYXRpb25fdHlwZSk/Yi5jb25maWcuc3BsaW5lX2ludGVycG9sYXRpb25fdHlwZToiY2FyZGluYWwiO3JldHVybiBiLmlzU3BsaW5lVHlwZShhKT9jOmIuaXNTdGVwVHlwZShhKT9iLmNvbmZpZy5saW5lX3N0ZXBfdHlwZToibGluZWFyIn0saS5pbml0TGluZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5tYWluLnNlbGVjdCgiLiIrbC5jaGFydCkuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLGwuY2hhcnRMaW5lcyl9LGkudXBkYXRlVGFyZ2V0c0ZvckxpbmU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXRoaXMsZT1kLmNvbmZpZyxmPWQuY2xhc3NDaGFydExpbmUuYmluZChkKSxnPWQuY2xhc3NMaW5lcy5iaW5kKGQpLGg9ZC5jbGFzc0FyZWFzLmJpbmQoZCksaT1kLmNsYXNzQ2lyY2xlcy5iaW5kKGQpLGo9ZC5jbGFzc0ZvY3VzLmJpbmQoZCk7Yj1kLm1haW4uc2VsZWN0KCIuIitsLmNoYXJ0TGluZXMpLnNlbGVjdEFsbCgiLiIrbC5jaGFydExpbmUpLmRhdGEoYSkuYXR0cigiY2xhc3MiLGZ1bmN0aW9uKGEpe3JldHVybiBmKGEpK2ooYSl9KSxjPWIuZW50ZXIoKS5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsZikuc3R5bGUoIm9wYWNpdHkiLDApLnN0eWxlKCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKSxjLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixnKSxjLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixoKSxjLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixmdW5jdGlvbihhKXtyZXR1cm4gZC5nZW5lcmF0ZUNsYXNzKGwuc2VsZWN0ZWRDaXJjbGVzLGEuaWQpfSksYy5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsaSkuc3R5bGUoImN1cnNvciIsZnVuY3Rpb24oYSl7cmV0dXJuIGUuZGF0YV9zZWxlY3Rpb25faXNzZWxlY3RhYmxlKGEpPyJwb2ludGVyIjpudWxsfSksYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2QubWFpbi5zZWxlY3RBbGwoIi4iK2wuc2VsZWN0ZWRDaXJjbGVzK2QuZ2V0VGFyZ2V0U2VsZWN0b3JTdWZmaXgoYS5pZCkpLnNlbGVjdEFsbCgiLiIrbC5zZWxlY3RlZENpcmNsZSkuZWFjaChmdW5jdGlvbihiKXtiLnZhbHVlPWEudmFsdWVzW2IuaW5kZXhdLnZhbHVlfSl9KX0saS51cGRhdGVMaW5lPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5tYWluTGluZT1iLm1haW4uc2VsZWN0QWxsKCIuIitsLmxpbmVzKS5zZWxlY3RBbGwoIi4iK2wubGluZSkuZGF0YShiLmxpbmVEYXRhLmJpbmQoYikpLGIubWFpbkxpbmUuZW50ZXIoKS5hcHBlbmQoInBhdGgiKS5hdHRyKCJjbGFzcyIsYi5jbGFzc0xpbmUuYmluZChiKSkuc3R5bGUoInN0cm9rZSIsYi5jb2xvciksYi5tYWluTGluZS5zdHlsZSgib3BhY2l0eSIsYi5pbml0aWFsT3BhY2l0eS5iaW5kKGIpKS5zdHlsZSgic2hhcGUtcmVuZGVyaW5nIixmdW5jdGlvbihhKXtyZXR1cm4gYi5pc1N0ZXBUeXBlKGEpPyJjcmlzcEVkZ2VzIjoiIn0pLmF0dHIoInRyYW5zZm9ybSIsbnVsbCksYi5tYWluTGluZS5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLnN0eWxlKCJvcGFjaXR5IiwwKS5yZW1vdmUoKX0saS5yZWRyYXdMaW5lPWZ1bmN0aW9uKGEsYil7cmV0dXJuWyhiP3RoaXMubWFpbkxpbmUudHJhbnNpdGlvbihNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkpOnRoaXMubWFpbkxpbmUpLmF0dHIoImQiLGEpLnN0eWxlKCJzdHJva2UiLHRoaXMuY29sb3IpLnN0eWxlKCJvcGFjaXR5IiwxKV19LGkuZ2VuZXJhdGVEcmF3TGluZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNvbmZpZyxlPWMuZDMuc3ZnLmxpbmUoKSxmPWMuZ2VuZXJhdGVHZXRMaW5lUG9pbnRzKGEsYiksZz1iP2MuZ2V0U3ViWVNjYWxlOmMuZ2V0WVNjYWxlLGg9ZnVuY3Rpb24oYSl7cmV0dXJuKGI/Yy5zdWJ4eDpjLnh4KS5jYWxsKGMsYSl9LGk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZC5kYXRhX2dyb3Vwcy5sZW5ndGg+MD9mKGEsYilbMF1bMV06Zy5jYWxsKGMsYS5pZCkoYS52YWx1ZSl9O3JldHVybiBlPWQuYXhpc19yb3RhdGVkP2UueChpKS55KGgpOmUueChoKS55KGkpLGQubGluZV9jb25uZWN0TnVsbHx8KGU9ZS5kZWZpbmVkKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLnZhbHVlfSkpLGZ1bmN0aW9uKGEpe3ZhciBmLGg9ZC5saW5lX2Nvbm5lY3ROdWxsP2MuZmlsdGVyUmVtb3ZlTnVsbChhLnZhbHVlcyk6YS52YWx1ZXMsaT1iP2MueDpjLnN1Ylgsaj1nLmNhbGwoYyxhLmlkKSxrPTAsbD0wO3JldHVybiBjLmlzTGluZVR5cGUoYSk/ZC5kYXRhX3JlZ2lvbnNbYS5pZF0/Zj1jLmxpbmVXaXRoUmVnaW9ucyhoLGksaixkLmRhdGFfcmVnaW9uc1thLmlkXSk6KGMuaXNTdGVwVHlwZShhKSYmKGg9Yy5jb252ZXJ0VmFsdWVzVG9TdGVwKGgpKSxmPWUuaW50ZXJwb2xhdGUoYy5nZXRJbnRlcnBvbGF0ZShhKSkoaCkpOihoWzBdJiYoaz1pKGhbMF0ueCksbD1qKGhbMF0udmFsdWUpKSxmPWQuYXhpc19yb3RhdGVkPyJNICIrbCsiICIrazoiTSAiK2srIiAiK2wpLGY/ZjoiTSAwIDAifX0saS5nZW5lcmF0ZUdldExpbmVQb2ludHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5jb25maWcsZT1hLl9fbWF4X18rMSxmPWMuZ2V0U2hhcGVYKDAsZSxhLCEhYiksZz1jLmdldFNoYXBlWSghIWIpLGg9Yy5nZXRTaGFwZU9mZnNldChjLmlzTGluZVR5cGUsYSwhIWIpLGk9Yj9jLmdldFN1YllTY2FsZTpjLmdldFlTY2FsZTtyZXR1cm4gZnVuY3Rpb24oYSxiKXt2YXIgZT1pLmNhbGwoYyxhLmlkKSgwKSxqPWgoYSxiKXx8ZSxrPWYoYSksbD1nKGEpO3JldHVybiBkLmF4aXNfcm90YXRlZCYmKDA8YS52YWx1ZSYmZT5sfHxhLnZhbHVlPDAmJmw+ZSkmJihsPWUpLFtbayxsLShlLWopXSxbayxsLShlLWopXSxbayxsLShlLWopXSxbayxsLShlLWopXV19fSxpLmxpbmVXaXRoUmVnaW9ucz1mdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEsYil7dmFyIGM7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKylpZihiW2NdLnN0YXJ0PGEmJmE8PWJbY10uZW5kKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIk0iK2FbMF1bMF0rIiAiK2FbMF1bMV0rIiAiK2FbMV1bMF0rIiAiK2FbMV1bMV19dmFyIGcsaCxpLGosayxsLG0sbixvLHIscyx0LHU9dGhpcyx2PXUuY29uZmlnLHc9LTEseD0iTSIseT11LmlzQ2F0ZWdvcml6ZWQoKT8uNTowLHo9W107aWYocShkKSlmb3IoZz0wO2c8ZC5sZW5ndGg7ZysrKXpbZ109e30scChkW2ddLnN0YXJ0KT96W2ddLnN0YXJ0PWFbMF0ueDp6W2ddLnN0YXJ0PXUuaXNUaW1lU2VyaWVzKCk/dS5wYXJzZURhdGUoZFtnXS5zdGFydCk6ZFtnXS5zdGFydCxwKGRbZ10uZW5kKT96W2ddLmVuZD1hW2EubGVuZ3RoLTFdLng6eltnXS5lbmQ9dS5pc1RpbWVTZXJpZXMoKT91LnBhcnNlRGF0ZShkW2ddLmVuZCk6ZFtnXS5lbmQ7Zm9yKHM9di5heGlzX3JvdGF0ZWQ/ZnVuY3Rpb24oYSl7cmV0dXJuIGMoYS52YWx1ZSl9OmZ1bmN0aW9uKGEpe3JldHVybiBiKGEueCl9LHQ9di5heGlzX3JvdGF0ZWQ/ZnVuY3Rpb24oYSl7cmV0dXJuIGIoYS54KX06ZnVuY3Rpb24oYSl7cmV0dXJuIGMoYS52YWx1ZSl9LGk9dS5pc1RpbWVTZXJpZXMoKT9mdW5jdGlvbihhLGQsZSxnKXt2YXIgaCxpPWEueC5nZXRUaW1lKCksaj1kLngtYS54LGw9bmV3IERhdGUoaStqKmUpLG09bmV3IERhdGUoaStqKihlK2cpKTtyZXR1cm4gaD12LmF4aXNfcm90YXRlZD9bW2MoayhlKSksYihsKV0sW2MoayhlK2cpKSxiKG0pXV06W1tiKGwpLGMoayhlKSldLFtiKG0pLGMoayhlK2cpKV1dLGYoaCl9OmZ1bmN0aW9uKGEsZCxlLGcpe3ZhciBoO3JldHVybiBoPXYuYXhpc19yb3RhdGVkP1tbYyhrKGUpLCEwKSxiKGooZSkpXSxbYyhrKGUrZyksITApLGIoaihlK2cpKV1dOltbYihqKGUpLCEwKSxjKGsoZSkpXSxbYihqKGUrZyksITApLGMoayhlK2cpKV1dLGYoaCl9LGc9MDtnPGEubGVuZ3RoO2crKyl7aWYocCh6KXx8IWUoYVtnXS54LHopKXgrPSIgIitzKGFbZ10pKyIgIit0KGFbZ10pO2Vsc2UgZm9yKGo9dS5nZXRTY2FsZShhW2ctMV0ueCt5LGFbZ10ueCt5LHUuaXNUaW1lU2VyaWVzKCkpLGs9dS5nZXRTY2FsZShhW2ctMV0udmFsdWUsYVtnXS52YWx1ZSksbD1iKGFbZ10ueCktYihhW2ctMV0ueCksbT1jKGFbZ10udmFsdWUpLWMoYVtnLTFdLnZhbHVlKSxuPU1hdGguc3FydChNYXRoLnBvdyhsLDIpK01hdGgucG93KG0sMikpLG89Mi9uLHI9MipvLGg9bzsxPj1oO2grPXIpeCs9aShhW2ctMV0sYVtnXSxoLG8pO3c9YVtnXS54fXJldHVybiB4fSxpLnVwZGF0ZUFyZWE9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuZDM7Yi5tYWluQXJlYT1iLm1haW4uc2VsZWN0QWxsKCIuIitsLmFyZWFzKS5zZWxlY3RBbGwoIi4iK2wuYXJlYSkuZGF0YShiLmxpbmVEYXRhLmJpbmQoYikpLGIubWFpbkFyZWEuZW50ZXIoKS5hcHBlbmQoInBhdGgiKS5hdHRyKCJjbGFzcyIsYi5jbGFzc0FyZWEuYmluZChiKSkuc3R5bGUoImZpbGwiLGIuY29sb3IpLnN0eWxlKCJvcGFjaXR5IixmdW5jdGlvbigpe3JldHVybiBiLm9yZ0FyZWFPcGFjaXR5PStjLnNlbGVjdCh0aGlzKS5zdHlsZSgib3BhY2l0eSIpLDB9KSxiLm1haW5BcmVhLnN0eWxlKCJvcGFjaXR5IixiLm9yZ0FyZWFPcGFjaXR5KSxiLm1haW5BcmVhLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oYSkuc3R5bGUoIm9wYWNpdHkiLDApLnJlbW92ZSgpfSxpLnJlZHJhd0FyZWE9ZnVuY3Rpb24oYSxiKXtyZXR1cm5bKGI/dGhpcy5tYWluQXJlYS50cmFuc2l0aW9uKE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKSk6dGhpcy5tYWluQXJlYSkuYXR0cigiZCIsYSkuc3R5bGUoImZpbGwiLHRoaXMuY29sb3IpLnN0eWxlKCJvcGFjaXR5Iix0aGlzLm9yZ0FyZWFPcGFjaXR5KV19LGkuZ2VuZXJhdGVEcmF3QXJlYT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNvbmZpZyxlPWMuZDMuc3ZnLmFyZWEoKSxmPWMuZ2VuZXJhdGVHZXRBcmVhUG9pbnRzKGEsYiksZz1iP2MuZ2V0U3ViWVNjYWxlOmMuZ2V0WVNjYWxlLGg9ZnVuY3Rpb24oYSl7cmV0dXJuKGI/Yy5zdWJ4eDpjLnh4KS5jYWxsKGMsYSl9LGk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZC5kYXRhX2dyb3Vwcy5sZW5ndGg+MD9mKGEsYilbMF1bMV06Zy5jYWxsKGMsYS5pZCkoYy5nZXRBcmVhQmFzZVZhbHVlKGEuaWQpKX0saj1mdW5jdGlvbihhLGIpe3JldHVybiBkLmRhdGFfZ3JvdXBzLmxlbmd0aD4wP2YoYSxiKVsxXVsxXTpnLmNhbGwoYyxhLmlkKShhLnZhbHVlKX07cmV0dXJuIGU9ZC5heGlzX3JvdGF0ZWQ/ZS54MChpKS54MShqKS55KGgpOmUueChoKS55MChkLmFyZWFfYWJvdmU/MDppKS55MShqKSxkLmxpbmVfY29ubmVjdE51bGx8fChlPWUuZGVmaW5lZChmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9PWEudmFsdWV9KSksZnVuY3Rpb24oYSl7dmFyIGIsZj1kLmxpbmVfY29ubmVjdE51bGw/Yy5maWx0ZXJSZW1vdmVOdWxsKGEudmFsdWVzKTphLnZhbHVlcyxnPTAsaD0wO3JldHVybiBjLmlzQXJlYVR5cGUoYSk/KGMuaXNTdGVwVHlwZShhKSYmKGY9Yy5jb252ZXJ0VmFsdWVzVG9TdGVwKGYpKSxiPWUuaW50ZXJwb2xhdGUoYy5nZXRJbnRlcnBvbGF0ZShhKSkoZikpOihmWzBdJiYoZz1jLngoZlswXS54KSxoPWMuZ2V0WVNjYWxlKGEuaWQpKGZbMF0udmFsdWUpKSxiPWQuYXhpc19yb3RhdGVkPyJNICIraCsiICIrZzoiTSAiK2crIiAiK2gpLGI/YjoiTSAwIDAifX0saS5nZXRBcmVhQmFzZVZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGkuZ2VuZXJhdGVHZXRBcmVhUG9pbnRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnLGU9YS5fX21heF9fKzEsZj1jLmdldFNoYXBlWCgwLGUsYSwhIWIpLGc9Yy5nZXRTaGFwZVkoISFiKSxoPWMuZ2V0U2hhcGVPZmZzZXQoYy5pc0FyZWFUeXBlLGEsISFiKSxpPWI/Yy5nZXRTdWJZU2NhbGU6Yy5nZXRZU2NhbGU7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dmFyIGU9aS5jYWxsKGMsYS5pZCkoMCksaj1oKGEsYil8fGUsaz1mKGEpLGw9ZyhhKTtyZXR1cm4gZC5heGlzX3JvdGF0ZWQmJigwPGEudmFsdWUmJmU+bHx8YS52YWx1ZTwwJiZsPmUpJiYobD1lKSxbW2ssal0sW2ssbC0oZS1qKV0sW2ssbC0oZS1qKV0sW2ssal1dfX0saS51cGRhdGVDaXJjbGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EubWFpbkNpcmNsZT1hLm1haW4uc2VsZWN0QWxsKCIuIitsLmNpcmNsZXMpLnNlbGVjdEFsbCgiLiIrbC5jaXJjbGUpLmRhdGEoYS5saW5lT3JTY2F0dGVyRGF0YS5iaW5kKGEpKSxhLm1haW5DaXJjbGUuZW50ZXIoKS5hcHBlbmQoImNpcmNsZSIpLmF0dHIoImNsYXNzIixhLmNsYXNzQ2lyY2xlLmJpbmQoYSkpLmF0dHIoInIiLGEucG9pbnRSLmJpbmQoYSkpLnN0eWxlKCJmaWxsIixhLmNvbG9yKSxhLm1haW5DaXJjbGUuc3R5bGUoIm9wYWNpdHkiLGEuaW5pdGlhbE9wYWNpdHlGb3JDaXJjbGUuYmluZChhKSksYS5tYWluQ2lyY2xlLmV4aXQoKS5yZW1vdmUoKX0saS5yZWRyYXdDaXJjbGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMubWFpbi5zZWxlY3RBbGwoIi4iK2wuc2VsZWN0ZWRDaXJjbGUpO3JldHVyblsoYz90aGlzLm1haW5DaXJjbGUudHJhbnNpdGlvbihNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkpOnRoaXMubWFpbkNpcmNsZSkuc3R5bGUoIm9wYWNpdHkiLHRoaXMub3BhY2l0eUZvckNpcmNsZS5iaW5kKHRoaXMpKS5zdHlsZSgiZmlsbCIsdGhpcy5jb2xvcikuYXR0cigiY3giLGEpLmF0dHIoImN5IixiKSwoYz9kLnRyYW5zaXRpb24oTWF0aC5yYW5kb20oKS50b1N0cmluZygpKTpkKS5hdHRyKCJjeCIsYSkuYXR0cigiY3kiLGIpXX0saS5jaXJjbGVYPWZ1bmN0aW9uKGEpe3JldHVybiBhLnh8fDA9PT1hLng/dGhpcy54KGEueCk6bnVsbH0saS51cGRhdGVDaXJjbGVZPWZ1bmN0aW9uKCl7dmFyIGEsYixjPXRoaXM7Yy5jb25maWcuZGF0YV9ncm91cHMubGVuZ3RoPjA/KGE9Yy5nZXRTaGFwZUluZGljZXMoYy5pc0xpbmVUeXBlKSxiPWMuZ2VuZXJhdGVHZXRMaW5lUG9pbnRzKGEpLGMuY2lyY2xlWT1mdW5jdGlvbihhLGMpe3JldHVybiBiKGEsYylbMF1bMV19KTpjLmNpcmNsZVk9ZnVuY3Rpb24oYSl7cmV0dXJuIGMuZ2V0WVNjYWxlKGEuaWQpKGEudmFsdWUpfX0saS5nZXRDaXJjbGVzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4oYj9jLm1haW4uc2VsZWN0QWxsKCIuIitsLmNpcmNsZXMrYy5nZXRUYXJnZXRTZWxlY3RvclN1ZmZpeChiKSk6Yy5tYWluKS5zZWxlY3RBbGwoIi4iK2wuY2lyY2xlKyhtKGEpPyItIithOiIiKSl9LGkuZXhwYW5kQ2lyY2xlcz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcyxlPWQucG9pbnRFeHBhbmRlZFIuYmluZChkKTtjJiZkLnVuZXhwYW5kQ2lyY2xlcygpLGQuZ2V0Q2lyY2xlcyhhLGIpLmNsYXNzZWQobC5FWFBBTkRFRCwhMCkuYXR0cigiciIsZSl9LGkudW5leHBhbmRDaXJjbGVzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLnBvaW50Ui5iaW5kKGIpO2IuZ2V0Q2lyY2xlcyhhKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gYi5kMy5zZWxlY3QodGhpcykuY2xhc3NlZChsLkVYUEFOREVEKX0pLmNsYXNzZWQobC5FWFBBTkRFRCwhMSkuYXR0cigiciIsYyl9LGkucG9pbnRSPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztyZXR1cm4gYi5pc1N0ZXBUeXBlKGEpPzA6bihjLnBvaW50X3IpP2MucG9pbnRfcihhKTpjLnBvaW50X3I7DQp9LGkucG9pbnRFeHBhbmRlZFI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnO3JldHVybiBjLnBvaW50X2ZvY3VzX2V4cGFuZF9lbmFibGVkP2MucG9pbnRfZm9jdXNfZXhwYW5kX3I/Yy5wb2ludF9mb2N1c19leHBhbmRfcjoxLjc1KmIucG9pbnRSKGEpOmIucG9pbnRSKGEpfSxpLnBvaW50U2VsZWN0Uj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWc7cmV0dXJuIG4oYy5wb2ludF9zZWxlY3Rfcik/Yy5wb2ludF9zZWxlY3RfcihhKTpjLnBvaW50X3NlbGVjdF9yP2MucG9pbnRfc2VsZWN0X3I6NCpiLnBvaW50UihhKX0saS5pc1dpdGhpbkNpcmNsZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZDMsZD1jLm1vdXNlKGEpLGU9Yy5zZWxlY3QoYSksZj0rZS5hdHRyKCJjeCIpLGc9K2UuYXR0cigiY3kiKTtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGYtZFswXSwyKStNYXRoLnBvdyhnLWRbMV0sMikpPGJ9LGkuaXNXaXRoaW5TdGVwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE1hdGguYWJzKGItdGhpcy5kMy5tb3VzZShhKVsxXSk8MzB9LGkuaW5pdEJhcj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5tYWluLnNlbGVjdCgiLiIrbC5jaGFydCkuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLGwuY2hhcnRCYXJzKX0saS51cGRhdGVUYXJnZXRzRm9yQmFyPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLGU9ZC5jb25maWcsZj1kLmNsYXNzQ2hhcnRCYXIuYmluZChkKSxnPWQuY2xhc3NCYXJzLmJpbmQoZCksaD1kLmNsYXNzRm9jdXMuYmluZChkKTtiPWQubWFpbi5zZWxlY3QoIi4iK2wuY2hhcnRCYXJzKS5zZWxlY3RBbGwoIi4iK2wuY2hhcnRCYXIpLmRhdGEoYSkuYXR0cigiY2xhc3MiLGZ1bmN0aW9uKGEpe3JldHVybiBmKGEpK2goYSl9KSxjPWIuZW50ZXIoKS5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsZikuc3R5bGUoIm9wYWNpdHkiLDApLnN0eWxlKCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKSxjLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixnKS5zdHlsZSgiY3Vyc29yIixmdW5jdGlvbihhKXtyZXR1cm4gZS5kYXRhX3NlbGVjdGlvbl9pc3NlbGVjdGFibGUoYSk/InBvaW50ZXIiOm51bGx9KX0saS51cGRhdGVCYXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuYmFyRGF0YS5iaW5kKGIpLGQ9Yi5jbGFzc0Jhci5iaW5kKGIpLGU9Yi5pbml0aWFsT3BhY2l0eS5iaW5kKGIpLGY9ZnVuY3Rpb24oYSl7cmV0dXJuIGIuY29sb3IoYS5pZCl9O2IubWFpbkJhcj1iLm1haW4uc2VsZWN0QWxsKCIuIitsLmJhcnMpLnNlbGVjdEFsbCgiLiIrbC5iYXIpLmRhdGEoYyksYi5tYWluQmFyLmVudGVyKCkuYXBwZW5kKCJwYXRoIikuYXR0cigiY2xhc3MiLGQpLnN0eWxlKCJzdHJva2UiLGYpLnN0eWxlKCJmaWxsIixmKSxiLm1haW5CYXIuc3R5bGUoIm9wYWNpdHkiLGUpLGIubWFpbkJhci5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLnN0eWxlKCJvcGFjaXR5IiwwKS5yZW1vdmUoKX0saS5yZWRyYXdCYXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm5bKGI/dGhpcy5tYWluQmFyLnRyYW5zaXRpb24oTWF0aC5yYW5kb20oKS50b1N0cmluZygpKTp0aGlzLm1haW5CYXIpLmF0dHIoImQiLGEpLnN0eWxlKCJmaWxsIix0aGlzLmNvbG9yKS5zdHlsZSgib3BhY2l0eSIsMSldfSxpLmdldEJhclc9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5jb25maWcsZT0ibnVtYmVyIj09dHlwZW9mIGQuYmFyX3dpZHRoP2QuYmFyX3dpZHRoOmI/YS50aWNrSW50ZXJ2YWwoKSpkLmJhcl93aWR0aF9yYXRpby9iOjA7cmV0dXJuIGQuYmFyX3dpZHRoX21heCYmZT5kLmJhcl93aWR0aF9tYXg/ZC5iYXJfd2lkdGhfbWF4OmV9LGkuZ2V0QmFycz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuKGI/Yy5tYWluLnNlbGVjdEFsbCgiLiIrbC5iYXJzK2MuZ2V0VGFyZ2V0U2VsZWN0b3JTdWZmaXgoYikpOmMubWFpbikuc2VsZWN0QWxsKCIuIitsLmJhcisobShhKT8iLSIrYToiIikpfSxpLmV4cGFuZEJhcnM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXM7YyYmZC51bmV4cGFuZEJhcnMoKSxkLmdldEJhcnMoYSxiKS5jbGFzc2VkKGwuRVhQQU5ERUQsITApfSxpLnVuZXhwYW5kQmFycz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuZ2V0QmFycyhhKS5jbGFzc2VkKGwuRVhQQU5ERUQsITEpfSxpLmdlbmVyYXRlRHJhd0Jhcj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNvbmZpZyxlPWMuZ2VuZXJhdGVHZXRCYXJQb2ludHMoYSxiKTtyZXR1cm4gZnVuY3Rpb24oYSxiKXt2YXIgYz1lKGEsYiksZj1kLmF4aXNfcm90YXRlZD8xOjAsZz1kLmF4aXNfcm90YXRlZD8wOjEsaD0iTSAiK2NbMF1bZl0rIiwiK2NbMF1bZ10rIiBMIitjWzFdW2ZdKyIsIitjWzFdW2ddKyIgTCIrY1syXVtmXSsiLCIrY1syXVtnXSsiIEwiK2NbM11bZl0rIiwiK2NbM11bZ10rIiB6IjtyZXR1cm4gaH19LGkuZ2VuZXJhdGVHZXRCYXJQb2ludHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yj9jLnN1YlhBeGlzOmMueEF4aXMsZT1hLl9fbWF4X18rMSxmPWMuZ2V0QmFyVyhkLGUpLGc9Yy5nZXRTaGFwZVgoZixlLGEsISFiKSxoPWMuZ2V0U2hhcGVZKCEhYiksaT1jLmdldFNoYXBlT2Zmc2V0KGMuaXNCYXJUeXBlLGEsISFiKSxqPWI/Yy5nZXRTdWJZU2NhbGU6Yy5nZXRZU2NhbGU7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dmFyIGQ9ai5jYWxsKGMsYS5pZCkoMCksZT1pKGEsYil8fGQsaz1nKGEpLGw9aChhKTtyZXR1cm4gYy5jb25maWcuYXhpc19yb3RhdGVkJiYoMDxhLnZhbHVlJiZkPmx8fGEudmFsdWU8MCYmbD5kKSYmKGw9ZCksW1trLGVdLFtrLGwtKGQtZSldLFtrK2YsbC0oZC1lKV0sW2srZixlXV19fSxpLmlzV2l0aGluQmFyPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZDMubW91c2UoYSksYz1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGQ9YS5wYXRoU2VnTGlzdC5nZXRJdGVtKDApLGU9YS5wYXRoU2VnTGlzdC5nZXRJdGVtKDEpLGY9TWF0aC5taW4oZC54LGUueCksZz1NYXRoLm1pbihkLnksZS55KSxoPWMud2lkdGgsaT1jLmhlaWdodCxqPTIsaz1mLWosbD1mK2graixtPWcraStqLG49Zy1qO3JldHVybiBrPGJbMF0mJmJbMF08bCYmbjxiWzFdJiZiWzFdPG19LGkuaW5pdFRleHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EubWFpbi5zZWxlY3QoIi4iK2wuY2hhcnQpLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixsLmNoYXJ0VGV4dHMpLGEubWFpblRleHQ9YS5kMy5zZWxlY3RBbGwoW10pfSxpLnVwZGF0ZVRhcmdldHNGb3JUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLGU9ZC5jbGFzc0NoYXJ0VGV4dC5iaW5kKGQpLGY9ZC5jbGFzc1RleHRzLmJpbmQoZCksZz1kLmNsYXNzRm9jdXMuYmluZChkKTtiPWQubWFpbi5zZWxlY3QoIi4iK2wuY2hhcnRUZXh0cykuc2VsZWN0QWxsKCIuIitsLmNoYXJ0VGV4dCkuZGF0YShhKS5hdHRyKCJjbGFzcyIsZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSkrZyhhKX0pLGM9Yi5lbnRlcigpLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixlKS5zdHlsZSgib3BhY2l0eSIsMCkuc3R5bGUoInBvaW50ZXItZXZlbnRzIiwibm9uZSIpLGMuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLGYpfSxpLnVwZGF0ZVRleHQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9Yi5iYXJPckxpbmVEYXRhLmJpbmQoYiksZT1iLmNsYXNzVGV4dC5iaW5kKGIpO2IubWFpblRleHQ9Yi5tYWluLnNlbGVjdEFsbCgiLiIrbC50ZXh0cykuc2VsZWN0QWxsKCIuIitsLnRleHQpLmRhdGEoZCksYi5tYWluVGV4dC5lbnRlcigpLmFwcGVuZCgidGV4dCIpLmF0dHIoImNsYXNzIixlKS5hdHRyKCJ0ZXh0LWFuY2hvciIsZnVuY3Rpb24oYSl7cmV0dXJuIGMuYXhpc19yb3RhdGVkP2EudmFsdWU8MD8iZW5kIjoic3RhcnQiOiJtaWRkbGUifSkuc3R5bGUoInN0cm9rZSIsIm5vbmUiKS5zdHlsZSgiZmlsbCIsZnVuY3Rpb24oYSl7cmV0dXJuIGIuY29sb3IoYSl9KS5zdHlsZSgiZmlsbC1vcGFjaXR5IiwwKSxiLm1haW5UZXh0LnRleHQoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBiLmRhdGFMYWJlbEZvcm1hdChhLmlkKShhLnZhbHVlLGEuaWQsYyxkKX0pLGIubWFpblRleHQuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5zdHlsZSgiZmlsbC1vcGFjaXR5IiwwKS5yZW1vdmUoKX0saS5yZWRyYXdUZXh0PWZ1bmN0aW9uKGEsYixjLGQpe3JldHVyblsoZD90aGlzLm1haW5UZXh0LnRyYW5zaXRpb24oKTp0aGlzLm1haW5UZXh0KS5hdHRyKCJ4IixhKS5hdHRyKCJ5IixiKS5zdHlsZSgiZmlsbCIsdGhpcy5jb2xvcikuc3R5bGUoImZpbGwtb3BhY2l0eSIsYz8wOnRoaXMub3BhY2l0eUZvclRleHQuYmluZCh0aGlzKSldfSxpLmdldFRleHRSZWN0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXMuZDMuc2VsZWN0KCJib2R5IikuYXBwZW5kKCJkaXYiKS5jbGFzc2VkKCJjMyIsITApLGY9ZS5hcHBlbmQoInN2ZyIpLnN0eWxlKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIikuc3R5bGUoInBvc2l0aW9uIiwiZml4ZWQiKS5zdHlsZSgidG9wIiwwKS5zdHlsZSgibGVmdCIsMCksZz10aGlzLmQzLnNlbGVjdChjKS5zdHlsZSgiZm9udCIpO3JldHVybiBmLnNlbGVjdEFsbCgiLmR1bW15IikuZGF0YShbYV0pLmVudGVyKCkuYXBwZW5kKCJ0ZXh0IikuY2xhc3NlZChiP2I6IiIsITApLnN0eWxlKCJmb250IixnKS50ZXh0KGEpLmVhY2goZnVuY3Rpb24oKXtkPXRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9KSxlLnJlbW92ZSgpLGR9LGkuZ2VuZXJhdGVYWUZvclRleHQ9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcyxmPWUuZ2VuZXJhdGVHZXRBcmVhUG9pbnRzKGEsITEpLGc9ZS5nZW5lcmF0ZUdldEJhclBvaW50cyhiLCExKSxoPWUuZ2VuZXJhdGVHZXRMaW5lUG9pbnRzKGMsITEpLGk9ZD9lLmdldFhGb3JUZXh0OmUuZ2V0WUZvclRleHQ7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dmFyIGM9ZS5pc0FyZWFUeXBlKGEpP2Y6ZS5pc0JhclR5cGUoYSk/ZzpoO3JldHVybiBpLmNhbGwoZSxjKGEsYiksYSx0aGlzKX19LGkuZ2V0WEZvclRleHQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj10aGlzLGc9Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gZi5jb25maWcuYXhpc19yb3RhdGVkPyhlPWYuaXNCYXJUeXBlKGIpPzQ6NixkPWFbMl1bMV0rZSooYi52YWx1ZTwwPy0xOjEpKTpkPWYuaGFzVHlwZSgiYmFyIik/KGFbMl1bMF0rYVswXVswXSkvMjphWzBdWzBdLG51bGw9PT1iLnZhbHVlJiYoZD5mLndpZHRoP2Q9Zi53aWR0aC1nLndpZHRoOjA+ZCYmKGQ9NCkpLGR9LGkuZ2V0WUZvclRleHQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9dGhpcyxmPWMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIGUuY29uZmlnLmF4aXNfcm90YXRlZD9kPShhWzBdWzBdK2FbMl1bMF0rLjYqZi5oZWlnaHQpLzI6KGQ9YVsyXVsxXSxiLnZhbHVlPDB8fDA9PT1iLnZhbHVlJiYhZS5oYXNQb3NpdGl2ZVZhbHVlPyhkKz1mLmhlaWdodCxlLmlzQmFyVHlwZShiKSYmZS5pc1NhZmFyaSgpP2QtPTM6IWUuaXNCYXJUeXBlKGIpJiZlLmlzQ2hyb21lKCkmJihkKz0zKSk6ZCs9ZS5pc0JhclR5cGUoYik/LTM6LTYpLG51bGwhPT1iLnZhbHVlfHxlLmNvbmZpZy5heGlzX3JvdGF0ZWR8fChkPGYuaGVpZ2h0P2Q9Zi5oZWlnaHQ6ZD50aGlzLmhlaWdodCYmKGQ9dGhpcy5oZWlnaHQtNCkpLGR9LGkuc2V0VGFyZ2V0VHlwZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNvbmZpZztjLm1hcFRvVGFyZ2V0SWRzKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7Yy53aXRob3V0RmFkZUluW2FdPWI9PT1kLmRhdGFfdHlwZXNbYV0sZC5kYXRhX3R5cGVzW2FdPWJ9KSxhfHwoZC5kYXRhX3R5cGU9Yil9LGkuaGFzVHlwZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNvbmZpZy5kYXRhX3R5cGVzLGU9ITE7cmV0dXJuIGI9Ynx8Yy5kYXRhLnRhcmdldHMsYiYmYi5sZW5ndGg/Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWRbYi5pZF07KGMmJmMuaW5kZXhPZihhKT49MHx8IWMmJiJsaW5lIj09PWEpJiYoZT0hMCl9KTpPYmplY3Qua2V5cyhkKS5sZW5ndGg/T2JqZWN0LmtleXMoZCkuZm9yRWFjaChmdW5jdGlvbihiKXtkW2JdPT09YSYmKGU9ITApfSk6ZT1jLmNvbmZpZy5kYXRhX3R5cGU9PT1hLGV9LGkuaGFzQXJjVHlwZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXNUeXBlKCJwaWUiLGEpfHx0aGlzLmhhc1R5cGUoImRvbnV0IixhKXx8dGhpcy5oYXNUeXBlKCJnYXVnZSIsYSl9LGkuaXNMaW5lVHlwZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbmZpZyxjPW8oYSk/YTphLmlkO3JldHVybiFiLmRhdGFfdHlwZXNbY118fFsibGluZSIsInNwbGluZSIsImFyZWEiLCJhcmVhLXNwbGluZSIsInN0ZXAiLCJhcmVhLXN0ZXAiXS5pbmRleE9mKGIuZGF0YV90eXBlc1tjXSk+PTB9LGkuaXNTdGVwVHlwZT1mdW5jdGlvbihhKXt2YXIgYj1vKGEpP2E6YS5pZDtyZXR1cm5bInN0ZXAiLCJhcmVhLXN0ZXAiXS5pbmRleE9mKHRoaXMuY29uZmlnLmRhdGFfdHlwZXNbYl0pPj0wfSxpLmlzU3BsaW5lVHlwZT1mdW5jdGlvbihhKXt2YXIgYj1vKGEpP2E6YS5pZDtyZXR1cm5bInNwbGluZSIsImFyZWEtc3BsaW5lIl0uaW5kZXhPZih0aGlzLmNvbmZpZy5kYXRhX3R5cGVzW2JdKT49MH0saS5pc0FyZWFUeXBlPWZ1bmN0aW9uKGEpe3ZhciBiPW8oYSk/YTphLmlkO3JldHVyblsiYXJlYSIsImFyZWEtc3BsaW5lIiwiYXJlYS1zdGVwIl0uaW5kZXhPZih0aGlzLmNvbmZpZy5kYXRhX3R5cGVzW2JdKT49MH0saS5pc0JhclR5cGU9ZnVuY3Rpb24oYSl7dmFyIGI9byhhKT9hOmEuaWQ7cmV0dXJuImJhciI9PT10aGlzLmNvbmZpZy5kYXRhX3R5cGVzW2JdfSxpLmlzU2NhdHRlclR5cGU9ZnVuY3Rpb24oYSl7dmFyIGI9byhhKT9hOmEuaWQ7cmV0dXJuInNjYXR0ZXIiPT09dGhpcy5jb25maWcuZGF0YV90eXBlc1tiXX0saS5pc1BpZVR5cGU9ZnVuY3Rpb24oYSl7dmFyIGI9byhhKT9hOmEuaWQ7cmV0dXJuInBpZSI9PT10aGlzLmNvbmZpZy5kYXRhX3R5cGVzW2JdfSxpLmlzR2F1Z2VUeXBlPWZ1bmN0aW9uKGEpe3ZhciBiPW8oYSk/YTphLmlkO3JldHVybiJnYXVnZSI9PT10aGlzLmNvbmZpZy5kYXRhX3R5cGVzW2JdfSxpLmlzRG9udXRUeXBlPWZ1bmN0aW9uKGEpe3ZhciBiPW8oYSk/YTphLmlkO3JldHVybiJkb251dCI9PT10aGlzLmNvbmZpZy5kYXRhX3R5cGVzW2JdfSxpLmlzQXJjVHlwZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc1BpZVR5cGUoYSl8fHRoaXMuaXNEb251dFR5cGUoYSl8fHRoaXMuaXNHYXVnZVR5cGUoYSl9LGkubGluZURhdGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNMaW5lVHlwZShhKT9bYV06W119LGkuYXJjRGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0FyY1R5cGUoYS5kYXRhKT9bYV06W119LGkuYmFyRGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0JhclR5cGUoYSk/YS52YWx1ZXM6W119LGkubGluZU9yU2NhdHRlckRhdGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNMaW5lVHlwZShhKXx8dGhpcy5pc1NjYXR0ZXJUeXBlKGEpP2EudmFsdWVzOltdfSxpLmJhck9yTGluZURhdGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNCYXJUeXBlKGEpfHx0aGlzLmlzTGluZVR5cGUoYSk/YS52YWx1ZXM6W119LGkuaXNJbnRlcnBvbGF0aW9uVHlwZT1mdW5jdGlvbihhKXtyZXR1cm5bImxpbmVhciIsImxpbmVhci1jbG9zZWQiLCJiYXNpcyIsImJhc2lzLW9wZW4iLCJiYXNpcy1jbG9zZWQiLCJidW5kbGUiLCJjYXJkaW5hbCIsImNhcmRpbmFsLW9wZW4iLCJjYXJkaW5hbC1jbG9zZWQiLCJtb25vdG9uZSJdLmluZGV4T2YoYSk+PTB9LGkuaW5pdEdyaWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcsYz1hLmQzO2EuZ3JpZD1hLm1haW4uYXBwZW5kKCJnIikuYXR0cigiY2xpcC1wYXRoIixhLmNsaXBQYXRoRm9yR3JpZCkuYXR0cigiY2xhc3MiLGwuZ3JpZCksYi5ncmlkX3hfc2hvdyYmYS5ncmlkLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixsLnhncmlkcyksYi5ncmlkX3lfc2hvdyYmYS5ncmlkLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixsLnlncmlkcyksYi5ncmlkX2ZvY3VzX3Nob3cmJmEuZ3JpZC5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsbC54Z3JpZEZvY3VzKS5hcHBlbmQoImxpbmUiKS5hdHRyKCJjbGFzcyIsbC54Z3JpZEZvY3VzKSxhLnhncmlkPWMuc2VsZWN0QWxsKFtdKSxiLmdyaWRfbGluZXNfZnJvbnR8fGEuaW5pdEdyaWRMaW5lcygpfSxpLmluaXRHcmlkTGluZXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5kMzthLmdyaWRMaW5lcz1hLm1haW4uYXBwZW5kKCJnIikuYXR0cigiY2xpcC1wYXRoIixhLmNsaXBQYXRoRm9yR3JpZCkuYXR0cigiY2xhc3MiLGwuZ3JpZCsiICIrbC5ncmlkTGluZXMpLGEuZ3JpZExpbmVzLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixsLnhncmlkTGluZXMpLGEuZ3JpZExpbmVzLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixsLnlncmlkTGluZXMpLGEueGdyaWRMaW5lcz1iLnNlbGVjdEFsbChbXSl9LGkudXBkYXRlWEdyaWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9Yi5kMyxlPWIuZ2VuZXJhdGVHcmlkRGF0YShjLmdyaWRfeF90eXBlLGIueCksZj1iLmlzQ2F0ZWdvcml6ZWQoKT9iLnhBeGlzLnRpY2tPZmZzZXQoKTowO2IueGdyaWRBdHRyPWMuYXhpc19yb3RhdGVkP3t4MTowLHgyOmIud2lkdGgseTE6ZnVuY3Rpb24oYSl7cmV0dXJuIGIueChhKS1mfSx5MjpmdW5jdGlvbihhKXtyZXR1cm4gYi54KGEpLWZ9fTp7eDE6ZnVuY3Rpb24oYSl7cmV0dXJuIGIueChhKStmfSx4MjpmdW5jdGlvbihhKXtyZXR1cm4gYi54KGEpK2Z9LHkxOjAseTI6Yi5oZWlnaHR9LGIueGdyaWQ9Yi5tYWluLnNlbGVjdCgiLiIrbC54Z3JpZHMpLnNlbGVjdEFsbCgiLiIrbC54Z3JpZCkuZGF0YShlKSxiLnhncmlkLmVudGVyKCkuYXBwZW5kKCJsaW5lIikuYXR0cigiY2xhc3MiLGwueGdyaWQpLGF8fGIueGdyaWQuYXR0cihiLnhncmlkQXR0cikuc3R5bGUoIm9wYWNpdHkiLGZ1bmN0aW9uKCl7cmV0dXJuK2Quc2VsZWN0KHRoaXMpLmF0dHIoYy5heGlzX3JvdGF0ZWQ/InkxIjoieDEiKT09PShjLmF4aXNfcm90YXRlZD9iLmhlaWdodDowKT8wOjF9KSxiLnhncmlkLmV4aXQoKS5yZW1vdmUoKX0saS51cGRhdGVZR3JpZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZyxjPWEueUF4aXMudGlja1ZhbHVlcygpfHxhLnkudGlja3MoYi5ncmlkX3lfdGlja3MpO2EueWdyaWQ9YS5tYWluLnNlbGVjdCgiLiIrbC55Z3JpZHMpLnNlbGVjdEFsbCgiLiIrbC55Z3JpZCkuZGF0YShjKSxhLnlncmlkLmVudGVyKCkuYXBwZW5kKCJsaW5lIikuYXR0cigiY2xhc3MiLGwueWdyaWQpLGEueWdyaWQuYXR0cigieDEiLGIuYXhpc19yb3RhdGVkP2EueTowKS5hdHRyKCJ4MiIsYi5heGlzX3JvdGF0ZWQ/YS55OmEud2lkdGgpLmF0dHIoInkxIixiLmF4aXNfcm90YXRlZD8wOmEueSkuYXR0cigieTIiLGIuYXhpc19yb3RhdGVkP2EuaGVpZ2h0OmEueSksYS55Z3JpZC5leGl0KCkucmVtb3ZlKCksYS5zbW9vdGhMaW5lcyhhLnlncmlkLCJncmlkIil9LGkuZ3JpZFRleHRBbmNob3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucG9zaXRpb24/YS5wb3NpdGlvbjoiZW5kIn0saS5ncmlkVGV4dER4PWZ1bmN0aW9uKGEpe3JldHVybiJzdGFydCI9PT1hLnBvc2l0aW9uPzQ6Im1pZGRsZSI9PT1hLnBvc2l0aW9uPzA6LTR9LGkueEdyaWRUZXh0WD1mdW5jdGlvbihhKXtyZXR1cm4ic3RhcnQiPT09YS5wb3NpdGlvbj8tdGhpcy5oZWlnaHQ6Im1pZGRsZSI9PT1hLnBvc2l0aW9uPy10aGlzLmhlaWdodC8yOjB9LGkueUdyaWRUZXh0WD1mdW5jdGlvbihhKXtyZXR1cm4ic3RhcnQiPT09YS5wb3NpdGlvbj8wOiJtaWRkbGUiPT09YS5wb3NpdGlvbj90aGlzLndpZHRoLzI6dGhpcy53aWR0aH0saS51cGRhdGVHcmlkPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXMsZj1lLm1haW4sZz1lLmNvbmZpZztlLmdyaWQuc3R5bGUoInZpc2liaWxpdHkiLGUuaGFzQXJjVHlwZSgpPyJoaWRkZW4iOiJ2aXNpYmxlIiksZi5zZWxlY3QoImxpbmUuIitsLnhncmlkRm9jdXMpLnN0eWxlKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIiksZy5ncmlkX3hfc2hvdyYmZS51cGRhdGVYR3JpZCgpLGUueGdyaWRMaW5lcz1mLnNlbGVjdCgiLiIrbC54Z3JpZExpbmVzKS5zZWxlY3RBbGwoIi4iK2wueGdyaWRMaW5lKS5kYXRhKGcuZ3JpZF94X2xpbmVzKSxiPWUueGdyaWRMaW5lcy5lbnRlcigpLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixmdW5jdGlvbihhKXtyZXR1cm4gbC54Z3JpZExpbmUrKGFbImNsYXNzIl0/IiAiK2FbImNsYXNzIl06IiIpfSksYi5hcHBlbmQoImxpbmUiKS5zdHlsZSgib3BhY2l0eSIsMCksYi5hcHBlbmQoInRleHQiKS5hdHRyKCJ0ZXh0LWFuY2hvciIsZS5ncmlkVGV4dEFuY2hvcikuYXR0cigidHJhbnNmb3JtIixnLmF4aXNfcm90YXRlZD8iIjoicm90YXRlKC05MCkiKS5hdHRyKCJkeCIsZS5ncmlkVGV4dER4KS5hdHRyKCJkeSIsLTUpLnN0eWxlKCJvcGFjaXR5IiwwKSxlLnhncmlkTGluZXMuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5zdHlsZSgib3BhY2l0eSIsMCkucmVtb3ZlKCksZy5ncmlkX3lfc2hvdyYmZS51cGRhdGVZR3JpZCgpLGUueWdyaWRMaW5lcz1mLnNlbGVjdCgiLiIrbC55Z3JpZExpbmVzKS5zZWxlY3RBbGwoIi4iK2wueWdyaWRMaW5lKS5kYXRhKGcuZ3JpZF95X2xpbmVzKSxjPWUueWdyaWRMaW5lcy5lbnRlcigpLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixmdW5jdGlvbihhKXtyZXR1cm4gbC55Z3JpZExpbmUrKGFbImNsYXNzIl0/IiAiK2FbImNsYXNzIl06IiIpfSksYy5hcHBlbmQoImxpbmUiKS5zdHlsZSgib3BhY2l0eSIsMCksYy5hcHBlbmQoInRleHQiKS5hdHRyKCJ0ZXh0LWFuY2hvciIsZS5ncmlkVGV4dEFuY2hvcikuYXR0cigidHJhbnNmb3JtIixnLmF4aXNfcm90YXRlZD8icm90YXRlKC05MCkiOiIiKS5hdHRyKCJkeCIsZS5ncmlkVGV4dER4KS5hdHRyKCJkeSIsLTUpLnN0eWxlKCJvcGFjaXR5IiwwKSxkPWUueXYuYmluZChlKSxlLnlncmlkTGluZXMuc2VsZWN0KCJsaW5lIikudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLmF0dHIoIngxIixnLmF4aXNfcm90YXRlZD9kOjApLmF0dHIoIngyIixnLmF4aXNfcm90YXRlZD9kOmUud2lkdGgpLmF0dHIoInkxIixnLmF4aXNfcm90YXRlZD8wOmQpLmF0dHIoInkyIixnLmF4aXNfcm90YXRlZD9lLmhlaWdodDpkKS5zdHlsZSgib3BhY2l0eSIsMSksZS55Z3JpZExpbmVzLnNlbGVjdCgidGV4dCIpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5hdHRyKCJ4IixnLmF4aXNfcm90YXRlZD9lLnhHcmlkVGV4dFguYmluZChlKTplLnlHcmlkVGV4dFguYmluZChlKSkuYXR0cigieSIsZCkudGV4dChmdW5jdGlvbihhKXtyZXR1cm4gYS50ZXh0fSkuc3R5bGUoIm9wYWNpdHkiLDEpLGUueWdyaWRMaW5lcy5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLnN0eWxlKCJvcGFjaXR5IiwwKS5yZW1vdmUoKX0saS5yZWRyYXdHcmlkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZyxkPWIueHYuYmluZChiKSxlPWIueGdyaWRMaW5lcy5zZWxlY3QoImxpbmUiKSxmPWIueGdyaWRMaW5lcy5zZWxlY3QoInRleHQiKTtyZXR1cm5bKGE/ZS50cmFuc2l0aW9uKCk6ZSkuYXR0cigieDEiLGMuYXhpc19yb3RhdGVkPzA6ZCkuYXR0cigieDIiLGMuYXhpc19yb3RhdGVkP2Iud2lkdGg6ZCkuYXR0cigieTEiLGMuYXhpc19yb3RhdGVkP2Q6MCkuYXR0cigieTIiLGMuYXhpc19yb3RhdGVkP2Q6Yi5oZWlnaHQpLnN0eWxlKCJvcGFjaXR5IiwxKSwoYT9mLnRyYW5zaXRpb24oKTpmKS5hdHRyKCJ4IixjLmF4aXNfcm90YXRlZD9iLnlHcmlkVGV4dFguYmluZChiKTpiLnhHcmlkVGV4dFguYmluZChiKSkuYXR0cigieSIsZCkudGV4dChmdW5jdGlvbihhKXtyZXR1cm4gYS50ZXh0fSkuc3R5bGUoIm9wYWNpdHkiLDEpXX0saS5zaG93WEdyaWRGb2N1cz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWcsZD1hLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYSYmbShhLnZhbHVlKX0pLGU9Yi5tYWluLnNlbGVjdEFsbCgibGluZS4iK2wueGdyaWRGb2N1cyksZj1iLnh4LmJpbmQoYik7Yy50b29sdGlwX3Nob3cmJihiLmhhc1R5cGUoInNjYXR0ZXIiKXx8Yi5oYXNBcmNUeXBlKCl8fChlLnN0eWxlKCJ2aXNpYmlsaXR5IiwidmlzaWJsZSIpLmRhdGEoW2RbMF1dKS5hdHRyKGMuYXhpc19yb3RhdGVkPyJ5MSI6IngxIixmKS5hdHRyKGMuYXhpc19yb3RhdGVkPyJ5MiI6IngyIixmKSxiLnNtb290aExpbmVzKGUsImdyaWQiKSkpfSxpLmhpZGVYR3JpZEZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5tYWluLnNlbGVjdCgibGluZS4iK2wueGdyaWRGb2N1cykuc3R5bGUoInZpc2liaWxpdHkiLCJoaWRkZW4iKX0saS51cGRhdGVYZ3JpZEZvY3VzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnO2EubWFpbi5zZWxlY3QoImxpbmUuIitsLnhncmlkRm9jdXMpLmF0dHIoIngxIixiLmF4aXNfcm90YXRlZD8wOi0xMCkuYXR0cigieDIiLGIuYXhpc19yb3RhdGVkP2Eud2lkdGg6LTEwKS5hdHRyKCJ5MSIsYi5heGlzX3JvdGF0ZWQ/LTEwOjApLmF0dHIoInkyIixiLmF4aXNfcm90YXRlZD8tMTA6YS5oZWlnaHQpfSxpLmdlbmVyYXRlR3JpZERhdGE9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnPXRoaXMsaD1bXSxpPWcubWFpbi5zZWxlY3QoIi4iK2wuYXhpc1gpLnNlbGVjdEFsbCgiLnRpY2siKS5zaXplKCk7aWYoInllYXIiPT09YSlmb3IoYz1nLmdldFhEb21haW4oKSxkPWNbMF0uZ2V0RnVsbFllYXIoKSxlPWNbMV0uZ2V0RnVsbFllYXIoKSxmPWQ7ZT49ZjtmKyspaC5wdXNoKG5ldyBEYXRlKGYrIi0wMS0wMSAwMDowMDowMCIpKTtlbHNlIGg9Yi50aWNrcygxMCksaC5sZW5ndGg+aSYmKGg9aC5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuKCIiK2EpLmluZGV4T2YoIi4iKTwwfSkpO3JldHVybiBofSxpLmdldEdyaWRGaWx0ZXJUb1JlbW92ZT1mdW5jdGlvbihhKXtyZXR1cm4gYT9mdW5jdGlvbihiKXt2YXIgYz0hMTtyZXR1cm5bXS5jb25jYXQoYSkuZm9yRWFjaChmdW5jdGlvbihhKXsoInZhbHVlImluIGEmJmIudmFsdWU9PT1hLnZhbHVlfHwiY2xhc3MiaW4gYSYmYlsiY2xhc3MiXT09PWFbImNsYXNzIl0pJiYoYz0hMCl9KSxjfTpmdW5jdGlvbigpe3JldHVybiEwfX0saS5yZW1vdmVHcmlkTGluZXM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5jb25maWcsZT1jLmdldEdyaWRGaWx0ZXJUb1JlbW92ZShhKSxmPWZ1bmN0aW9uKGEpe3JldHVybiFlKGEpfSxnPWI/bC54Z3JpZExpbmVzOmwueWdyaWRMaW5lcyxoPWI/bC54Z3JpZExpbmU6bC55Z3JpZExpbmU7Yy5tYWluLnNlbGVjdCgiLiIrZykuc2VsZWN0QWxsKCIuIitoKS5maWx0ZXIoZSkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGQudHJhbnNpdGlvbl9kdXJhdGlvbikuc3R5bGUoIm9wYWNpdHkiLDApLnJlbW92ZSgpLGI/ZC5ncmlkX3hfbGluZXM9ZC5ncmlkX3hfbGluZXMuZmlsdGVyKGYpOmQuZ3JpZF95X2xpbmVzPWQuZ3JpZF95X2xpbmVzLmZpbHRlcihmKX0saS5pbml0VG9vbHRpcD1mdW5jdGlvbigpe3ZhciBhLGI9dGhpcyxjPWIuY29uZmlnO2lmKGIudG9vbHRpcD1iLnNlbGVjdENoYXJ0LnN0eWxlKCJwb3NpdGlvbiIsInJlbGF0aXZlIikuYXBwZW5kKCJkaXYiKS5hdHRyKCJjbGFzcyIsbC50b29sdGlwQ29udGFpbmVyKS5zdHlsZSgicG9zaXRpb24iLCJhYnNvbHV0ZSIpLnN0eWxlKCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKS5zdHlsZSgiZGlzcGxheSIsIm5vbmUiKSxjLnRvb2x0aXBfaW5pdF9zaG93KXtpZihiLmlzVGltZVNlcmllcygpJiZvKGMudG9vbHRpcF9pbml0X3gpKXtmb3IoYy50b29sdGlwX2luaXRfeD1iLnBhcnNlRGF0ZShjLnRvb2x0aXBfaW5pdF94KSxhPTA7YTxiLmRhdGEudGFyZ2V0c1swXS52YWx1ZXMubGVuZ3RoJiZiLmRhdGEudGFyZ2V0c1swXS52YWx1ZXNbYV0ueC1jLnRvb2x0aXBfaW5pdF94IT09MDthKyspO2MudG9vbHRpcF9pbml0X3g9YX1iLnRvb2x0aXAuaHRtbChjLnRvb2x0aXBfY29udGVudHMuY2FsbChiLGIuZGF0YS50YXJnZXRzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYi5hZGROYW1lKGEudmFsdWVzW2MudG9vbHRpcF9pbml0X3hdKX0pLGIuYXhpcy5nZXRYQXhpc1RpY2tGb3JtYXQoKSxiLmdldFlGb3JtYXQoYi5oYXNBcmNUeXBlKCkpLGIuY29sb3IpKSxiLnRvb2x0aXAuc3R5bGUoInRvcCIsYy50b29sdGlwX2luaXRfcG9zaXRpb24udG9wKS5zdHlsZSgibGVmdCIsYy50b29sdGlwX2luaXRfcG9zaXRpb24ubGVmdCkuc3R5bGUoImRpc3BsYXkiLCJibG9jayIpfX0saS5nZXRUb29sdGlwQ29udGVudD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGcsaCxpLGosaz10aGlzLGw9ay5jb25maWcsbT1sLnRvb2x0aXBfZm9ybWF0X3RpdGxlfHxiLG49bC50b29sdGlwX2Zvcm1hdF9uYW1lfHxmdW5jdGlvbihhKXtyZXR1cm4gYX0sbz1sLnRvb2x0aXBfZm9ybWF0X3ZhbHVlfHxjLHA9ay5pc09yZGVyQXNjKCk7aWYoMD09PWwuZGF0YV9ncm91cHMubGVuZ3RoKWEuc29ydChmdW5jdGlvbihhLGIpe3ZhciBjPWE/YS52YWx1ZTpudWxsLGQ9Yj9iLnZhbHVlOm51bGw7cmV0dXJuIHA/Yy1kOmQtY30pO2Vsc2V7dmFyIHE9ay5vcmRlclRhcmdldHMoay5kYXRhLnRhcmdldHMpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5pZH0pO2Euc29ydChmdW5jdGlvbihhLGIpe3ZhciBjPWE/YS52YWx1ZTpudWxsLGQ9Yj9iLnZhbHVlOm51bGw7cmV0dXJuIGM+MCYmZD4wJiYoYz1hP3EuaW5kZXhPZihhLmlkKTpudWxsLGQ9Yj9xLmluZGV4T2YoYi5pZCk6bnVsbCkscD9jLWQ6ZC1jfSl9Zm9yKGY9MDtmPGEubGVuZ3RoO2YrKylpZihhW2ZdJiYoYVtmXS52YWx1ZXx8MD09PWFbZl0udmFsdWUpJiYoZXx8KGc9eShtP20oYVtmXS54KTphW2ZdLngpLGU9Ijx0YWJsZSBjbGFzcz0nIitrLkNMQVNTLnRvb2x0aXArIic+IisoZ3x8MD09PWc/Ijx0cj48dGggY29sc3Bhbj0nMic+IitnKyI8L3RoPjwvdHI+IjoiIikpLGg9eShvKGFbZl0udmFsdWUsYVtmXS5yYXRpbyxhW2ZdLmlkLGFbZl0uaW5kZXgsYSkpLHZvaWQgMCE9PWgpKXtpZihudWxsPT09YVtmXS5uYW1lKWNvbnRpbnVlO2k9eShuKGFbZl0ubmFtZSxhW2ZdLnJhdGlvLGFbZl0uaWQsYVtmXS5pbmRleCkpLGo9ay5sZXZlbENvbG9yP2subGV2ZWxDb2xvcihhW2ZdLnZhbHVlKTpkKGFbZl0uaWQpLGUrPSI8dHIgY2xhc3M9JyIray5DTEFTUy50b29sdGlwTmFtZSsiLSIray5nZXRUYXJnZXRTZWxlY3RvclN1ZmZpeChhW2ZdLmlkKSsiJz4iLGUrPSI8dGQgY2xhc3M9J25hbWUnPjxzcGFuIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOiIraisiJz48L3NwYW4+IitpKyI8L3RkPiIsZSs9Ijx0ZCBjbGFzcz0ndmFsdWUnPiIraCsiPC90ZD4iLGUrPSI8L3RyPiJ9cmV0dXJuIGUrIjwvdGFibGU+In0saS50b29sdGlwUG9zaXRpb249ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXRoaXMsaz1qLmNvbmZpZyxsPWouZDMsbT1qLmhhc0FyY1R5cGUoKSxuPWwubW91c2UoZCk7cmV0dXJuIG0/KGY9KGoud2lkdGgtKGouaXNMZWdlbmRSaWdodD9qLmdldExlZ2VuZFdpZHRoKCk6MCkpLzIrblswXSxoPWouaGVpZ2h0LzIrblsxXSsyMCk6KGU9ai5nZXRTdmdMZWZ0KCEwKSxrLmF4aXNfcm90YXRlZD8oZj1lK25bMF0rMTAwLGc9ZitiLGk9ai5jdXJyZW50V2lkdGgtai5nZXRDdXJyZW50UGFkZGluZ1JpZ2h0KCksaD1qLngoYVswXS54KSsyMCk6KGY9ZStqLmdldEN1cnJlbnRQYWRkaW5nTGVmdCghMCkrai54KGFbMF0ueCkrMjAsZz1mK2IsaT1lK2ouY3VycmVudFdpZHRoLWouZ2V0Q3VycmVudFBhZGRpbmdSaWdodCgpLGg9blsxXSsxNSksZz5pJiYoZi09Zy1pKzIwKSxoK2M+ai5jdXJyZW50SGVpZ2h0JiYoaC09YyszMCkpLDA+aCYmKGg9MCkse3RvcDpoLGxlZnQ6Zn19LGkuc2hvd1Rvb2x0aXA9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj10aGlzLGc9Zi5jb25maWcsaD1mLmhhc0FyY1R5cGUoKSxqPWEuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhJiZtKGEudmFsdWUpfSksaz1nLnRvb2x0aXBfcG9zaXRpb258fGkudG9vbHRpcFBvc2l0aW9uOzAhPT1qLmxlbmd0aCYmZy50b29sdGlwX3Nob3cmJihmLnRvb2x0aXAuaHRtbChnLnRvb2x0aXBfY29udGVudHMuY2FsbChmLGEsZi5heGlzLmdldFhBeGlzVGlja0Zvcm1hdCgpLGYuZ2V0WUZvcm1hdChoKSxmLmNvbG9yKSkuc3R5bGUoImRpc3BsYXkiLCJibG9jayIpLGM9Zi50b29sdGlwLnByb3BlcnR5KCJvZmZzZXRXaWR0aCIpLGQ9Zi50b29sdGlwLnByb3BlcnR5KCJvZmZzZXRIZWlnaHQiKSxlPWsuY2FsbCh0aGlzLGosYyxkLGIpLGYudG9vbHRpcC5zdHlsZSgidG9wIixlLnRvcCsicHgiKS5zdHlsZSgibGVmdCIsZS5sZWZ0KyJweCIpKX0saS5oaWRlVG9vbHRpcD1mdW5jdGlvbigpe3RoaXMudG9vbHRpcC5zdHlsZSgiZGlzcGxheSIsIm5vbmUiKX0saS5pbml0TGVnZW5kPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gYS5sZWdlbmRJdGVtVGV4dEJveD17fSxhLmxlZ2VuZEhhc1JlbmRlcmVkPSExLGEubGVnZW5kPWEuc3ZnLmFwcGVuZCgiZyIpLmF0dHIoInRyYW5zZm9ybSIsYS5nZXRUcmFuc2xhdGUoImxlZ2VuZCIpKSxhLmNvbmZpZy5sZWdlbmRfc2hvdz92b2lkIGEudXBkYXRlTGVnZW5kV2l0aERlZmF1bHRzKCk6KGEubGVnZW5kLnN0eWxlKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIiksdm9pZChhLmhpZGRlbkxlZ2VuZElkcz1hLm1hcFRvSWRzKGEuZGF0YS50YXJnZXRzKSkpfSxpLnVwZGF0ZUxlZ2VuZFdpdGhEZWZhdWx0cz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS51cGRhdGVMZWdlbmQoYS5tYXBUb0lkcyhhLmRhdGEudGFyZ2V0cykse3dpdGhUcmFuc2Zvcm06ITEsd2l0aFRyYW5zaXRpb25Gb3JUcmFuc2Zvcm06ITEsd2l0aFRyYW5zaXRpb246ITF9KX0saS51cGRhdGVTaXplRm9yTGVnZW5kPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnLGU9e3RvcDpjLmlzTGVnZW5kVG9wP2MuZ2V0Q3VycmVudFBhZGRpbmdUb3AoKStkLmxlZ2VuZF9pbnNldF95KzUuNTpjLmN1cnJlbnRIZWlnaHQtYS1jLmdldEN1cnJlbnRQYWRkaW5nQm90dG9tKCktZC5sZWdlbmRfaW5zZXRfeSxsZWZ0OmMuaXNMZWdlbmRMZWZ0P2MuZ2V0Q3VycmVudFBhZGRpbmdMZWZ0KCkrZC5sZWdlbmRfaW5zZXRfeCsuNTpjLmN1cnJlbnRXaWR0aC1iLWMuZ2V0Q3VycmVudFBhZGRpbmdSaWdodCgpLWQubGVnZW5kX2luc2V0X3grLjV9O2MubWFyZ2luMz17dG9wOmMuaXNMZWdlbmRSaWdodD8wOmMuaXNMZWdlbmRJbnNldD9lLnRvcDpjLmN1cnJlbnRIZWlnaHQtYSxyaWdodDpOYU4sYm90dG9tOjAsbGVmdDpjLmlzTGVnZW5kUmlnaHQ/Yy5jdXJyZW50V2lkdGgtYjpjLmlzTGVnZW5kSW5zZXQ/ZS5sZWZ0OjB9fSxpLnRyYW5zZm9ybUxlZ2VuZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzOyhhP2IubGVnZW5kLnRyYW5zaXRpb24oKTpiLmxlZ2VuZCkuYXR0cigidHJhbnNmb3JtIixiLmdldFRyYW5zbGF0ZSgibGVnZW5kIikpfSxpLnVwZGF0ZUxlZ2VuZFN0ZXA9ZnVuY3Rpb24oYSl7dGhpcy5sZWdlbmRTdGVwPWF9LGkudXBkYXRlTGVnZW5kSXRlbVdpZHRoPWZ1bmN0aW9uKGEpe3RoaXMubGVnZW5kSXRlbVdpZHRoPWF9LGkudXBkYXRlTGVnZW5kSXRlbUhlaWdodD1mdW5jdGlvbihhKXt0aGlzLmxlZ2VuZEl0ZW1IZWlnaHQ9YX0saS5nZXRMZWdlbmRXaWR0aD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuY29uZmlnLmxlZ2VuZF9zaG93P2EuaXNMZWdlbmRSaWdodHx8YS5pc0xlZ2VuZEluc2V0P2EubGVnZW5kSXRlbVdpZHRoKihhLmxlZ2VuZFN0ZXArMSk6YS5jdXJyZW50V2lkdGg6MH0saS5nZXRMZWdlbmRIZWlnaHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9MDtyZXR1cm4gYS5jb25maWcubGVnZW5kX3Nob3cmJihiPWEuaXNMZWdlbmRSaWdodD9hLmN1cnJlbnRIZWlnaHQ6TWF0aC5tYXgoMjAsYS5sZWdlbmRJdGVtSGVpZ2h0KSooYS5sZWdlbmRTdGVwKzEpKSxifSxpLm9wYWNpdHlGb3JMZWdlbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xhc3NlZChsLmxlZ2VuZEl0ZW1IaWRkZW4pP251bGw6MX0saS5vcGFjaXR5Rm9yVW5mb2N1c2VkTGVnZW5kPWZ1bmN0aW9uKGEpe3JldHVybiBhLmNsYXNzZWQobC5sZWdlbmRJdGVtSGlkZGVuKT9udWxsOi4zfSxpLnRvZ2dsZUZvY3VzTGVnZW5kPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczthPWMubWFwVG9UYXJnZXRJZHMoYSksYy5sZWdlbmQuc2VsZWN0QWxsKCIuIitsLmxlZ2VuZEl0ZW0pLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gYS5pbmRleE9mKGIpPj0wfSkuY2xhc3NlZChsLmxlZ2VuZEl0ZW1Gb2N1c2VkLGIpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDApLnN0eWxlKCJvcGFjaXR5IixmdW5jdGlvbigpe3ZhciBhPWI/Yy5vcGFjaXR5Rm9yTGVnZW5kOmMub3BhY2l0eUZvclVuZm9jdXNlZExlZ2VuZDtyZXR1cm4gYS5jYWxsKGMsYy5kMy5zZWxlY3QodGhpcykpfSl9LGkucmV2ZXJ0TGVnZW5kPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZDM7YS5sZWdlbmQuc2VsZWN0QWxsKCIuIitsLmxlZ2VuZEl0ZW0pLmNsYXNzZWQobC5sZWdlbmRJdGVtRm9jdXNlZCwhMSkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMCkuc3R5bGUoIm9wYWNpdHkiLGZ1bmN0aW9uKCl7cmV0dXJuIGEub3BhY2l0eUZvckxlZ2VuZChiLnNlbGVjdCh0aGlzKSl9KX0saS5zaG93TGVnZW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztjLmxlZ2VuZF9zaG93fHwoYy5sZWdlbmRfc2hvdz0hMCxiLmxlZ2VuZC5zdHlsZSgidmlzaWJpbGl0eSIsInZpc2libGUiKSxiLmxlZ2VuZEhhc1JlbmRlcmVkfHxiLnVwZGF0ZUxlZ2VuZFdpdGhEZWZhdWx0cygpKSxiLnJlbW92ZUhpZGRlbkxlZ2VuZElkcyhhKSxiLmxlZ2VuZC5zZWxlY3RBbGwoYi5zZWxlY3RvckxlZ2VuZHMoYSkpLnN0eWxlKCJ2aXNpYmlsaXR5IiwidmlzaWJsZSIpLnRyYW5zaXRpb24oKS5zdHlsZSgib3BhY2l0eSIsZnVuY3Rpb24oKXtyZXR1cm4gYi5vcGFjaXR5Rm9yTGVnZW5kKGIuZDMuc2VsZWN0KHRoaXMpKX0pfSxpLmhpZGVMZWdlbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnO2MubGVnZW5kX3Nob3cmJnUoYSkmJihjLmxlZ2VuZF9zaG93PSExLGIubGVnZW5kLnN0eWxlKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIikpLGIuYWRkSGlkZGVuTGVnZW5kSWRzKGEpLGIubGVnZW5kLnNlbGVjdEFsbChiLnNlbGVjdG9yTGVnZW5kcyhhKSkuc3R5bGUoIm9wYWNpdHkiLDApLnN0eWxlKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIil9LGkuY2xlYXJMZWdlbmRJdGVtVGV4dEJveENhY2hlPWZ1bmN0aW9uKCl7dGhpcy5sZWdlbmRJdGVtVGV4dEJveD17fX0saS51cGRhdGVMZWdlbmQ9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSxiKXtyZXR1cm4geS5sZWdlbmRJdGVtVGV4dEJveFtiXXx8KHkubGVnZW5kSXRlbVRleHRCb3hbYl09eS5nZXRUZXh0UmVjdChhLnRleHRDb250ZW50LGwubGVnZW5kSXRlbSxhKSkseS5sZWdlbmRJdGVtVGV4dEJveFtiXX1mdW5jdGlvbiBlKGIsYyxlKXtmdW5jdGlvbiBmKGEsYil7Ynx8KGc9KG8tRy1uKS8yLEU+ZyYmKGc9KG8tbikvMixHPTAsTSsrKSksTFthXT1NLEtbTV09eS5pc0xlZ2VuZEluc2V0PzEwOmcsSFthXT1HLEcrPW59dmFyIGcsaCxpPTA9PT1lLGo9ZT09PWEubGVuZ3RoLTEsaz1kKGIsYyksbD1rLndpZHRoK0YrKCFqfHx5LmlzTGVnZW5kUmlnaHR8fHkuaXNMZWdlbmRJbnNldD9COjApK3oubGVnZW5kX3BhZGRpbmcsbT1rLmhlaWdodCtBLG49eS5pc0xlZ2VuZFJpZ2h0fHx5LmlzTGVnZW5kSW5zZXQ/bTpsLG89eS5pc0xlZ2VuZFJpZ2h0fHx5LmlzTGVnZW5kSW5zZXQ/eS5nZXRMZWdlbmRIZWlnaHQoKTp5LmdldExlZ2VuZFdpZHRoKCk7cmV0dXJuIGkmJihHPTAsTT0wLEM9MCxEPTApLHoubGVnZW5kX3Nob3cmJiF5LmlzTGVnZW5kVG9TaG93KGMpP3ZvaWQoSVtjXT1KW2NdPUxbY109SFtjXT0wKTooSVtjXT1sLEpbY109bSwoIUN8fGw+PUMpJiYoQz1sKSwoIUR8fG0+PUQpJiYoRD1tKSxoPXkuaXNMZWdlbmRSaWdodHx8eS5pc0xlZ2VuZEluc2V0P0Q6Qyx2b2lkKHoubGVnZW5kX2VxdWFsbHk/KE9iamVjdC5rZXlzKEkpLmZvckVhY2goZnVuY3Rpb24oYSl7SVthXT1DfSksT2JqZWN0LmtleXMoSikuZm9yRWFjaChmdW5jdGlvbihhKXtKW2FdPUR9KSxnPShvLWgqYS5sZW5ndGgpLzIsRT5nPyhHPTAsTT0wLGEuZm9yRWFjaChmdW5jdGlvbihhKXtmKGEpfSkpOmYoYywhMCkpOmYoYykpKX12YXIgZixnLGgsaSxqLGssbSxuLG8scCxyLHMsdCx1LHYseCx5PXRoaXMsej15LmNvbmZpZyxBPTQsQj0xMCxDPTAsRD0wLEU9MTAsRj16LmxlZ2VuZF9pdGVtX3RpbGVfd2lkdGgrNSxHPTAsSD17fSxJPXt9LEo9e30sSz1bMF0sTD17fSxNPTA7YT1hLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4hcSh6LmRhdGFfbmFtZXNbYV0pfHxudWxsIT09ei5kYXRhX25hbWVzW2FdfSksYj1ifHx7fSxyPXcoYiwid2l0aFRyYW5zaXRpb24iLCEwKSxzPXcoYiwid2l0aFRyYW5zaXRpb25Gb3JUcmFuc2Zvcm0iLCEwKSx5LmlzTGVnZW5kSW5zZXQmJihNPXoubGVnZW5kX2luc2V0X3N0ZXA/ei5sZWdlbmRfaW5zZXRfc3RlcDphLmxlbmd0aCx5LnVwZGF0ZUxlZ2VuZFN0ZXAoTSkpLHkuaXNMZWdlbmRSaWdodD8oZj1mdW5jdGlvbihhKXtyZXR1cm4gQypMW2FdfSxpPWZ1bmN0aW9uKGEpe3JldHVybiBLW0xbYV1dK0hbYV19KTp5LmlzTGVnZW5kSW5zZXQ/KGY9ZnVuY3Rpb24oYSl7cmV0dXJuIEMqTFthXSsxMH0saT1mdW5jdGlvbihhKXtyZXR1cm4gS1tMW2FdXStIW2FdfSk6KGY9ZnVuY3Rpb24oYSl7cmV0dXJuIEtbTFthXV0rSFthXX0saT1mdW5jdGlvbihhKXtyZXR1cm4gRCpMW2FdfSksZz1mdW5jdGlvbihhLGIpe3JldHVybiBmKGEsYikrNCt6LmxlZ2VuZF9pdGVtX3RpbGVfd2lkdGh9LGo9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gaShhLGIpKzl9LGg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZihhLGIpfSxrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGkoYSxiKS01fSxtPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGYoYSxiKS0yfSxuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGYoYSxiKS0yK3oubGVnZW5kX2l0ZW1fdGlsZV93aWR0aH0sbz1mdW5jdGlvbihhLGIpe3JldHVybiBpKGEsYikrNH0scD15LmxlZ2VuZC5zZWxlY3RBbGwoIi4iK2wubGVnZW5kSXRlbSkuZGF0YShhKS5lbnRlcigpLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixmdW5jdGlvbihhKXtyZXR1cm4geS5nZW5lcmF0ZUNsYXNzKGwubGVnZW5kSXRlbSxhKX0pLnN0eWxlKCJ2aXNpYmlsaXR5IixmdW5jdGlvbihhKXtyZXR1cm4geS5pc0xlZ2VuZFRvU2hvdyhhKT8idmlzaWJsZSI6ImhpZGRlbiJ9KS5zdHlsZSgiY3Vyc29yIiwicG9pbnRlciIpLm9uKCJjbGljayIsZnVuY3Rpb24oYSl7ei5sZWdlbmRfaXRlbV9vbmNsaWNrP3oubGVnZW5kX2l0ZW1fb25jbGljay5jYWxsKHksYSk6eS5kMy5ldmVudC5hbHRLZXk/KHkuYXBpLmhpZGUoKSx5LmFwaS5zaG93KGEpKTooeS5hcGkudG9nZ2xlKGEpLHkuaXNUYXJnZXRUb1Nob3coYSk/eS5hcGkuZm9jdXMoYSk6eS5hcGkucmV2ZXJ0KCkpfSkub24oIm1vdXNlb3ZlciIsZnVuY3Rpb24oYSl7ei5sZWdlbmRfaXRlbV9vbm1vdXNlb3Zlcj96LmxlZ2VuZF9pdGVtX29ubW91c2VvdmVyLmNhbGwoeSxhKTooeS5kMy5zZWxlY3QodGhpcykuY2xhc3NlZChsLmxlZ2VuZEl0ZW1Gb2N1c2VkLCEwKSwheS50cmFuc2l0aW5nJiZ5LmlzVGFyZ2V0VG9TaG93KGEpJiZ5LmFwaS5mb2N1cyhhKSl9KS5vbigibW91c2VvdXQiLGZ1bmN0aW9uKGEpe3oubGVnZW5kX2l0ZW1fb25tb3VzZW91dD96LmxlZ2VuZF9pdGVtX29ubW91c2VvdXQuY2FsbCh5LGEpOih5LmQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKGwubGVnZW5kSXRlbUZvY3VzZWQsITEpLHkuYXBpLnJldmVydCgpKX0pLHAuYXBwZW5kKCJ0ZXh0IikudGV4dChmdW5jdGlvbihhKXtyZXR1cm4gcSh6LmRhdGFfbmFtZXNbYV0pP3ouZGF0YV9uYW1lc1thXTphfSkuZWFjaChmdW5jdGlvbihhLGIpe2UodGhpcyxhLGIpfSkuc3R5bGUoInBvaW50ZXItZXZlbnRzIiwibm9uZSIpLmF0dHIoIngiLHkuaXNMZWdlbmRSaWdodHx8eS5pc0xlZ2VuZEluc2V0P2c6LTIwMCkuYXR0cigieSIseS5pc0xlZ2VuZFJpZ2h0fHx5LmlzTGVnZW5kSW5zZXQ/LTIwMDpqKSxwLmFwcGVuZCgicmVjdCIpLmF0dHIoImNsYXNzIixsLmxlZ2VuZEl0ZW1FdmVudCkuc3R5bGUoImZpbGwtb3BhY2l0eSIsMCkuYXR0cigieCIseS5pc0xlZ2VuZFJpZ2h0fHx5LmlzTGVnZW5kSW5zZXQ/aDotMjAwKS5hdHRyKCJ5Iix5LmlzTGVnZW5kUmlnaHR8fHkuaXNMZWdlbmRJbnNldD8tMjAwOmspLHAuYXBwZW5kKCJsaW5lIikuYXR0cigiY2xhc3MiLGwubGVnZW5kSXRlbVRpbGUpLnN0eWxlKCJzdHJva2UiLHkuY29sb3IpLnN0eWxlKCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKS5hdHRyKCJ4MSIseS5pc0xlZ2VuZFJpZ2h0fHx5LmlzTGVnZW5kSW5zZXQ/bTotMjAwKS5hdHRyKCJ5MSIseS5pc0xlZ2VuZFJpZ2h0fHx5LmlzTGVnZW5kSW5zZXQ/LTIwMDpvKS5hdHRyKCJ4MiIseS5pc0xlZ2VuZFJpZ2h0fHx5LmlzTGVnZW5kSW5zZXQ/bjotMjAwKS5hdHRyKCJ5MiIseS5pc0xlZ2VuZFJpZ2h0fHx5LmlzTGVnZW5kSW5zZXQ/LTIwMDpvKS5hdHRyKCJzdHJva2Utd2lkdGgiLHoubGVnZW5kX2l0ZW1fdGlsZV9oZWlnaHQpLHg9eS5sZWdlbmQuc2VsZWN0KCIuIitsLmxlZ2VuZEJhY2tncm91bmQrIiByZWN0IikseS5pc0xlZ2VuZEluc2V0JiZDPjAmJjA9PT14LnNpemUoKSYmKHg9eS5sZWdlbmQuaW5zZXJ0KCJnIiwiLiIrbC5sZWdlbmRJdGVtKS5hdHRyKCJjbGFzcyIsbC5sZWdlbmRCYWNrZ3JvdW5kKS5hcHBlbmQoInJlY3QiKSksdD15LmxlZ2VuZC5zZWxlY3RBbGwoInRleHQiKS5kYXRhKGEpLnRleHQoZnVuY3Rpb24oYSl7cmV0dXJuIHEoei5kYXRhX25hbWVzW2FdKT96LmRhdGFfbmFtZXNbYV06YX0pLmVhY2goZnVuY3Rpb24oYSxiKXtlKHRoaXMsYSxiKX0pLChyP3QudHJhbnNpdGlvbigpOnQpLmF0dHIoIngiLGcpLmF0dHIoInkiLGopLHU9eS5sZWdlbmQuc2VsZWN0QWxsKCJyZWN0LiIrbC5sZWdlbmRJdGVtRXZlbnQpLmRhdGEoYSksKHI/dS50cmFuc2l0aW9uKCk6dSkuYXR0cigid2lkdGgiLGZ1bmN0aW9uKGEpe3JldHVybiBJW2FdfSkuYXR0cigiaGVpZ2h0IixmdW5jdGlvbihhKXtyZXR1cm4gSlthXX0pLmF0dHIoIngiLGgpLmF0dHIoInkiLGspLHY9eS5sZWdlbmQuc2VsZWN0QWxsKCJsaW5lLiIrbC5sZWdlbmRJdGVtVGlsZSkuZGF0YShhKSwocj92LnRyYW5zaXRpb24oKTp2KS5zdHlsZSgic3Ryb2tlIix5LmNvbG9yKS5hdHRyKCJ4MSIsbSkuYXR0cigieTEiLG8pLmF0dHIoIngyIixuKS5hdHRyKCJ5MiIsbykseCYmKHI/eC50cmFuc2l0aW9uKCk6eCkuYXR0cigiaGVpZ2h0Iix5LmdldExlZ2VuZEhlaWdodCgpLTEyKS5hdHRyKCJ3aWR0aCIsQyooTSsxKSsxMCkseS5sZWdlbmQuc2VsZWN0QWxsKCIuIitsLmxlZ2VuZEl0ZW0pLmNsYXNzZWQobC5sZWdlbmRJdGVtSGlkZGVuLGZ1bmN0aW9uKGEpe3JldHVybiF5LmlzVGFyZ2V0VG9TaG93KGEpfSkseS51cGRhdGVMZWdlbmRJdGVtV2lkdGgoQykseS51cGRhdGVMZWdlbmRJdGVtSGVpZ2h0KEQpLHkudXBkYXRlTGVnZW5kU3RlcChNKSx5LnVwZGF0ZVNpemVzKCkseS51cGRhdGVTY2FsZXMoKSx5LnVwZGF0ZVN2Z1NpemUoKSx5LnRyYW5zZm9ybUFsbChzLGMpLHkubGVnZW5kSGFzUmVuZGVyZWQ9ITB9LGkuaW5pdFRpdGxlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnRpdGxlPWEuc3ZnLmFwcGVuZCgidGV4dCIpLnRleHQoYS5jb25maWcudGl0bGVfdGV4dCkuYXR0cigiY2xhc3MiLGEuQ0xBU1MudGl0bGUpfSxpLnJlZHJhd1RpdGxlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnRpdGxlLmF0dHIoIngiLGEueEZvclRpdGxlLmJpbmQoYSkpLmF0dHIoInkiLGEueUZvclRpdGxlLmJpbmQoYSkpfSxpLnhGb3JUaXRsZT1mdW5jdGlvbigpe3ZhciBhLGI9dGhpcyxjPWIuY29uZmlnLGQ9Yy50aXRsZV9wb3NpdGlvbnx8ImxlZnQiO3JldHVybiBhPWQuaW5kZXhPZigicmlnaHQiKT49MD9iLmN1cnJlbnRXaWR0aC1iLmdldFRleHRSZWN0KGIudGl0bGUubm9kZSgpLnRleHRDb250ZW50LGIuQ0xBU1MudGl0bGUsYi50aXRsZS5ub2RlKCkpLndpZHRoLWMudGl0bGVfcGFkZGluZy5yaWdodDpkLmluZGV4T2YoImNlbnRlciIpPj0wPyhiLmN1cnJlbnRXaWR0aC1iLmdldFRleHRSZWN0KGIudGl0bGUubm9kZSgpLnRleHRDb250ZW50LGIuQ0xBU1MudGl0bGUsYi50aXRsZS5ub2RlKCkpLndpZHRoKS8yOmMudGl0bGVfcGFkZGluZy5sZWZ0fSxpLnlGb3JUaXRsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuY29uZmlnLnRpdGxlX3BhZGRpbmcudG9wK2EuZ2V0VGV4dFJlY3QoYS50aXRsZS5ub2RlKCkudGV4dENvbnRlbnQsYS5DTEFTUy50aXRsZSxhLnRpdGxlLm5vZGUoKSkuaGVpZ2h0fSxpLmdldFRpdGxlUGFkZGluZz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEueUZvclRpdGxlKCkrYS5jb25maWcudGl0bGVfcGFkZGluZy5ib3R0b219LGMoYixmKSxmLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vd25lcixiPWEuY29uZmlnLGM9YS5tYWluO2EuYXhlcy54PWMuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLGwuYXhpcysiICIrbC5heGlzWCkuYXR0cigiY2xpcC1wYXRoIixhLmNsaXBQYXRoRm9yWEF4aXMpLmF0dHIoInRyYW5zZm9ybSIsYS5nZXRUcmFuc2xhdGUoIngiKSkuc3R5bGUoInZpc2liaWxpdHkiLGIuYXhpc194X3Nob3c/InZpc2libGUiOiJoaWRkZW4iKSxhLmF4ZXMueC5hcHBlbmQoInRleHQiKS5hdHRyKCJjbGFzcyIsbC5heGlzWExhYmVsKS5hdHRyKCJ0cmFuc2Zvcm0iLGIuYXhpc19yb3RhdGVkPyJyb3RhdGUoLTkwKSI6IiIpLnN0eWxlKCJ0ZXh0LWFuY2hvciIsdGhpcy50ZXh0QW5jaG9yRm9yWEF4aXNMYWJlbC5iaW5kKHRoaXMpKSxhLmF4ZXMueT1jLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixsLmF4aXMrIiAiK2wuYXhpc1kpLmF0dHIoImNsaXAtcGF0aCIsYi5heGlzX3lfaW5uZXI/IiI6YS5jbGlwUGF0aEZvcllBeGlzKS5hdHRyKCJ0cmFuc2Zvcm0iLGEuZ2V0VHJhbnNsYXRlKCJ5IikpLnN0eWxlKCJ2aXNpYmlsaXR5IixiLmF4aXNfeV9zaG93PyJ2aXNpYmxlIjoiaGlkZGVuIiksYS5heGVzLnkuYXBwZW5kKCJ0ZXh0IikuYXR0cigiY2xhc3MiLGwuYXhpc1lMYWJlbCkuYXR0cigidHJhbnNmb3JtIixiLmF4aXNfcm90YXRlZD8iIjoicm90YXRlKC05MCkiKS5zdHlsZSgidGV4dC1hbmNob3IiLHRoaXMudGV4dEFuY2hvckZvcllBeGlzTGFiZWwuYmluZCh0aGlzKSksYS5heGVzLnkyPWMuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLGwuYXhpcysiICIrbC5heGlzWTIpLmF0dHIoInRyYW5zZm9ybSIsYS5nZXRUcmFuc2xhdGUoInkyIikpLnN0eWxlKCJ2aXNpYmlsaXR5IixiLmF4aXNfeTJfc2hvdz8idmlzaWJsZSI6ImhpZGRlbiIpLGEuYXhlcy55Mi5hcHBlbmQoInRleHQiKS5hdHRyKCJjbGFzcyIsbC5heGlzWTJMYWJlbCkuYXR0cigidHJhbnNmb3JtIixiLmF4aXNfcm90YXRlZD8iIjoicm90YXRlKC05MCkiKS5zdHlsZSgidGV4dC1hbmNob3IiLHRoaXMudGV4dEFuY2hvckZvclkyQXhpc0xhYmVsLmJpbmQodGhpcykpfSxmLnByb3RvdHlwZS5nZXRYQXhpcz1mdW5jdGlvbihhLGIsYyxkLGUsZixoKXt2YXIgaT10aGlzLm93bmVyLGo9aS5jb25maWcsaz17aXNDYXRlZ29yeTppLmlzQ2F0ZWdvcml6ZWQoKSx3aXRoT3V0ZXJUaWNrOmUsdGlja011bHRpbGluZTpqLmF4aXNfeF90aWNrX211bHRpbGluZSx0aWNrV2lkdGg6ai5heGlzX3hfdGlja193aWR0aCx0aWNrVGV4dFJvdGF0ZTpoPzA6ai5heGlzX3hfdGlja19yb3RhdGUsd2l0aG91dFRyYW5zaXRpb246Zn0sbD1nKGkuZDMsaykuc2NhbGUoYSkub3JpZW50KGIpO3JldHVybiBpLmlzVGltZVNlcmllcygpJiZkJiYiZnVuY3Rpb24iIT10eXBlb2YgZCYmKGQ9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGkucGFyc2VEYXRlKGEpfSkpLGwudGlja0Zvcm1hdChjKS50aWNrVmFsdWVzKGQpLGkuaXNDYXRlZ29yaXplZCgpJiYobC50aWNrQ2VudGVyZWQoai5heGlzX3hfdGlja19jZW50ZXJlZCksdShqLmF4aXNfeF90aWNrX2N1bGxpbmcpJiYoai5heGlzX3hfdGlja19jdWxsaW5nPSExKSksbH0sZi5wcm90b3R5cGUudXBkYXRlWEF4aXNUaWNrVmFsdWVzPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD10aGlzLm93bmVyLGU9ZC5jb25maWc7cmV0dXJuKGUuYXhpc194X3RpY2tfZml0fHxlLmF4aXNfeF90aWNrX2NvdW50KSYmKGM9dGhpcy5nZW5lcmF0ZVRpY2tWYWx1ZXMoZC5tYXBUYXJnZXRzVG9VbmlxdWVYcyhhKSxlLmF4aXNfeF90aWNrX2NvdW50LGQuaXNUaW1lU2VyaWVzKCkpKSxiP2IudGlja1ZhbHVlcyhjKTooZC54QXhpcy50aWNrVmFsdWVzKGMpLGQuc3ViWEF4aXMudGlja1ZhbHVlcyhjKSksY30sZi5wcm90b3R5cGUuZ2V0WUF4aXM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsaCl7dmFyIGk9dGhpcy5vd25lcixqPWkuY29uZmlnLGs9e3dpdGhPdXRlclRpY2s6ZSx3aXRob3V0VHJhbnNpdGlvbjpmLHRpY2tUZXh0Um90YXRlOmg/MDpqLmF4aXNfeV90aWNrX3JvdGF0ZX0sbD1nKGkuZDMsaykuc2NhbGUoYSkub3JpZW50KGIpLnRpY2tGb3JtYXQoYyk7cmV0dXJuIGkuaXNUaW1lU2VyaWVzWSgpP2wudGlja3MoaS5kMy50aW1lW2ouYXhpc195X3RpY2tfdGltZV92YWx1ZV0sai5heGlzX3lfdGlja190aW1lX2ludGVydmFsKTpsLnRpY2tWYWx1ZXMoZCksbH0sZi5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vd25lci5jb25maWc7cmV0dXJuIGEgaW4gYi5kYXRhX2F4ZXM/Yi5kYXRhX2F4ZXNbYV06InkifSxmLnByb3RvdHlwZS5nZXRYQXhpc1RpY2tGb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm93bmVyLGI9YS5jb25maWcsYz1hLmlzVGltZVNlcmllcygpP2EuZGVmYXVsdEF4aXNUaW1lRm9ybWF0OmEuaXNDYXRlZ29yaXplZCgpP2EuY2F0ZWdvcnlOYW1lOmZ1bmN0aW9uKGEpe3JldHVybiAwPmE/YS50b0ZpeGVkKDApOmF9O3JldHVybiBiLmF4aXNfeF90aWNrX2Zvcm1hdCYmKG4oYi5heGlzX3hfdGlja19mb3JtYXQpP2M9Yi5heGlzX3hfdGlja19mb3JtYXQ6YS5pc1RpbWVTZXJpZXMoKSYmKGM9ZnVuY3Rpb24oYyl7cmV0dXJuIGM/YS5heGlzVGltZUZvcm1hdChiLmF4aXNfeF90aWNrX2Zvcm1hdCkoYyk6IiJ9KSksbihjKT9mdW5jdGlvbihiKXtyZXR1cm4gYy5jYWxsKGEsYil9OmN9LGYucHJvdG90eXBlLmdldFRpY2tWYWx1ZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT9hOmI/Yi50aWNrVmFsdWVzKCk6dm9pZCAwfSxmLnByb3RvdHlwZS5nZXRYQXhpc1RpY2tWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUaWNrVmFsdWVzKHRoaXMub3duZXIuY29uZmlnLmF4aXNfeF90aWNrX3ZhbHVlcyx0aGlzLm93bmVyLnhBeGlzKX0sZi5wcm90b3R5cGUuZ2V0WUF4aXNUaWNrVmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGlja1ZhbHVlcyh0aGlzLm93bmVyLmNvbmZpZy5heGlzX3lfdGlja192YWx1ZXMsdGhpcy5vd25lci55QXhpcyl9LGYucHJvdG90eXBlLmdldFkyQXhpc1RpY2tWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUaWNrVmFsdWVzKHRoaXMub3duZXIuY29uZmlnLmF4aXNfeTJfdGlja192YWx1ZXMsdGhpcy5vd25lci55MkF4aXMpfSxmLnByb3RvdHlwZS5nZXRMYWJlbE9wdGlvbkJ5QXhpc0lkPWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcy5vd25lcixkPWMuY29uZmlnO3JldHVybiJ5Ij09PWE/Yj1kLmF4aXNfeV9sYWJlbDoieTIiPT09YT9iPWQuYXhpc195Ml9sYWJlbDoieCI9PT1hJiYoYj1kLmF4aXNfeF9sYWJlbCksYn0sZi5wcm90b3R5cGUuZ2V0TGFiZWxUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0TGFiZWxPcHRpb25CeUF4aXNJZChhKTtyZXR1cm4gbyhiKT9iOmI/Yi50ZXh0Om51bGx9LGYucHJvdG90eXBlLnNldExhYmVsVGV4dD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMub3duZXIsZD1jLmNvbmZpZyxlPXRoaXMuZ2V0TGFiZWxPcHRpb25CeUF4aXNJZChhKTtvKGUpPyJ5Ij09PWE/ZC5heGlzX3lfbGFiZWw9YjoieTIiPT09YT9kLmF4aXNfeTJfbGFiZWw9YjoieCI9PT1hJiYoZC5heGlzX3hfbGFiZWw9Yik6ZSYmKGUudGV4dD1iKX0sZi5wcm90b3R5cGUuZ2V0TGFiZWxQb3NpdGlvbj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0TGFiZWxPcHRpb25CeUF4aXNJZChhKSxkPWMmJiJvYmplY3QiPT10eXBlb2YgYyYmYy5wb3NpdGlvbj9jLnBvc2l0aW9uOmI7cmV0dXJue2lzSW5uZXI6ZC5pbmRleE9mKCJpbm5lciIpPj0wLGlzT3V0ZXI6ZC5pbmRleE9mKCJvdXRlciIpPj0wLGlzTGVmdDpkLmluZGV4T2YoImxlZnQiKT49MCxpc0NlbnRlcjpkLmluZGV4T2YoImNlbnRlciIpPj0wLGlzUmlnaHQ6ZC5pbmRleE9mKCJyaWdodCIpPj0wLGlzVG9wOmQuaW5kZXhPZigidG9wIik+PTAsaXNNaWRkbGU6ZC5pbmRleE9mKCJtaWRkbGUiKT49MCxpc0JvdHRvbTpkLmluZGV4T2YoImJvdHRvbSIpPj0wfX0sZi5wcm90b3R5cGUuZ2V0WEF4aXNMYWJlbFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TGFiZWxQb3NpdGlvbigieCIsdGhpcy5vd25lci5jb25maWcuYXhpc19yb3RhdGVkPyJpbm5lci10b3AiOiJpbm5lci1yaWdodCIpfSxmLnByb3RvdHlwZS5nZXRZQXhpc0xhYmVsUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMYWJlbFBvc2l0aW9uKCJ5Iix0aGlzLm93bmVyLmNvbmZpZy5heGlzX3JvdGF0ZWQ/ImlubmVyLXJpZ2h0IjoiaW5uZXItdG9wIil9LGYucHJvdG90eXBlLmdldFkyQXhpc0xhYmVsUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMYWJlbFBvc2l0aW9uKCJ5MiIsdGhpcy5vd25lci5jb25maWcuYXhpc19yb3RhdGVkPyJpbm5lci1yaWdodCI6ImlubmVyLXRvcCIpfSxmLnByb3RvdHlwZS5nZXRMYWJlbFBvc2l0aW9uQnlJZD1mdW5jdGlvbihhKXtyZXR1cm4ieTIiPT09YT90aGlzLmdldFkyQXhpc0xhYmVsUG9zaXRpb24oKToieSI9PT1hP3RoaXMuZ2V0WUF4aXNMYWJlbFBvc2l0aW9uKCk6dGhpcy5nZXRYQXhpc0xhYmVsUG9zaXRpb24oKX0sZi5wcm90b3R5cGUudGV4dEZvclhBeGlzTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMYWJlbFRleHQoIngiKX0sZi5wcm90b3R5cGUudGV4dEZvcllBeGlzTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMYWJlbFRleHQoInkiKX0sZi5wcm90b3R5cGUudGV4dEZvclkyQXhpc0xhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TGFiZWxUZXh0KCJ5MiIpfSxmLnByb3RvdHlwZS54Rm9yQXhpc0xhYmVsPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5vd25lcjtyZXR1cm4gYT9iLmlzTGVmdD8wOmIuaXNDZW50ZXI/Yy53aWR0aC8yOmMud2lkdGg6Yi5pc0JvdHRvbT8tYy5oZWlnaHQ6Yi5pc01pZGRsZT8tYy5oZWlnaHQvMjowfSxmLnByb3RvdHlwZS5keEZvckF4aXNMYWJlbD1mdW5jdGlvbihhLGIpe3JldHVybiBhP2IuaXNMZWZ0PyIwLjVlbSI6Yi5pc1JpZ2h0PyItMC41ZW0iOiIwIjpiLmlzVG9wPyItMC41ZW0iOmIuaXNCb3R0b20/IjAuNWVtIjoiMCJ9LGYucHJvdG90eXBlLnRleHRBbmNob3JGb3JBeGlzTGFiZWw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT9iLmlzTGVmdD8ic3RhcnQiOmIuaXNDZW50ZXI/Im1pZGRsZSI6ImVuZCI6Yi5pc0JvdHRvbT8ic3RhcnQiOmIuaXNNaWRkbGU/Im1pZGRsZSI6ImVuZCJ9LGYucHJvdG90eXBlLnhGb3JYQXhpc0xhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueEZvckF4aXNMYWJlbCghdGhpcy5vd25lci5jb25maWcuYXhpc19yb3RhdGVkLHRoaXMuZ2V0WEF4aXNMYWJlbFBvc2l0aW9uKCkpfSxmLnByb3RvdHlwZS54Rm9yWUF4aXNMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhGb3JBeGlzTGFiZWwodGhpcy5vd25lci5jb25maWcuYXhpc19yb3RhdGVkLHRoaXMuZ2V0WUF4aXNMYWJlbFBvc2l0aW9uKCkpfSxmLnByb3RvdHlwZS54Rm9yWTJBeGlzTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54Rm9yQXhpc0xhYmVsKHRoaXMub3duZXIuY29uZmlnLmF4aXNfcm90YXRlZCx0aGlzLmdldFkyQXhpc0xhYmVsUG9zaXRpb24oKSl9LGYucHJvdG90eXBlLmR4Rm9yWEF4aXNMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmR4Rm9yQXhpc0xhYmVsKCF0aGlzLm93bmVyLmNvbmZpZy5heGlzX3JvdGF0ZWQsdGhpcy5nZXRYQXhpc0xhYmVsUG9zaXRpb24oKSl9LGYucHJvdG90eXBlLmR4Rm9yWUF4aXNMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmR4Rm9yQXhpc0xhYmVsKHRoaXMub3duZXIuY29uZmlnLmF4aXNfcm90YXRlZCx0aGlzLmdldFlBeGlzTGFiZWxQb3NpdGlvbigpKX0sZi5wcm90b3R5cGUuZHhGb3JZMkF4aXNMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmR4Rm9yQXhpc0xhYmVsKHRoaXMub3duZXIuY29uZmlnLmF4aXNfcm90YXRlZCx0aGlzLmdldFkyQXhpc0xhYmVsUG9zaXRpb24oKSl9LGYucHJvdG90eXBlLmR5Rm9yWEF4aXNMYWJlbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMub3duZXIsYj1hLmNvbmZpZyxjPXRoaXMuZ2V0WEF4aXNMYWJlbFBvc2l0aW9uKCk7cmV0dXJuIGIuYXhpc19yb3RhdGVkP2MuaXNJbm5lcj8iMS4yZW0iOi0yNS10aGlzLmdldE1heFRpY2tXaWR0aCgieCIpOmMuaXNJbm5lcj8iLTAuNWVtIjpiLmF4aXNfeF9oZWlnaHQ/Yi5heGlzX3hfaGVpZ2h0LTEwOiIzZW0ifSxmLnByb3RvdHlwZS5keUZvcllBeGlzTGFiZWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm93bmVyLGI9dGhpcy5nZXRZQXhpc0xhYmVsUG9zaXRpb24oKTtyZXR1cm4gYS5jb25maWcuYXhpc19yb3RhdGVkP2IuaXNJbm5lcj8iLTAuNWVtIjoiM2VtIjpiLmlzSW5uZXI/IjEuMmVtIjotMTAtKGEuY29uZmlnLmF4aXNfeV9pbm5lcj8wOnRoaXMuZ2V0TWF4VGlja1dpZHRoKCJ5IikrMTApfSxmLnByb3RvdHlwZS5keUZvclkyQXhpc0xhYmVsPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vd25lcixiPXRoaXMuZ2V0WTJBeGlzTGFiZWxQb3NpdGlvbigpO3JldHVybiBhLmNvbmZpZy5heGlzX3JvdGF0ZWQ/Yi5pc0lubmVyPyIxLjJlbSI6Ii0yLjJlbSI6Yi5pc0lubmVyPyItMC41ZW0iOjE1KyhhLmNvbmZpZy5heGlzX3kyX2lubmVyPzA6dGhpcy5nZXRNYXhUaWNrV2lkdGgoInkyIikrMTUpfSxmLnByb3RvdHlwZS50ZXh0QW5jaG9yRm9yWEF4aXNMYWJlbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMub3duZXI7cmV0dXJuIHRoaXMudGV4dEFuY2hvckZvckF4aXNMYWJlbCghYS5jb25maWcuYXhpc19yb3RhdGVkLHRoaXMuZ2V0WEF4aXNMYWJlbFBvc2l0aW9uKCkpfSxmLnByb3RvdHlwZS50ZXh0QW5jaG9yRm9yWUF4aXNMYWJlbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMub3duZXI7cmV0dXJuIHRoaXMudGV4dEFuY2hvckZvckF4aXNMYWJlbChhLmNvbmZpZy5heGlzX3JvdGF0ZWQsdGhpcy5nZXRZQXhpc0xhYmVsUG9zaXRpb24oKSl9LGYucHJvdG90eXBlLnRleHRBbmNob3JGb3JZMkF4aXNMYWJlbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMub3duZXI7cmV0dXJuIHRoaXMudGV4dEFuY2hvckZvckF4aXNMYWJlbChhLmNvbmZpZy5heGlzX3JvdGF0ZWQsdGhpcy5nZXRZMkF4aXNMYWJlbFBvc2l0aW9uKCkpfSxmLnByb3RvdHlwZS5nZXRNYXhUaWNrV2lkdGg9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGg9dGhpcy5vd25lcixpPWguY29uZmlnLGo9MDtyZXR1cm4gYiYmaC5jdXJyZW50TWF4VGlja1dpZHRoc1thXT9oLmN1cnJlbnRNYXhUaWNrV2lkdGhzW2FdOihoLnN2ZyYmKGM9aC5maWx0ZXJUYXJnZXRzVG9TaG93KGguZGF0YS50YXJnZXRzKSwieSI9PT1hPyhkPWgueS5jb3B5KCkuZG9tYWluKGguZ2V0WURvbWFpbihjLCJ5IikpLGU9dGhpcy5nZXRZQXhpcyhkLGgueU9yaWVudCxpLmF4aXNfeV90aWNrX2Zvcm1hdCxoLnlBeGlzVGlja1ZhbHVlcywhMSwhMCwhMCkpOiJ5MiI9PT1hPyhkPWgueTIuY29weSgpLmRvbWFpbihoLmdldFlEb21haW4oYywieTIiKSksDQplPXRoaXMuZ2V0WUF4aXMoZCxoLnkyT3JpZW50LGkuYXhpc195Ml90aWNrX2Zvcm1hdCxoLnkyQXhpc1RpY2tWYWx1ZXMsITEsITAsITApKTooZD1oLnguY29weSgpLmRvbWFpbihoLmdldFhEb21haW4oYykpLGU9dGhpcy5nZXRYQXhpcyhkLGgueE9yaWVudCxoLnhBeGlzVGlja0Zvcm1hdCxoLnhBeGlzVGlja1ZhbHVlcywhMSwhMCwhMCksdGhpcy51cGRhdGVYQXhpc1RpY2tWYWx1ZXMoYyxlKSksZj1oLmQzLnNlbGVjdCgiYm9keSIpLmFwcGVuZCgiZGl2IikuY2xhc3NlZCgiYzMiLCEwKSxnPWYuYXBwZW5kKCJzdmciKS5zdHlsZSgidmlzaWJpbGl0eSIsImhpZGRlbiIpLnN0eWxlKCJwb3NpdGlvbiIsImZpeGVkIikuc3R5bGUoInRvcCIsMCkuc3R5bGUoImxlZnQiLDApLGcuYXBwZW5kKCJnIikuY2FsbChlKS5lYWNoKGZ1bmN0aW9uKCl7aC5kMy5zZWxlY3QodGhpcykuc2VsZWN0QWxsKCJ0ZXh0IikuZWFjaChmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ajxhLndpZHRoJiYoaj1hLndpZHRoKX0pLGYucmVtb3ZlKCl9KSksaC5jdXJyZW50TWF4VGlja1dpZHRoc1thXT0wPj1qP2guY3VycmVudE1heFRpY2tXaWR0aHNbYV06aixoLmN1cnJlbnRNYXhUaWNrV2lkdGhzW2FdKX0sZi5wcm90b3R5cGUudXBkYXRlTGFiZWxzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3duZXIsYz1iLm1haW4uc2VsZWN0KCIuIitsLmF4aXNYKyIgLiIrbC5heGlzWExhYmVsKSxkPWIubWFpbi5zZWxlY3QoIi4iK2wuYXhpc1krIiAuIitsLmF4aXNZTGFiZWwpLGU9Yi5tYWluLnNlbGVjdCgiLiIrbC5heGlzWTIrIiAuIitsLmF4aXNZMkxhYmVsKTsoYT9jLnRyYW5zaXRpb24oKTpjKS5hdHRyKCJ4Iix0aGlzLnhGb3JYQXhpc0xhYmVsLmJpbmQodGhpcykpLmF0dHIoImR4Iix0aGlzLmR4Rm9yWEF4aXNMYWJlbC5iaW5kKHRoaXMpKS5hdHRyKCJkeSIsdGhpcy5keUZvclhBeGlzTGFiZWwuYmluZCh0aGlzKSkudGV4dCh0aGlzLnRleHRGb3JYQXhpc0xhYmVsLmJpbmQodGhpcykpLChhP2QudHJhbnNpdGlvbigpOmQpLmF0dHIoIngiLHRoaXMueEZvcllBeGlzTGFiZWwuYmluZCh0aGlzKSkuYXR0cigiZHgiLHRoaXMuZHhGb3JZQXhpc0xhYmVsLmJpbmQodGhpcykpLmF0dHIoImR5Iix0aGlzLmR5Rm9yWUF4aXNMYWJlbC5iaW5kKHRoaXMpKS50ZXh0KHRoaXMudGV4dEZvcllBeGlzTGFiZWwuYmluZCh0aGlzKSksKGE/ZS50cmFuc2l0aW9uKCk6ZSkuYXR0cigieCIsdGhpcy54Rm9yWTJBeGlzTGFiZWwuYmluZCh0aGlzKSkuYXR0cigiZHgiLHRoaXMuZHhGb3JZMkF4aXNMYWJlbC5iaW5kKHRoaXMpKS5hdHRyKCJkeSIsdGhpcy5keUZvclkyQXhpc0xhYmVsLmJpbmQodGhpcykpLnRleHQodGhpcy50ZXh0Rm9yWTJBeGlzTGFiZWwuYmluZCh0aGlzKSl9LGYucHJvdG90eXBlLmdldFBhZGRpbmc9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9Im51bWJlciI9PXR5cGVvZiBhP2E6YVtiXTtyZXR1cm4gbShlKT8icmF0aW8iPT09YS51bml0P2FbYl0qZDp0aGlzLmNvbnZlcnRQaXhlbHNUb0F4aXNQYWRkaW5nKGUsZCk6Y30sZi5wcm90b3R5cGUuY29udmVydFBpeGVsc1RvQXhpc1BhZGRpbmc9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm93bmVyLGQ9Yy5jb25maWcuYXhpc19yb3RhdGVkP2Mud2lkdGg6Yy5oZWlnaHQ7cmV0dXJuIGIqKGEvZCl9LGYucHJvdG90eXBlLmdlbmVyYXRlVGlja1ZhbHVlcz1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosaz1hO2lmKGIpaWYoZD1uKGIpP2IoKTpiLDE9PT1kKWs9W2FbMF1dO2Vsc2UgaWYoMj09PWQpaz1bYVswXSxhW2EubGVuZ3RoLTFdXTtlbHNlIGlmKGQ+Mil7Zm9yKGc9ZC0yLGU9YVswXSxmPWFbYS5sZW5ndGgtMV0saD0oZi1lKS8oZysxKSxrPVtlXSxpPTA7Zz5pO2krKylqPStlK2gqKGkrMSksay5wdXNoKGM/bmV3IERhdGUoaik6aik7ay5wdXNoKGYpfXJldHVybiBjfHwoaz1rLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSkpLGt9LGYucHJvdG90eXBlLmdlbmVyYXRlVHJhbnNpdGlvbnM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vd25lcixjPWIuYXhlcztyZXR1cm57YXhpc1g6YT9jLngudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpOmMueCxheGlzWTphP2MueS50cmFuc2l0aW9uKCkuZHVyYXRpb24oYSk6Yy55LGF4aXNZMjphP2MueTIudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpOmMueTIsYXhpc1N1Ylg6YT9jLnN1YngudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpOmMuc3VieH19LGYucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMub3duZXI7Yy5heGVzLnguc3R5bGUoIm9wYWNpdHkiLGI/MDoxKSxjLmF4ZXMueS5zdHlsZSgib3BhY2l0eSIsYj8wOjEpLGMuYXhlcy55Mi5zdHlsZSgib3BhY2l0eSIsYj8wOjEpLGMuYXhlcy5zdWJ4LnN0eWxlKCJvcGFjaXR5IixiPzA6MSksYS5heGlzWC5jYWxsKGMueEF4aXMpLGEuYXhpc1kuY2FsbChjLnlBeGlzKSxhLmF4aXNZMi5jYWxsKGMueTJBeGlzKSxhLmF4aXNTdWJYLmNhbGwoYy5zdWJYQXhpcyl9LGkuZ2V0Q2xpcFBhdGg9ZnVuY3Rpb24oYil7dmFyIGM9YS5uYXZpZ2F0b3IuYXBwVmVyc2lvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIm1zaWUgOS4iKT49MDtyZXR1cm4idXJsKCIrKGM/IiI6ZG9jdW1lbnQuVVJMLnNwbGl0KCIjIilbMF0pKyIjIitiKyIpIn0saS5hcHBlbmRDbGlwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYXBwZW5kKCJjbGlwUGF0aCIpLmF0dHIoImlkIixiKS5hcHBlbmQoInJlY3QiKX0saS5nZXRBeGlzQ2xpcFg9ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMzAsdGhpcy5tYXJnaW4ubGVmdCk7cmV0dXJuIGE/LSgxK2IpOi0oYi0xKX0saS5nZXRBeGlzQ2xpcFk9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/LTIwOi10aGlzLm1hcmdpbi50b3B9LGkuZ2V0WEF4aXNDbGlwWD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuZ2V0QXhpc0NsaXBYKCFhLmNvbmZpZy5heGlzX3JvdGF0ZWQpfSxpLmdldFhBeGlzQ2xpcFk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBhLmdldEF4aXNDbGlwWSghYS5jb25maWcuYXhpc19yb3RhdGVkKX0saS5nZXRZQXhpc0NsaXBYPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gYS5jb25maWcuYXhpc195X2lubmVyPy0xOmEuZ2V0QXhpc0NsaXBYKGEuY29uZmlnLmF4aXNfcm90YXRlZCl9LGkuZ2V0WUF4aXNDbGlwWT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuZ2V0QXhpc0NsaXBZKGEuY29uZmlnLmF4aXNfcm90YXRlZCl9LGkuZ2V0QXhpc0NsaXBXaWR0aD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9TWF0aC5tYXgoMzAsYi5tYXJnaW4ubGVmdCksZD1NYXRoLm1heCgzMCxiLm1hcmdpbi5yaWdodCk7cmV0dXJuIGE/Yi53aWR0aCsyK2MrZDpiLm1hcmdpbi5sZWZ0KzIwfSxpLmdldEF4aXNDbGlwSGVpZ2h0PWZ1bmN0aW9uKGEpe3JldHVybihhP3RoaXMubWFyZ2luLmJvdHRvbTp0aGlzLm1hcmdpbi50b3ArdGhpcy5oZWlnaHQpKzIwfSxpLmdldFhBeGlzQ2xpcFdpZHRoPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gYS5nZXRBeGlzQ2xpcFdpZHRoKCFhLmNvbmZpZy5heGlzX3JvdGF0ZWQpfSxpLmdldFhBeGlzQ2xpcEhlaWdodD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuZ2V0QXhpc0NsaXBIZWlnaHQoIWEuY29uZmlnLmF4aXNfcm90YXRlZCl9LGkuZ2V0WUF4aXNDbGlwV2lkdGg9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBhLmdldEF4aXNDbGlwV2lkdGgoYS5jb25maWcuYXhpc19yb3RhdGVkKSsoYS5jb25maWcuYXhpc195X2lubmVyPzIwOjApfSxpLmdldFlBeGlzQ2xpcEhlaWdodD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuZ2V0QXhpc0NsaXBIZWlnaHQoYS5jb25maWcuYXhpc19yb3RhdGVkKX0saS5pbml0UGllPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZDMsYz1hLmNvbmZpZzthLnBpZT1iLmxheW91dC5waWUoKS52YWx1ZShmdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZXMucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErYi52YWx1ZX0sMCl9KSxjLmRhdGFfb3JkZXJ8fGEucGllLnNvcnQobnVsbCl9LGkudXBkYXRlUmFkaXVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9Yi5nYXVnZV93aWR0aHx8Yi5kb251dF93aWR0aDthLnJhZGl1c0V4cGFuZGVkPU1hdGgubWluKGEuYXJjV2lkdGgsYS5hcmNIZWlnaHQpLzIsYS5yYWRpdXM9Ljk1KmEucmFkaXVzRXhwYW5kZWQsYS5pbm5lclJhZGl1c1JhdGlvPWM/KGEucmFkaXVzLWMpL2EucmFkaXVzOi42LGEuaW5uZXJSYWRpdXM9YS5oYXNUeXBlKCJkb251dCIpfHxhLmhhc1R5cGUoImdhdWdlIik/YS5yYWRpdXMqYS5pbm5lclJhZGl1c1JhdGlvOjB9LGkudXBkYXRlQXJjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnN2Z0FyYz1hLmdldFN2Z0FyYygpLGEuc3ZnQXJjRXhwYW5kZWQ9YS5nZXRTdmdBcmNFeHBhbmRlZCgpLGEuc3ZnQXJjRXhwYW5kZWRTdWI9YS5nZXRTdmdBcmNFeHBhbmRlZCguOTgpfSxpLnVwZGF0ZUFuZ2xlPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGY9dGhpcyxnPWYuY29uZmlnLGg9ITEsaT0wO3JldHVybiBnPyhmLnBpZShmLmZpbHRlclRhcmdldHNUb1Nob3coZi5kYXRhLnRhcmdldHMpKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2h8fGIuZGF0YS5pZCE9PWEuZGF0YS5pZHx8KGg9ITAsYT1iLGEuaW5kZXg9aSksaSsrfSksaXNOYU4oYS5zdGFydEFuZ2xlKSYmKGEuc3RhcnRBbmdsZT0wKSxpc05hTihhLmVuZEFuZ2xlKSYmKGEuZW5kQW5nbGU9YS5zdGFydEFuZ2xlKSxmLmlzR2F1Z2VUeXBlKGEuZGF0YSkmJihiPWcuZ2F1Z2VfbWluLGM9Zy5nYXVnZV9tYXgsZD1NYXRoLlBJKihnLmdhdWdlX2Z1bGxDaXJjbGU/MjoxKS8oYy1iKSxlPWEudmFsdWU8Yj8wOmEudmFsdWU8Yz9hLnZhbHVlLWI6Yy1iLGEuc3RhcnRBbmdsZT1nLmdhdWdlX3N0YXJ0aW5nQW5nbGUsYS5lbmRBbmdsZT1hLnN0YXJ0QW5nbGUrZCplKSxoP2E6bnVsbCk6bnVsbH0saS5nZXRTdmdBcmM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5kMy5zdmcuYXJjKCkub3V0ZXJSYWRpdXMoYS5yYWRpdXMpLmlubmVyUmFkaXVzKGEuaW5uZXJSYWRpdXMpLGM9ZnVuY3Rpb24oYyxkKXt2YXIgZTtyZXR1cm4gZD9iKGMpOihlPWEudXBkYXRlQW5nbGUoYyksZT9iKGUpOiJNIDAgMCIpfTtyZXR1cm4gYy5jZW50cm9pZD1iLmNlbnRyb2lkLGN9LGkuZ2V0U3ZnQXJjRXhwYW5kZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuZDMuc3ZnLmFyYygpLm91dGVyUmFkaXVzKGIucmFkaXVzRXhwYW5kZWQqKGE/YToxKSkuaW5uZXJSYWRpdXMoYi5pbm5lclJhZGl1cyk7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBkPWIudXBkYXRlQW5nbGUoYSk7cmV0dXJuIGQ/YyhkKToiTSAwIDAifX0saS5nZXRBcmM9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHx0aGlzLmlzQXJjVHlwZShhLmRhdGEpP3RoaXMuc3ZnQXJjKGEsYik6Ik0gMCAwIn0saS50cmFuc2Zvcm1Gb3JBcmNMYWJlbD1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGc9dGhpcyxoPWcuY29uZmlnLGk9Zy51cGRhdGVBbmdsZShhKSxqPSIiO3JldHVybiBpJiYhZy5oYXNUeXBlKCJnYXVnZSIpJiYoYj10aGlzLnN2Z0FyYy5jZW50cm9pZChpKSxjPWlzTmFOKGJbMF0pPzA6YlswXSxkPWlzTmFOKGJbMV0pPzA6YlsxXSxlPU1hdGguc3FydChjKmMrZCpkKSxmPWcuaGFzVHlwZSgiZG9udXQiKSYmaC5kb251dF9sYWJlbF9yYXRpbz9uKGguZG9udXRfbGFiZWxfcmF0aW8pP2guZG9udXRfbGFiZWxfcmF0aW8oYSxnLnJhZGl1cyxlKTpoLmRvbnV0X2xhYmVsX3JhdGlvOmcuaGFzVHlwZSgicGllIikmJmgucGllX2xhYmVsX3JhdGlvP24oaC5waWVfbGFiZWxfcmF0aW8pP2gucGllX2xhYmVsX3JhdGlvKGEsZy5yYWRpdXMsZSk6aC5waWVfbGFiZWxfcmF0aW86Zy5yYWRpdXMmJmU/KDM2L2cucmFkaXVzPi4zNzU/MS4xNzUtMzYvZy5yYWRpdXM6LjgpKmcucmFkaXVzL2U6MCxqPSJ0cmFuc2xhdGUoIitjKmYrIiwiK2QqZisiKSIpLGp9LGkuZ2V0QXJjUmF0aW89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9TWF0aC5QSSooYi5oYXNUeXBlKCJnYXVnZSIpJiYhYy5nYXVnZV9mdWxsQ2lyY2xlPzE6Mik7cmV0dXJuIGE/KGEuZW5kQW5nbGUtYS5zdGFydEFuZ2xlKS9kOm51bGx9LGkuY29udmVydFRvQXJjRGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGROYW1lKHtpZDphLmRhdGEuaWQsdmFsdWU6YS52YWx1ZSxyYXRpbzp0aGlzLmdldEFyY1JhdGlvKGEpLGluZGV4OmEuaW5kZXh9KX0saS50ZXh0Rm9yQXJjTGFiZWw9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnPXRoaXM7cmV0dXJuIGcuc2hvdWxkU2hvd0FyY0xhYmVsKCk/KGI9Zy51cGRhdGVBbmdsZShhKSxjPWI/Yi52YWx1ZTpudWxsLGQ9Zy5nZXRBcmNSYXRpbyhiKSxlPWEuZGF0YS5pZCxnLmhhc1R5cGUoImdhdWdlIil8fGcubWVldHNBcmNMYWJlbFRocmVzaG9sZChkKT8oZj1nLmdldEFyY0xhYmVsRm9ybWF0KCksZj9mKGMsZCxlKTpnLmRlZmF1bHRBcmNWYWx1ZUZvcm1hdChjLGQpKToiIik6IiJ9LGkuZXhwYW5kQXJjPWZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcztyZXR1cm4gZC50cmFuc2l0aW5nP3ZvaWQoYz1hLnNldEludGVydmFsKGZ1bmN0aW9uKCl7ZC50cmFuc2l0aW5nfHwoYS5jbGVhckludGVydmFsKGMpLGQubGVnZW5kLnNlbGVjdEFsbCgiLmMzLWxlZ2VuZC1pdGVtLWZvY3VzZWQiKS5zaXplKCk+MCYmZC5leHBhbmRBcmMoYikpfSwxMCkpOihiPWQubWFwVG9UYXJnZXRJZHMoYiksdm9pZCBkLnN2Zy5zZWxlY3RBbGwoZC5zZWxlY3RvclRhcmdldHMoYiwiLiIrbC5jaGFydEFyYykpLmVhY2goZnVuY3Rpb24oYSl7ZC5zaG91bGRFeHBhbmQoYS5kYXRhLmlkKSYmZC5kMy5zZWxlY3QodGhpcykuc2VsZWN0QWxsKCJwYXRoIikudHJhbnNpdGlvbigpLmR1cmF0aW9uKGQuZXhwYW5kRHVyYXRpb24oYS5kYXRhLmlkKSkuYXR0cigiZCIsZC5zdmdBcmNFeHBhbmRlZCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIqZC5leHBhbmREdXJhdGlvbihhLmRhdGEuaWQpKS5hdHRyKCJkIixkLnN2Z0FyY0V4cGFuZGVkU3ViKS5lYWNoKGZ1bmN0aW9uKGEpe2QuaXNEb251dFR5cGUoYS5kYXRhKX0pfSkpfSxpLnVuZXhwYW5kQXJjPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi50cmFuc2l0aW5nfHwoYT1iLm1hcFRvVGFyZ2V0SWRzKGEpLGIuc3ZnLnNlbGVjdEFsbChiLnNlbGVjdG9yVGFyZ2V0cyhhLCIuIitsLmNoYXJ0QXJjKSkuc2VsZWN0QWxsKCJwYXRoIikudHJhbnNpdGlvbigpLmR1cmF0aW9uKGZ1bmN0aW9uKGEpe3JldHVybiBiLmV4cGFuZER1cmF0aW9uKGEuZGF0YS5pZCl9KS5hdHRyKCJkIixiLnN2Z0FyYyksYi5zdmcuc2VsZWN0QWxsKCIuIitsLmFyYykuc3R5bGUoIm9wYWNpdHkiLDEpKX0saS5leHBhbmREdXJhdGlvbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWc7cmV0dXJuIGIuaXNEb251dFR5cGUoYSk/Yy5kb251dF9leHBhbmRfZHVyYXRpb246Yi5pc0dhdWdlVHlwZShhKT9jLmdhdWdlX2V4cGFuZF9kdXJhdGlvbjpiLmlzUGllVHlwZShhKT9jLnBpZV9leHBhbmRfZHVyYXRpb246NTB9LGkuc2hvdWxkRXhwYW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztyZXR1cm4gYi5pc0RvbnV0VHlwZShhKSYmYy5kb251dF9leHBhbmR8fGIuaXNHYXVnZVR5cGUoYSkmJmMuZ2F1Z2VfZXhwYW5kfHxiLmlzUGllVHlwZShhKSYmYy5waWVfZXhwYW5kfSxpLnNob3VsZFNob3dBcmNMYWJlbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZyxjPSEwO3JldHVybiBhLmhhc1R5cGUoImRvbnV0Iik/Yz1iLmRvbnV0X2xhYmVsX3Nob3c6YS5oYXNUeXBlKCJwaWUiKSYmKGM9Yi5waWVfbGFiZWxfc2hvdyksY30saS5tZWV0c0FyY0xhYmVsVGhyZXNob2xkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZyxkPWIuaGFzVHlwZSgiZG9udXQiKT9jLmRvbnV0X2xhYmVsX3RocmVzaG9sZDpjLnBpZV9sYWJlbF90aHJlc2hvbGQ7cmV0dXJuIGE+PWR9LGkuZ2V0QXJjTGFiZWxGb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcsYz1iLnBpZV9sYWJlbF9mb3JtYXQ7cmV0dXJuIGEuaGFzVHlwZSgiZ2F1Z2UiKT9jPWIuZ2F1Z2VfbGFiZWxfZm9ybWF0OmEuaGFzVHlwZSgiZG9udXQiKSYmKGM9Yi5kb251dF9sYWJlbF9mb3JtYXQpLGN9LGkuZ2V0QXJjVGl0bGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBhLmhhc1R5cGUoImRvbnV0Iik/YS5jb25maWcuZG9udXRfdGl0bGU6IiJ9LGkudXBkYXRlVGFyZ2V0c0ZvckFyYz1mdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcyxlPWQubWFpbixmPWQuY2xhc3NDaGFydEFyYy5iaW5kKGQpLGc9ZC5jbGFzc0FyY3MuYmluZChkKSxoPWQuY2xhc3NGb2N1cy5iaW5kKGQpO2I9ZS5zZWxlY3QoIi4iK2wuY2hhcnRBcmNzKS5zZWxlY3RBbGwoIi4iK2wuY2hhcnRBcmMpLmRhdGEoZC5waWUoYSkpLmF0dHIoImNsYXNzIixmdW5jdGlvbihhKXtyZXR1cm4gZihhKStoKGEuZGF0YSl9KSxjPWIuZW50ZXIoKS5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsZiksYy5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsZyksYy5hcHBlbmQoInRleHQiKS5hdHRyKCJkeSIsZC5oYXNUeXBlKCJnYXVnZSIpPyItLjFlbSI6Ii4zNWVtIikuc3R5bGUoIm9wYWNpdHkiLDApLnN0eWxlKCJ0ZXh0LWFuY2hvciIsIm1pZGRsZSIpLnN0eWxlKCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKX0saS5pbml0QXJjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmFyY3M9YS5tYWluLnNlbGVjdCgiLiIrbC5jaGFydCkuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLGwuY2hhcnRBcmNzKS5hdHRyKCJ0cmFuc2Zvcm0iLGEuZ2V0VHJhbnNsYXRlKCJhcmMiKSksYS5hcmNzLmFwcGVuZCgidGV4dCIpLmF0dHIoImNsYXNzIixsLmNoYXJ0QXJjc1RpdGxlKS5zdHlsZSgidGV4dC1hbmNob3IiLCJtaWRkbGUiKS50ZXh0KGEuZ2V0QXJjVGl0bGUoKSl9LGkucmVkcmF3QXJjPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXMsZj1lLmQzLGc9ZS5jb25maWcsaD1lLm1haW47ZD1oLnNlbGVjdEFsbCgiLiIrbC5hcmNzKS5zZWxlY3RBbGwoIi4iK2wuYXJjKS5kYXRhKGUuYXJjRGF0YS5iaW5kKGUpKSxkLmVudGVyKCkuYXBwZW5kKCJwYXRoIikuYXR0cigiY2xhc3MiLGUuY2xhc3NBcmMuYmluZChlKSkuc3R5bGUoImZpbGwiLGZ1bmN0aW9uKGEpe3JldHVybiBlLmNvbG9yKGEuZGF0YSl9KS5zdHlsZSgiY3Vyc29yIixmdW5jdGlvbihhKXtyZXR1cm4gZy5pbnRlcmFjdGlvbl9lbmFibGVkJiZnLmRhdGFfc2VsZWN0aW9uX2lzc2VsZWN0YWJsZShhKT8icG9pbnRlciI6bnVsbH0pLnN0eWxlKCJvcGFjaXR5IiwwKS5lYWNoKGZ1bmN0aW9uKGEpe2UuaXNHYXVnZVR5cGUoYS5kYXRhKSYmKGEuc3RhcnRBbmdsZT1hLmVuZEFuZ2xlPWcuZ2F1Z2Vfc3RhcnRpbmdBbmdsZSksdGhpcy5fY3VycmVudD1hfSksZC5hdHRyKCJ0cmFuc2Zvcm0iLGZ1bmN0aW9uKGEpe3JldHVybiFlLmlzR2F1Z2VUeXBlKGEuZGF0YSkmJmM/InNjYWxlKDApIjoiIn0pLnN0eWxlKCJvcGFjaXR5IixmdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXMuX2N1cnJlbnQ/MDoxfSkub24oIm1vdXNlb3ZlciIsZy5pbnRlcmFjdGlvbl9lbmFibGVkP2Z1bmN0aW9uKGEpe3ZhciBiLGM7ZS50cmFuc2l0aW5nfHwoYj1lLnVwZGF0ZUFuZ2xlKGEpLGImJihjPWUuY29udmVydFRvQXJjRGF0YShiKSxlLmV4cGFuZEFyYyhiLmRhdGEuaWQpLGUuYXBpLmZvY3VzKGIuZGF0YS5pZCksZS50b2dnbGVGb2N1c0xlZ2VuZChiLmRhdGEuaWQsITApLGUuY29uZmlnLmRhdGFfb25tb3VzZW92ZXIoYyx0aGlzKSkpfTpudWxsKS5vbigibW91c2Vtb3ZlIixnLmludGVyYWN0aW9uX2VuYWJsZWQ/ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPWUudXBkYXRlQW5nbGUoYSk7ZCYmKGI9ZS5jb252ZXJ0VG9BcmNEYXRhKGQpLGM9W2JdLGUuc2hvd1Rvb2x0aXAoYyx0aGlzKSl9Om51bGwpLm9uKCJtb3VzZW91dCIsZy5pbnRlcmFjdGlvbl9lbmFibGVkP2Z1bmN0aW9uKGEpe3ZhciBiLGM7ZS50cmFuc2l0aW5nfHwoYj1lLnVwZGF0ZUFuZ2xlKGEpLGImJihjPWUuY29udmVydFRvQXJjRGF0YShiKSxlLnVuZXhwYW5kQXJjKGIuZGF0YS5pZCksZS5hcGkucmV2ZXJ0KCksZS5yZXZlcnRMZWdlbmQoKSxlLmhpZGVUb29sdGlwKCksZS5jb25maWcuZGF0YV9vbm1vdXNlb3V0KGMsdGhpcykpKX06bnVsbCkub24oImNsaWNrIixnLmludGVyYWN0aW9uX2VuYWJsZWQ/ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWUudXBkYXRlQW5nbGUoYSk7ZCYmKGM9ZS5jb252ZXJ0VG9BcmNEYXRhKGQpLGUudG9nZ2xlU2hhcGUmJmUudG9nZ2xlU2hhcGUodGhpcyxjLGIpLGUuY29uZmlnLmRhdGFfb25jbGljay5jYWxsKGUuYXBpLGMsdGhpcykpfTpudWxsKS5lYWNoKGZ1bmN0aW9uKCl7ZS50cmFuc2l0aW5nPSEwfSkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLmF0dHJUd2VlbigiZCIsZnVuY3Rpb24oYSl7dmFyIGIsYz1lLnVwZGF0ZUFuZ2xlKGEpO3JldHVybiBjPyhpc05hTih0aGlzLl9jdXJyZW50LnN0YXJ0QW5nbGUpJiYodGhpcy5fY3VycmVudC5zdGFydEFuZ2xlPTApLGlzTmFOKHRoaXMuX2N1cnJlbnQuZW5kQW5nbGUpJiYodGhpcy5fY3VycmVudC5lbmRBbmdsZT10aGlzLl9jdXJyZW50LnN0YXJ0QW5nbGUpLGI9Zi5pbnRlcnBvbGF0ZSh0aGlzLl9jdXJyZW50LGMpLHRoaXMuX2N1cnJlbnQ9YigwKSxmdW5jdGlvbihjKXt2YXIgZD1iKGMpO3JldHVybiBkLmRhdGE9YS5kYXRhLGUuZ2V0QXJjKGQsITApfSk6ZnVuY3Rpb24oKXtyZXR1cm4iTSAwIDAifX0pLmF0dHIoInRyYW5zZm9ybSIsYz8ic2NhbGUoMSkiOiIiKS5zdHlsZSgiZmlsbCIsZnVuY3Rpb24oYSl7cmV0dXJuIGUubGV2ZWxDb2xvcj9lLmxldmVsQ29sb3IoYS5kYXRhLnZhbHVlc1swXS52YWx1ZSk6ZS5jb2xvcihhLmRhdGEuaWQpfSkuc3R5bGUoIm9wYWNpdHkiLDEpLmNhbGwoZS5lbmRhbGwsZnVuY3Rpb24oKXtlLnRyYW5zaXRpbmc9ITF9KSxkLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oYikuc3R5bGUoIm9wYWNpdHkiLDApLnJlbW92ZSgpLGguc2VsZWN0QWxsKCIuIitsLmNoYXJ0QXJjKS5zZWxlY3QoInRleHQiKS5zdHlsZSgib3BhY2l0eSIsMCkuYXR0cigiY2xhc3MiLGZ1bmN0aW9uKGEpe3JldHVybiBlLmlzR2F1Z2VUeXBlKGEuZGF0YSk/bC5nYXVnZVZhbHVlOiIifSkudGV4dChlLnRleHRGb3JBcmNMYWJlbC5iaW5kKGUpKS5hdHRyKCJ0cmFuc2Zvcm0iLGUudHJhbnNmb3JtRm9yQXJjTGFiZWwuYmluZChlKSkuc3R5bGUoImZvbnQtc2l6ZSIsZnVuY3Rpb24oYSl7cmV0dXJuIGUuaXNHYXVnZVR5cGUoYS5kYXRhKT9NYXRoLnJvdW5kKGUucmFkaXVzLzUpKyJweCI6IiJ9KS50cmFuc2l0aW9uKCkuZHVyYXRpb24oYSkuc3R5bGUoIm9wYWNpdHkiLGZ1bmN0aW9uKGEpe3JldHVybiBlLmlzVGFyZ2V0VG9TaG93KGEuZGF0YS5pZCkmJmUuaXNBcmNUeXBlKGEuZGF0YSk/MTowfSksaC5zZWxlY3QoIi4iK2wuY2hhcnRBcmNzVGl0bGUpLnN0eWxlKCJvcGFjaXR5IixlLmhhc1R5cGUoImRvbnV0Iil8fGUuaGFzVHlwZSgiZ2F1Z2UiKT8xOjApLGUuaGFzVHlwZSgiZ2F1Z2UiKSYmKGUuYXJjcy5zZWxlY3QoIi4iK2wuY2hhcnRBcmNzQmFja2dyb3VuZCkuYXR0cigiZCIsZnVuY3Rpb24oKXt2YXIgYT17ZGF0YTpbe3ZhbHVlOmcuZ2F1Z2VfbWF4fV0sc3RhcnRBbmdsZTpnLmdhdWdlX3N0YXJ0aW5nQW5nbGUsZW5kQW5nbGU6LTEqZy5nYXVnZV9zdGFydGluZ0FuZ2xlfTtyZXR1cm4gZS5nZXRBcmMoYSwhMCwhMCl9KSxlLmFyY3Muc2VsZWN0KCIuIitsLmNoYXJ0QXJjc0dhdWdlVW5pdCkuYXR0cigiZHkiLCIuNzVlbSIpLnRleHQoZy5nYXVnZV9sYWJlbF9zaG93P2cuZ2F1Z2VfdW5pdHM6IiIpLGUuYXJjcy5zZWxlY3QoIi4iK2wuY2hhcnRBcmNzR2F1Z2VNaW4pLmF0dHIoImR4IiwtMSooZS5pbm5lclJhZGl1cysoZS5yYWRpdXMtZS5pbm5lclJhZGl1cykvKGcuZ2F1Z2VfZnVsbENpcmNsZT8xOjIpKSsicHgiKS5hdHRyKCJkeSIsIjEuMmVtIikudGV4dChnLmdhdWdlX2xhYmVsX3Nob3c/Zy5nYXVnZV9taW46IiIpLGUuYXJjcy5zZWxlY3QoIi4iK2wuY2hhcnRBcmNzR2F1Z2VNYXgpLmF0dHIoImR4IixlLmlubmVyUmFkaXVzKyhlLnJhZGl1cy1lLmlubmVyUmFkaXVzKS8oZy5nYXVnZV9mdWxsQ2lyY2xlPzE6MikrInB4IikuYXR0cigiZHkiLCIxLjJlbSIpLnRleHQoZy5nYXVnZV9sYWJlbF9zaG93P2cuZ2F1Z2VfbWF4OiIiKSl9LGkuaW5pdEdhdWdlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hcmNzO3RoaXMuaGFzVHlwZSgiZ2F1Z2UiKSYmKGEuYXBwZW5kKCJwYXRoIikuYXR0cigiY2xhc3MiLGwuY2hhcnRBcmNzQmFja2dyb3VuZCksYS5hcHBlbmQoInRleHQiKS5hdHRyKCJjbGFzcyIsbC5jaGFydEFyY3NHYXVnZVVuaXQpLnN0eWxlKCJ0ZXh0LWFuY2hvciIsIm1pZGRsZSIpLnN0eWxlKCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKSxhLmFwcGVuZCgidGV4dCIpLmF0dHIoImNsYXNzIixsLmNoYXJ0QXJjc0dhdWdlTWluKS5zdHlsZSgidGV4dC1hbmNob3IiLCJtaWRkbGUiKS5zdHlsZSgicG9pbnRlci1ldmVudHMiLCJub25lIiksYS5hcHBlbmQoInRleHQiKS5hdHRyKCJjbGFzcyIsbC5jaGFydEFyY3NHYXVnZU1heCkuc3R5bGUoInRleHQtYW5jaG9yIiwibWlkZGxlIikuc3R5bGUoInBvaW50ZXItZXZlbnRzIiwibm9uZSIpKX0saS5nZXRHYXVnZUxhYmVsSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLmdhdWdlX2xhYmVsX3Nob3c/MjA6MH0saS5pbml0UmVnaW9uPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnJlZ2lvbj1hLm1haW4uYXBwZW5kKCJnIikuYXR0cigiY2xpcC1wYXRoIixhLmNsaXBQYXRoKS5hdHRyKCJjbGFzcyIsbC5yZWdpb25zKX0saS51cGRhdGVSZWdpb249ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnO2IucmVnaW9uLnN0eWxlKCJ2aXNpYmlsaXR5IixiLmhhc0FyY1R5cGUoKT8iaGlkZGVuIjoidmlzaWJsZSIpLGIubWFpblJlZ2lvbj1iLm1haW4uc2VsZWN0KCIuIitsLnJlZ2lvbnMpLnNlbGVjdEFsbCgiLiIrbC5yZWdpb24pLmRhdGEoYy5yZWdpb25zKSxiLm1haW5SZWdpb24uZW50ZXIoKS5hcHBlbmQoImciKS5hcHBlbmQoInJlY3QiKS5zdHlsZSgiZmlsbC1vcGFjaXR5IiwwKSxiLm1haW5SZWdpb24uYXR0cigiY2xhc3MiLGIuY2xhc3NSZWdpb24uYmluZChiKSksYi5tYWluUmVnaW9uLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oYSkuc3R5bGUoIm9wYWNpdHkiLDApLnJlbW92ZSgpfSxpLnJlZHJhd1JlZ2lvbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5tYWluUmVnaW9uLnNlbGVjdEFsbCgicmVjdCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYT1iLmQzLnNlbGVjdCh0aGlzLnBhcmVudE5vZGUpLmRhdHVtKCk7Yi5kMy5zZWxlY3QodGhpcykuZGF0dW0oYSl9KSxkPWIucmVnaW9uWC5iaW5kKGIpLGU9Yi5yZWdpb25ZLmJpbmQoYiksZj1iLnJlZ2lvbldpZHRoLmJpbmQoYiksZz1iLnJlZ2lvbkhlaWdodC5iaW5kKGIpO3JldHVyblsoYT9jLnRyYW5zaXRpb24oKTpjKS5hdHRyKCJ4IixkKS5hdHRyKCJ5IixlKS5hdHRyKCJ3aWR0aCIsZikuYXR0cigiaGVpZ2h0IixnKS5zdHlsZSgiZmlsbC1vcGFjaXR5IixmdW5jdGlvbihhKXtyZXR1cm4gbShhLm9wYWNpdHkpP2Eub3BhY2l0eTouMX0pXX0saS5yZWdpb25YPWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcyxkPWMuY29uZmlnLGU9InkiPT09YS5heGlzP2MueTpjLnkyO3JldHVybiBiPSJ5Ij09PWEuYXhpc3x8InkyIj09PWEuYXhpcz9kLmF4aXNfcm90YXRlZCYmInN0YXJ0ImluIGE/ZShhLnN0YXJ0KTowOmQuYXhpc19yb3RhdGVkPzA6InN0YXJ0ImluIGE/Yy54KGMuaXNUaW1lU2VyaWVzKCk/Yy5wYXJzZURhdGUoYS5zdGFydCk6YS5zdGFydCk6MH0saS5yZWdpb25ZPWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcyxkPWMuY29uZmlnLGU9InkiPT09YS5heGlzP2MueTpjLnkyO3JldHVybiBiPSJ5Ij09PWEuYXhpc3x8InkyIj09PWEuYXhpcz9kLmF4aXNfcm90YXRlZD8wOiJlbmQiaW4gYT9lKGEuZW5kKTowOmQuYXhpc19yb3RhdGVkJiYic3RhcnQiaW4gYT9jLngoYy5pc1RpbWVTZXJpZXMoKT9jLnBhcnNlRGF0ZShhLnN0YXJ0KTphLnN0YXJ0KTowfSxpLnJlZ2lvbldpZHRoPWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcyxkPWMuY29uZmlnLGU9Yy5yZWdpb25YKGEpLGY9InkiPT09YS5heGlzP2MueTpjLnkyO3JldHVybiBiPSJ5Ij09PWEuYXhpc3x8InkyIj09PWEuYXhpcz9kLmF4aXNfcm90YXRlZCYmImVuZCJpbiBhP2YoYS5lbmQpOmMud2lkdGg6ZC5heGlzX3JvdGF0ZWQ/Yy53aWR0aDoiZW5kImluIGE/Yy54KGMuaXNUaW1lU2VyaWVzKCk/Yy5wYXJzZURhdGUoYS5lbmQpOmEuZW5kKTpjLndpZHRoLGU+Yj8wOmItZX0saS5yZWdpb25IZWlnaHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLGQ9Yy5jb25maWcsZT10aGlzLnJlZ2lvblkoYSksZj0ieSI9PT1hLmF4aXM/Yy55OmMueTI7cmV0dXJuIGI9InkiPT09YS5heGlzfHwieTIiPT09YS5heGlzP2QuYXhpc19yb3RhdGVkP2MuaGVpZ2h0OiJzdGFydCJpbiBhP2YoYS5zdGFydCk6Yy5oZWlnaHQ6ZC5heGlzX3JvdGF0ZWQmJiJlbmQiaW4gYT9jLngoYy5pc1RpbWVTZXJpZXMoKT9jLnBhcnNlRGF0ZShhLmVuZCk6YS5lbmQpOmMuaGVpZ2h0LGU+Yj8wOmItZX0saS5pc1JlZ2lvbk9uWD1mdW5jdGlvbihhKXtyZXR1cm4hYS5heGlzfHwieCI9PT1hLmF4aXN9LGkuZHJhZz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpLGo9dGhpcyxrPWouY29uZmlnLG09ai5tYWluLG49ai5kMztqLmhhc0FyY1R5cGUoKXx8ay5kYXRhX3NlbGVjdGlvbl9lbmFibGVkJiYoay56b29tX2VuYWJsZWQmJiFqLnpvb20uYWx0RG9tYWlufHxrLmRhdGFfc2VsZWN0aW9uX211bHRpcGxlJiYoYj1qLmRyYWdTdGFydFswXSxjPWouZHJhZ1N0YXJ0WzFdLGQ9YVswXSxlPWFbMV0sZj1NYXRoLm1pbihiLGQpLGc9TWF0aC5tYXgoYixkKSxoPWsuZGF0YV9zZWxlY3Rpb25fZ3JvdXBlZD9qLm1hcmdpbi50b3A6TWF0aC5taW4oYyxlKSxpPWsuZGF0YV9zZWxlY3Rpb25fZ3JvdXBlZD9qLmhlaWdodDpNYXRoLm1heChjLGUpLG0uc2VsZWN0KCIuIitsLmRyYWdhcmVhKS5hdHRyKCJ4IixmKS5hdHRyKCJ5IixoKS5hdHRyKCJ3aWR0aCIsZy1mKS5hdHRyKCJoZWlnaHQiLGktaCksbS5zZWxlY3RBbGwoIi4iK2wuc2hhcGVzKS5zZWxlY3RBbGwoIi4iK2wuc2hhcGUpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gay5kYXRhX3NlbGVjdGlvbl9pc3NlbGVjdGFibGUoYSl9KS5lYWNoKGZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGssbSxvLHA9bi5zZWxlY3QodGhpcykscT1wLmNsYXNzZWQobC5TRUxFQ1RFRCkscj1wLmNsYXNzZWQobC5JTkNMVURFRCkscz0hMTtpZihwLmNsYXNzZWQobC5jaXJjbGUpKWM9MSpwLmF0dHIoImN4IiksZD0xKnAuYXR0cigiY3kiKSxtPWoudG9nZ2xlUG9pbnQscz1jPmYmJmc+YyYmZD5oJiZpPmQ7ZWxzZXtpZighcC5jbGFzc2VkKGwuYmFyKSlyZXR1cm47bz16KHRoaXMpLGM9by54LGQ9by55LGU9by53aWR0aCxrPW8uaGVpZ2h0LG09ai50b2dnbGVQYXRoLHM9IShjPmd8fGY+YytlfHxkPml8fGg+ZCtrKX1zXnImJihwLmNsYXNzZWQobC5JTkNMVURFRCwhcikscC5jbGFzc2VkKGwuU0VMRUNURUQsIXEpLG0uY2FsbChqLCFxLHAsYSxiKSl9KSkpfSxpLmRyYWdzdGFydD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWc7Yi5oYXNBcmNUeXBlKCl8fGMuZGF0YV9zZWxlY3Rpb25fZW5hYmxlZCYmKGIuZHJhZ1N0YXJ0PWEsYi5tYWluLnNlbGVjdCgiLiIrbC5jaGFydCkuYXBwZW5kKCJyZWN0IikuYXR0cigiY2xhc3MiLGwuZHJhZ2FyZWEpLnN0eWxlKCJvcGFjaXR5IiwuMSksYi5kcmFnZ2luZz0hMCl9LGkuZHJhZ2VuZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZzthLmhhc0FyY1R5cGUoKXx8Yi5kYXRhX3NlbGVjdGlvbl9lbmFibGVkJiYoYS5tYWluLnNlbGVjdCgiLiIrbC5kcmFnYXJlYSkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMCkuc3R5bGUoIm9wYWNpdHkiLDApLnJlbW92ZSgpLGEubWFpbi5zZWxlY3RBbGwoIi4iK2wuc2hhcGUpLmNsYXNzZWQobC5JTkNMVURFRCwhMSksYS5kcmFnZ2luZz0hMSl9LGkuc2VsZWN0UG9pbnQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMsZT1kLmNvbmZpZyxmPShlLmF4aXNfcm90YXRlZD9kLmNpcmNsZVk6ZC5jaXJjbGVYKS5iaW5kKGQpLGc9KGUuYXhpc19yb3RhdGVkP2QuY2lyY2xlWDpkLmNpcmNsZVkpLmJpbmQoZCksaD1kLnBvaW50U2VsZWN0Ui5iaW5kKGQpO2UuZGF0YV9vbnNlbGVjdGVkLmNhbGwoZC5hcGksYixhLm5vZGUoKSksZC5tYWluLnNlbGVjdCgiLiIrbC5zZWxlY3RlZENpcmNsZXMrZC5nZXRUYXJnZXRTZWxlY3RvclN1ZmZpeChiLmlkKSkuc2VsZWN0QWxsKCIuIitsLnNlbGVjdGVkQ2lyY2xlKyItIitjKS5kYXRhKFtiXSkuZW50ZXIoKS5hcHBlbmQoImNpcmNsZSIpLmF0dHIoImNsYXNzIixmdW5jdGlvbigpe3JldHVybiBkLmdlbmVyYXRlQ2xhc3MobC5zZWxlY3RlZENpcmNsZSxjKX0pLmF0dHIoImN4IixmKS5hdHRyKCJjeSIsZykuYXR0cigic3Ryb2tlIixmdW5jdGlvbigpe3JldHVybiBkLmNvbG9yKGIpfSkuYXR0cigiciIsZnVuY3Rpb24oYSl7cmV0dXJuIDEuNCpkLnBvaW50U2VsZWN0UihhKX0pLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDApLmF0dHIoInIiLGgpfSxpLnVuc2VsZWN0UG9pbnQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXM7ZC5jb25maWcuZGF0YV9vbnVuc2VsZWN0ZWQuY2FsbChkLmFwaSxiLGEubm9kZSgpKSxkLm1haW4uc2VsZWN0KCIuIitsLnNlbGVjdGVkQ2lyY2xlcytkLmdldFRhcmdldFNlbGVjdG9yU3VmZml4KGIuaWQpKS5zZWxlY3RBbGwoIi4iK2wuc2VsZWN0ZWRDaXJjbGUrIi0iK2MpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDApLmF0dHIoInIiLDApLnJlbW92ZSgpfSxpLnRvZ2dsZVBvaW50PWZ1bmN0aW9uKGEsYixjLGQpe2E/dGhpcy5zZWxlY3RQb2ludChiLGMsZCk6dGhpcy51bnNlbGVjdFBvaW50KGIsYyxkKX0saS5zZWxlY3RQYXRoPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztjLmNvbmZpZy5kYXRhX29uc2VsZWN0ZWQuY2FsbChjLGIsYS5ub2RlKCkpLGMuY29uZmlnLmludGVyYWN0aW9uX2JyaWdodGVuJiZhLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDApLnN0eWxlKCJmaWxsIixmdW5jdGlvbigpe3JldHVybiBjLmQzLnJnYihjLmNvbG9yKGIpKS5icmlnaHRlciguNzUpfSl9LGkudW5zZWxlY3RQYXRoPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztjLmNvbmZpZy5kYXRhX29udW5zZWxlY3RlZC5jYWxsKGMsYixhLm5vZGUoKSksYy5jb25maWcuaW50ZXJhY3Rpb25fYnJpZ2h0ZW4mJmEudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMCkuc3R5bGUoImZpbGwiLGZ1bmN0aW9uKCl7cmV0dXJuIGMuY29sb3IoYil9KX0saS50b2dnbGVQYXRoPWZ1bmN0aW9uKGEsYixjLGQpe2E/dGhpcy5zZWxlY3RQYXRoKGIsYyxkKTp0aGlzLnVuc2VsZWN0UGF0aChiLGMsZCl9LGkuZ2V0VG9nZ2xlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD10aGlzO3JldHVybiJjaXJjbGUiPT09YS5ub2RlTmFtZT9jPWQuaXNTdGVwVHlwZShiKT9mdW5jdGlvbigpe306ZC50b2dnbGVQb2ludDoicGF0aCI9PT1hLm5vZGVOYW1lJiYoYz1kLnRvZ2dsZVBhdGgpLGN9LGkudG9nZ2xlU2hhcGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMsZT1kLmQzLGY9ZC5jb25maWcsZz1lLnNlbGVjdChhKSxoPWcuY2xhc3NlZChsLlNFTEVDVEVEKSxpPWQuZ2V0VG9nZ2xlKGEsYikuYmluZChkKTtmLmRhdGFfc2VsZWN0aW9uX2VuYWJsZWQmJmYuZGF0YV9zZWxlY3Rpb25faXNzZWxlY3RhYmxlKGIpJiYoZi5kYXRhX3NlbGVjdGlvbl9tdWx0aXBsZXx8ZC5tYWluLnNlbGVjdEFsbCgiLiIrbC5zaGFwZXMrKGYuZGF0YV9zZWxlY3Rpb25fZ3JvdXBlZD9kLmdldFRhcmdldFNlbGVjdG9yU3VmZml4KGIuaWQpOiIiKSkuc2VsZWN0QWxsKCIuIitsLnNoYXBlKS5lYWNoKGZ1bmN0aW9uKGEsYil7dmFyIGM9ZS5zZWxlY3QodGhpcyk7Yy5jbGFzc2VkKGwuU0VMRUNURUQpJiZpKCExLGMuY2xhc3NlZChsLlNFTEVDVEVELCExKSxhLGIpfSksZy5jbGFzc2VkKGwuU0VMRUNURUQsIWgpLGkoIWgsZyxiLGMpKX0saS5pbml0QnJ1c2g9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5kMzthLmJydXNoPWIuc3ZnLmJydXNoKCkub24oImJydXNoIixmdW5jdGlvbigpe2EucmVkcmF3Rm9yQnJ1c2goKX0pLGEuYnJ1c2gudXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuY29udGV4dCYmYS5jb250ZXh0LnNlbGVjdCgiLiIrbC5icnVzaCkuY2FsbCh0aGlzKSx0aGlzfSxhLmJydXNoLnNjYWxlPWZ1bmN0aW9uKGIpe3JldHVybiBhLmNvbmZpZy5heGlzX3JvdGF0ZWQ/dGhpcy55KGIpOnRoaXMueChiKX19LGkuaW5pdFN1YmNoYXJ0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9YS5jb250ZXh0PWEuc3ZnLmFwcGVuZCgiZyIpLmF0dHIoInRyYW5zZm9ybSIsYS5nZXRUcmFuc2xhdGUoImNvbnRleHQiKSksZD1iLnN1YmNoYXJ0X3Nob3c/InZpc2libGUiOiJoaWRkZW4iO2Muc3R5bGUoInZpc2liaWxpdHkiLGQpLGMuYXBwZW5kKCJnIikuYXR0cigiY2xpcC1wYXRoIixhLmNsaXBQYXRoRm9yU3ViY2hhcnQpLmF0dHIoImNsYXNzIixsLmNoYXJ0KSxjLnNlbGVjdCgiLiIrbC5jaGFydCkuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLGwuY2hhcnRCYXJzKSxjLnNlbGVjdCgiLiIrbC5jaGFydCkuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLGwuY2hhcnRMaW5lcyksYy5hcHBlbmQoImciKS5hdHRyKCJjbGlwLXBhdGgiLGEuY2xpcFBhdGgpLmF0dHIoImNsYXNzIixsLmJydXNoKS5jYWxsKGEuYnJ1c2gpLGEuYXhlcy5zdWJ4PWMuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLGwuYXhpc1gpLmF0dHIoInRyYW5zZm9ybSIsYS5nZXRUcmFuc2xhdGUoInN1YngiKSkuYXR0cigiY2xpcC1wYXRoIixiLmF4aXNfcm90YXRlZD8iIjphLmNsaXBQYXRoRm9yWEF4aXMpLnN0eWxlKCJ2aXNpYmlsaXR5IixiLnN1YmNoYXJ0X2F4aXNfeF9zaG93P2Q6ImhpZGRlbiIpfSxpLnVwZGF0ZVRhcmdldHNGb3JTdWJjaGFydD1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmPXRoaXMsZz1mLmNvbnRleHQsaD1mLmNvbmZpZyxpPWYuY2xhc3NDaGFydEJhci5iaW5kKGYpLGo9Zi5jbGFzc0JhcnMuYmluZChmKSxrPWYuY2xhc3NDaGFydExpbmUuYmluZChmKSxtPWYuY2xhc3NMaW5lcy5iaW5kKGYpLG49Zi5jbGFzc0FyZWFzLmJpbmQoZik7aC5zdWJjaGFydF9zaG93JiYoZT1nLnNlbGVjdCgiLiIrbC5jaGFydEJhcnMpLnNlbGVjdEFsbCgiLiIrbC5jaGFydEJhcikuZGF0YShhKS5hdHRyKCJjbGFzcyIsaSksZD1lLmVudGVyKCkuYXBwZW5kKCJnIikuc3R5bGUoIm9wYWNpdHkiLDApLmF0dHIoImNsYXNzIixpKSxkLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixqKSxjPWcuc2VsZWN0KCIuIitsLmNoYXJ0TGluZXMpLnNlbGVjdEFsbCgiLiIrbC5jaGFydExpbmUpLmRhdGEoYSkuYXR0cigiY2xhc3MiLGspLGI9Yy5lbnRlcigpLmFwcGVuZCgiZyIpLnN0eWxlKCJvcGFjaXR5IiwwKS5hdHRyKCJjbGFzcyIsayksYi5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsbSksYi5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsbiksZy5zZWxlY3RBbGwoIi4iK2wuYnJ1c2grIiByZWN0IikuYXR0cihoLmF4aXNfcm90YXRlZD8id2lkdGgiOiJoZWlnaHQiLGguYXhpc19yb3RhdGVkP2Yud2lkdGgyOmYuaGVpZ2h0MikpfSxpLnVwZGF0ZUJhckZvclN1YmNoYXJ0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5jb250ZXh0QmFyPWIuY29udGV4dC5zZWxlY3RBbGwoIi4iK2wuYmFycykuc2VsZWN0QWxsKCIuIitsLmJhcikuZGF0YShiLmJhckRhdGEuYmluZChiKSksYi5jb250ZXh0QmFyLmVudGVyKCkuYXBwZW5kKCJwYXRoIikuYXR0cigiY2xhc3MiLGIuY2xhc3NCYXIuYmluZChiKSkuc3R5bGUoInN0cm9rZSIsIm5vbmUiKS5zdHlsZSgiZmlsbCIsYi5jb2xvciksYi5jb250ZXh0QmFyLnN0eWxlKCJvcGFjaXR5IixiLmluaXRpYWxPcGFjaXR5LmJpbmQoYikpLGIuY29udGV4dEJhci5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLnN0eWxlKCJvcGFjaXR5IiwwKS5yZW1vdmUoKX0saS5yZWRyYXdCYXJGb3JTdWJjaGFydD1mdW5jdGlvbihhLGIsYyl7KGI/dGhpcy5jb250ZXh0QmFyLnRyYW5zaXRpb24oTWF0aC5yYW5kb20oKS50b1N0cmluZygpKS5kdXJhdGlvbihjKTp0aGlzLmNvbnRleHRCYXIpLmF0dHIoImQiLGEpLnN0eWxlKCJvcGFjaXR5IiwxKX0saS51cGRhdGVMaW5lRm9yU3ViY2hhcnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLmNvbnRleHRMaW5lPWIuY29udGV4dC5zZWxlY3RBbGwoIi4iK2wubGluZXMpLnNlbGVjdEFsbCgiLiIrbC5saW5lKS5kYXRhKGIubGluZURhdGEuYmluZChiKSksYi5jb250ZXh0TGluZS5lbnRlcigpLmFwcGVuZCgicGF0aCIpLmF0dHIoImNsYXNzIixiLmNsYXNzTGluZS5iaW5kKGIpKS5zdHlsZSgic3Ryb2tlIixiLmNvbG9yKSxiLmNvbnRleHRMaW5lLnN0eWxlKCJvcGFjaXR5IixiLmluaXRpYWxPcGFjaXR5LmJpbmQoYikpLGIuY29udGV4dExpbmUuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5zdHlsZSgib3BhY2l0eSIsMCkucmVtb3ZlKCl9LGkucmVkcmF3TGluZUZvclN1YmNoYXJ0PWZ1bmN0aW9uKGEsYixjKXsoYj90aGlzLmNvbnRleHRMaW5lLnRyYW5zaXRpb24oTWF0aC5yYW5kb20oKS50b1N0cmluZygpKS5kdXJhdGlvbihjKTp0aGlzLmNvbnRleHRMaW5lKS5hdHRyKCJkIixhKS5zdHlsZSgib3BhY2l0eSIsMSl9LGkudXBkYXRlQXJlYUZvclN1YmNoYXJ0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmQzO2IuY29udGV4dEFyZWE9Yi5jb250ZXh0LnNlbGVjdEFsbCgiLiIrbC5hcmVhcykuc2VsZWN0QWxsKCIuIitsLmFyZWEpLmRhdGEoYi5saW5lRGF0YS5iaW5kKGIpKSxiLmNvbnRleHRBcmVhLmVudGVyKCkuYXBwZW5kKCJwYXRoIikuYXR0cigiY2xhc3MiLGIuY2xhc3NBcmVhLmJpbmQoYikpLnN0eWxlKCJmaWxsIixiLmNvbG9yKS5zdHlsZSgib3BhY2l0eSIsZnVuY3Rpb24oKXtyZXR1cm4gYi5vcmdBcmVhT3BhY2l0eT0rYy5zZWxlY3QodGhpcykuc3R5bGUoIm9wYWNpdHkiKSwwfSksYi5jb250ZXh0QXJlYS5zdHlsZSgib3BhY2l0eSIsMCksYi5jb250ZXh0QXJlYS5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLnN0eWxlKCJvcGFjaXR5IiwwKS5yZW1vdmUoKX0saS5yZWRyYXdBcmVhRm9yU3ViY2hhcnQ9ZnVuY3Rpb24oYSxiLGMpeyhiP3RoaXMuY29udGV4dEFyZWEudHJhbnNpdGlvbihNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkpLmR1cmF0aW9uKGMpOnRoaXMuY29udGV4dEFyZWEpLmF0dHIoImQiLGEpLnN0eWxlKCJmaWxsIix0aGlzLmNvbG9yKS5zdHlsZSgib3BhY2l0eSIsdGhpcy5vcmdBcmVhT3BhY2l0eSl9LGkucmVkcmF3U3ViY2hhcnQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGgsaSxqLGs9dGhpcyxsPWsuZDMsbT1rLmNvbmZpZztrLmNvbnRleHQuc3R5bGUoInZpc2liaWxpdHkiLG0uc3ViY2hhcnRfc2hvdz8idmlzaWJsZSI6ImhpZGRlbiIpLG0uc3ViY2hhcnRfc2hvdyYmKGwuZXZlbnQmJiJ6b29tIj09PWwuZXZlbnQudHlwZSYmay5icnVzaC5leHRlbnQoay54Lm9yZ0RvbWFpbigpKS51cGRhdGUoKSxhJiYoay5icnVzaC5lbXB0eSgpfHxrLmJydXNoLmV4dGVudChrLngub3JnRG9tYWluKCkpLnVwZGF0ZSgpLGg9ay5nZW5lcmF0ZURyYXdBcmVhKGUsITApLGk9ay5nZW5lcmF0ZURyYXdCYXIoZiwhMCksaj1rLmdlbmVyYXRlRHJhd0xpbmUoZywhMCksay51cGRhdGVCYXJGb3JTdWJjaGFydChjKSxrLnVwZGF0ZUxpbmVGb3JTdWJjaGFydChjKSxrLnVwZGF0ZUFyZWFGb3JTdWJjaGFydChjKSxrLnJlZHJhd0JhckZvclN1YmNoYXJ0KGksYyxjKSxrLnJlZHJhd0xpbmVGb3JTdWJjaGFydChqLGMsYyksay5yZWRyYXdBcmVhRm9yU3ViY2hhcnQoaCxjLGMpKSl9LGkucmVkcmF3Rm9yQnJ1c2g9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS54O2EucmVkcmF3KHt3aXRoVHJhbnNpdGlvbjohMSx3aXRoWTphLmNvbmZpZy56b29tX3Jlc2NhbGUsd2l0aFN1YmNoYXJ0OiExLHdpdGhVcGRhdGVYRG9tYWluOiEwLHdpdGhEaW1lbnNpb246ITF9KSxhLmNvbmZpZy5zdWJjaGFydF9vbmJydXNoLmNhbGwoYS5hcGksYi5vcmdEb21haW4oKSl9LGkudHJhbnNmb3JtQ29udGV4dD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcztiJiZiLmF4aXNTdWJYP2M9Yi5heGlzU3ViWDooYz1kLmNvbnRleHQuc2VsZWN0KCIuIitsLmF4aXNYKSxhJiYoYz1jLnRyYW5zaXRpb24oKSkpLGQuY29udGV4dC5hdHRyKCJ0cmFuc2Zvcm0iLGQuZ2V0VHJhbnNsYXRlKCJjb250ZXh0IikpLGMuYXR0cigidHJhbnNmb3JtIixkLmdldFRyYW5zbGF0ZSgic3VieCIpKX0saS5nZXREZWZhdWx0RXh0ZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9bihiLmF4aXNfeF9leHRlbnQpP2IuYXhpc194X2V4dGVudChhLmdldFhEb21haW4oYS5kYXRhLnRhcmdldHMpKTpiLmF4aXNfeF9leHRlbnQ7cmV0dXJuIGEuaXNUaW1lU2VyaWVzKCkmJihjPVthLnBhcnNlRGF0ZShjWzBdKSxhLnBhcnNlRGF0ZShjWzFdKV0pLGN9LGkuaW5pdFpvb209ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMsYz1iLmQzLGQ9Yi5jb25maWc7Yi56b29tPWMuYmVoYXZpb3Iuem9vbSgpLm9uKCJ6b29tc3RhcnQiLGZ1bmN0aW9uKCl7YT1jLmV2ZW50LnNvdXJjZUV2ZW50LGIuem9vbS5hbHREb21haW49Yy5ldmVudC5zb3VyY2VFdmVudC5hbHRLZXk/Yi54Lm9yZ0RvbWFpbigpOm51bGwsZC56b29tX29uem9vbXN0YXJ0LmNhbGwoYi5hcGksYy5ldmVudC5zb3VyY2VFdmVudCl9KS5vbigiem9vbSIsZnVuY3Rpb24oKXtiLnJlZHJhd0Zvclpvb20uY2FsbChiKX0pLm9uKCJ6b29tZW5kIixmdW5jdGlvbigpe3ZhciBlPWMuZXZlbnQuc291cmNlRXZlbnQ7ZSYmYS5jbGllbnRYPT09ZS5jbGllbnRYJiZhLmNsaWVudFk9PT1lLmNsaWVudFl8fChiLnJlZHJhd0V2ZW50UmVjdCgpLGIudXBkYXRlWm9vbSgpLGQuem9vbV9vbnpvb21lbmQuY2FsbChiLmFwaSxiLngub3JnRG9tYWluKCkpKX0pLGIuem9vbS5zY2FsZT1mdW5jdGlvbihhKXtyZXR1cm4gZC5heGlzX3JvdGF0ZWQ/dGhpcy55KGEpOnRoaXMueChhKX0sYi56b29tLm9yZ1NjYWxlRXh0ZW50PWZ1bmN0aW9uKCl7dmFyIGE9ZC56b29tX2V4dGVudD9kLnpvb21fZXh0ZW50OlsxLDEwXTtyZXR1cm5bYVswXSxNYXRoLm1heChiLmdldE1heERhdGFDb3VudCgpL2FbMV0sYVsxXSldfSxiLnpvb20udXBkYXRlU2NhbGVFeHRlbnQ9ZnVuY3Rpb24oKXt2YXIgYT10KGIueC5vcmdEb21haW4oKSkvdChiLmdldFpvb21Eb21haW4oKSksYz10aGlzLm9yZ1NjYWxlRXh0ZW50KCk7cmV0dXJuIHRoaXMuc2NhbGVFeHRlbnQoW2NbMF0qYSxjWzFdKmFdKSx0aGlzfX0saS5nZXRab29tRG9tYWluPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9YS5kMyxkPWMubWluKFthLm9yZ1hEb21haW5bMF0sYi56b29tX3hfbWluXSksZT1jLm1heChbYS5vcmdYRG9tYWluWzFdLGIuem9vbV94X21heF0pO3JldHVybltkLGVdfSxpLnVwZGF0ZVpvb209ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcuem9vbV9lbmFibGVkP2Euem9vbTpmdW5jdGlvbigpe307YS5tYWluLnNlbGVjdCgiLiIrbC56b29tUmVjdCkuY2FsbChiKS5vbigiZGJsY2xpY2suem9vbSIsbnVsbCksYS5tYWluLnNlbGVjdEFsbCgiLiIrbC5ldmVudFJlY3QpLmNhbGwoYikub24oImRibGNsaWNrLnpvb20iLG51bGwpfSxpLnJlZHJhd0Zvclpvb209ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5kMyxjPWEuY29uZmlnLGQ9YS56b29tLGU9YS54O2lmKGMuem9vbV9lbmFibGVkJiYwIT09YS5maWx0ZXJUYXJnZXRzVG9TaG93KGEuZGF0YS50YXJnZXRzKS5sZW5ndGgpe2lmKCJtb3VzZW1vdmUiPT09Yi5ldmVudC5zb3VyY2VFdmVudC50eXBlJiZkLmFsdERvbWFpbilyZXR1cm4gZS5kb21haW4oZC5hbHREb21haW4pLHZvaWQgZC5zY2FsZShlKS51cGRhdGVTY2FsZUV4dGVudCgpO2EuaXNDYXRlZ29yaXplZCgpJiZlLm9yZ0RvbWFpbigpWzBdPT09YS5vcmdYRG9tYWluWzBdJiZlLmRvbWFpbihbYS5vcmdYRG9tYWluWzBdLTFlLTEwLGUub3JnRG9tYWluKClbMV1dKSxhLnJlZHJhdyh7d2l0aFRyYW5zaXRpb246ITEsd2l0aFk6Yy56b29tX3Jlc2NhbGUsd2l0aFN1YmNoYXJ0OiExLHdpdGhFdmVudFJlY3Q6ITEsd2l0aERpbWVuc2lvbjohMX0pLCJtb3VzZW1vdmUiPT09Yi5ldmVudC5zb3VyY2VFdmVudC50eXBlJiYoYS5jYW5jZWxDbGljaz0hMCksYy56b29tX29uem9vbS5jYWxsKGEuYXBpLGUub3JnRG9tYWluKCkpfX0saS5nZW5lcmF0ZUNvbG9yPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9YS5kMyxkPWIuZGF0YV9jb2xvcnMsZT12KGIuY29sb3JfcGF0dGVybik/Yi5jb2xvcl9wYXR0ZXJuOmMuc2NhbGUuY2F0ZWdvcnkxMCgpLnJhbmdlKCksZj1iLmRhdGFfY29sb3IsZz1bXTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGIsYz1hLmlkfHxhLmRhdGEmJmEuZGF0YS5pZHx8YTtyZXR1cm4gZFtjXWluc3RhbmNlb2YgRnVuY3Rpb24/Yj1kW2NdKGEpOmRbY10/Yj1kW2NdOihnLmluZGV4T2YoYyk8MCYmZy5wdXNoKGMpLGI9ZVtnLmluZGV4T2YoYyklZS5sZW5ndGhdLGRbY109YiksZiBpbnN0YW5jZW9mIEZ1bmN0aW9uP2YoYixhKTpifX0saS5nZW5lcmF0ZUxldmVsQ29sb3I9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcsYz1iLmNvbG9yX3BhdHRlcm4sZD1iLmNvbG9yX3RocmVzaG9sZCxlPSJ2YWx1ZSI9PT1kLnVuaXQsZj1kLnZhbHVlcyYmZC52YWx1ZXMubGVuZ3RoP2QudmFsdWVzOltdLGc9ZC5tYXh8fDEwMDtyZXR1cm4gdihiLmNvbG9yX3RocmVzaG9sZCk/ZnVuY3Rpb24oYSl7dmFyIGIsZCxoPWNbYy5sZW5ndGgtMV07Zm9yKGI9MDtiPGYubGVuZ3RoO2IrKylpZihkPWU/YToxMDAqYS9nLGQ8ZltiXSl7aD1jW2JdO2JyZWFrfXJldHVybiBofTpudWxsfSxpLmdldFlGb3JtYXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWEmJiFiLmhhc1R5cGUoImdhdWdlIik/Yi5kZWZhdWx0QXJjVmFsdWVGb3JtYXQ6Yi55Rm9ybWF0LGQ9YSYmIWIuaGFzVHlwZSgiZ2F1Z2UiKT9iLmRlZmF1bHRBcmNWYWx1ZUZvcm1hdDpiLnkyRm9ybWF0O3JldHVybiBmdW5jdGlvbihhLGUsZil7dmFyIGc9InkyIj09PWIuYXhpcy5nZXRJZChmKT9kOmM7cmV0dXJuIGcuY2FsbChiLGEsZSl9fSxpLnlGb3JtYXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9Yy5heGlzX3lfdGlja19mb3JtYXQ/Yy5heGlzX3lfdGlja19mb3JtYXQ6Yi5kZWZhdWx0VmFsdWVGb3JtYXQ7cmV0dXJuIGQoYSl9LGkueTJGb3JtYXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9Yy5heGlzX3kyX3RpY2tfZm9ybWF0P2MuYXhpc195Ml90aWNrX2Zvcm1hdDpiLmRlZmF1bHRWYWx1ZUZvcm1hdDtyZXR1cm4gZChhKX0saS5kZWZhdWx0VmFsdWVGb3JtYXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG0oYSk/K2E6IiJ9LGkuZGVmYXVsdEFyY1ZhbHVlRm9ybWF0PWZ1bmN0aW9uKGEsYil7cmV0dXJuKDEwMCpiKS50b0ZpeGVkKDEpKyIlIn0saS5kYXRhTGFiZWxGb3JtYXQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLGQ9Yy5jb25maWcuZGF0YV9sYWJlbHMsZT1mdW5jdGlvbihhKXtyZXR1cm4gbShhKT8rYToiIn07cmV0dXJuIGI9ImZ1bmN0aW9uIj09dHlwZW9mIGQuZm9ybWF0P2QuZm9ybWF0OiJvYmplY3QiPT10eXBlb2YgZC5mb3JtYXQ/ZC5mb3JtYXRbYV0/ZC5mb3JtYXRbYV09PT0hMD9lOmQuZm9ybWF0W2FdOmZ1bmN0aW9uKCl7cmV0dXJuIiJ9OmV9LGkuaGFzQ2FjaGVzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWlmKCEoYVtiXWluIHRoaXMuY2FjaGUpKXJldHVybiExO3JldHVybiEwfSxpLmFkZENhY2hlPWZ1bmN0aW9uKGEsYil7dGhpcy5jYWNoZVthXT10aGlzLmNsb25lVGFyZ2V0KGIpfSxpLmdldENhY2hlcz1mdW5jdGlvbihhKXt2YXIgYixjPVtdO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspYVtiXWluIHRoaXMuY2FjaGUmJmMucHVzaCh0aGlzLmNsb25lVGFyZ2V0KHRoaXMuY2FjaGVbYVtiXV0pKTtyZXR1cm4gY307dmFyIGw9aS5DTEFTUz17dGFyZ2V0OiJjMy10YXJnZXQiLGNoYXJ0OiJjMy1jaGFydCIsY2hhcnRMaW5lOiJjMy1jaGFydC1saW5lIixjaGFydExpbmVzOiJjMy1jaGFydC1saW5lcyIsY2hhcnRCYXI6ImMzLWNoYXJ0LWJhciIsY2hhcnRCYXJzOiJjMy1jaGFydC1iYXJzIixjaGFydFRleHQ6ImMzLWNoYXJ0LXRleHQiLGNoYXJ0VGV4dHM6ImMzLWNoYXJ0LXRleHRzIixjaGFydEFyYzoiYzMtY2hhcnQtYXJjIixjaGFydEFyY3M6ImMzLWNoYXJ0LWFyY3MiLGNoYXJ0QXJjc1RpdGxlOiJjMy1jaGFydC1hcmNzLXRpdGxlIixjaGFydEFyY3NCYWNrZ3JvdW5kOiJjMy1jaGFydC1hcmNzLWJhY2tncm91bmQiLGNoYXJ0QXJjc0dhdWdlVW5pdDoiYzMtY2hhcnQtYXJjcy1nYXVnZS11bml0IixjaGFydEFyY3NHYXVnZU1heDoiYzMtY2hhcnQtYXJjcy1nYXVnZS1tYXgiLGNoYXJ0QXJjc0dhdWdlTWluOiJjMy1jaGFydC1hcmNzLWdhdWdlLW1pbiIsc2VsZWN0ZWRDaXJjbGU6ImMzLXNlbGVjdGVkLWNpcmNsZSIsc2VsZWN0ZWRDaXJjbGVzOiJjMy1zZWxlY3RlZC1jaXJjbGVzIixldmVudFJlY3Q6ImMzLWV2ZW50LXJlY3QiLGV2ZW50UmVjdHM6ImMzLWV2ZW50LXJlY3RzIixldmVudFJlY3RzU2luZ2xlOiJjMy1ldmVudC1yZWN0cy1zaW5nbGUiLGV2ZW50UmVjdHNNdWx0aXBsZToiYzMtZXZlbnQtcmVjdHMtbXVsdGlwbGUiLHpvb21SZWN0OiJjMy16b29tLXJlY3QiLGJydXNoOiJjMy1icnVzaCIsZm9jdXNlZDoiYzMtZm9jdXNlZCIsZGVmb2N1c2VkOiJjMy1kZWZvY3VzZWQiLHJlZ2lvbjoiYzMtcmVnaW9uIixyZWdpb25zOiJjMy1yZWdpb25zIix0aXRsZToiYzMtdGl0bGUiLHRvb2x0aXBDb250YWluZXI6ImMzLXRvb2x0aXAtY29udGFpbmVyIix0b29sdGlwOiJjMy10b29sdGlwIix0b29sdGlwTmFtZToiYzMtdG9vbHRpcC1uYW1lIixzaGFwZToiYzMtc2hhcGUiLHNoYXBlczoiYzMtc2hhcGVzIixsaW5lOiJjMy1saW5lIixsaW5lczoiYzMtbGluZXMiLGJhcjoiYzMtYmFyIixiYXJzOiJjMy1iYXJzIixjaXJjbGU6ImMzLWNpcmNsZSIsY2lyY2xlczoiYzMtY2lyY2xlcyIsYXJjOiJjMy1hcmMiLGFyY3M6ImMzLWFyY3MiLGFyZWE6ImMzLWFyZWEiLGFyZWFzOiJjMy1hcmVhcyIsZW1wdHk6ImMzLWVtcHR5Iix0ZXh0OiJjMy10ZXh0Iix0ZXh0czoiYzMtdGV4dHMiLGdhdWdlVmFsdWU6ImMzLWdhdWdlLXZhbHVlIixncmlkOiJjMy1ncmlkIixncmlkTGluZXM6ImMzLWdyaWQtbGluZXMiLHhncmlkOiJjMy14Z3JpZCIseGdyaWRzOiJjMy14Z3JpZHMiLHhncmlkTGluZToiYzMteGdyaWQtbGluZSIseGdyaWRMaW5lczoiYzMteGdyaWQtbGluZXMiLHhncmlkRm9jdXM6ImMzLXhncmlkLWZvY3VzIix5Z3JpZDoiYzMteWdyaWQiLHlncmlkczoiYzMteWdyaWRzIix5Z3JpZExpbmU6ImMzLXlncmlkLWxpbmUiLHlncmlkTGluZXM6ImMzLXlncmlkLWxpbmVzIixheGlzOiJjMy1heGlzIixheGlzWDoiYzMtYXhpcy14IixheGlzWExhYmVsOiJjMy1heGlzLXgtbGFiZWwiLGF4aXNZOiJjMy1heGlzLXkiLGF4aXNZTGFiZWw6ImMzLWF4aXMteS1sYWJlbCIsYXhpc1kyOiJjMy1heGlzLXkyIixheGlzWTJMYWJlbDoiYzMtYXhpcy15Mi1sYWJlbCIsbGVnZW5kQmFja2dyb3VuZDoiYzMtbGVnZW5kLWJhY2tncm91bmQiLGxlZ2VuZEl0ZW06ImMzLWxlZ2VuZC1pdGVtIixsZWdlbmRJdGVtRXZlbnQ6ImMzLWxlZ2VuZC1pdGVtLWV2ZW50IixsZWdlbmRJdGVtVGlsZToiYzMtbGVnZW5kLWl0ZW0tdGlsZSIsbGVnZW5kSXRlbUhpZGRlbjoiYzMtbGVnZW5kLWl0ZW0taGlkZGVuIixsZWdlbmRJdGVtRm9jdXNlZDoiYzMtbGVnZW5kLWl0ZW0tZm9jdXNlZCIsZHJhZ2FyZWE6ImMzLWRyYWdhcmVhIixFWFBBTkRFRDoiX2V4cGFuZGVkXyIsU0VMRUNURUQ6Il9zZWxlY3RlZF8iLElOQ0xVREVEOiJfaW5jbHVkZWRfIn07aS5nZW5lcmF0ZUNsYXNzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIiAiK2ErIiAiK2ErdGhpcy5nZXRUYXJnZXRTZWxlY3RvclN1ZmZpeChiKX0saS5jbGFzc1RleHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVDbGFzcyhsLnRleHQsYS5pbmRleCl9LGkuY2xhc3NUZXh0cz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZW5lcmF0ZUNsYXNzKGwudGV4dHMsYS5pZCl9LGkuY2xhc3NTaGFwZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZW5lcmF0ZUNsYXNzKGwuc2hhcGUsYS5pbmRleCl9LGkuY2xhc3NTaGFwZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVDbGFzcyhsLnNoYXBlcyxhLmlkKX0saS5jbGFzc0xpbmU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZShhKSt0aGlzLmdlbmVyYXRlQ2xhc3MobC5saW5lLGEuaWQpfSxpLmNsYXNzTGluZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZXMoYSkrdGhpcy5nZW5lcmF0ZUNsYXNzKGwubGluZXMsYS5pZCl9LGkuY2xhc3NDaXJjbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZShhKSt0aGlzLmdlbmVyYXRlQ2xhc3MobC5jaXJjbGUsYS5pbmRleCl9LGkuY2xhc3NDaXJjbGVzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNsYXNzU2hhcGVzKGEpK3RoaXMuZ2VuZXJhdGVDbGFzcyhsLmNpcmNsZXMsYS5pZCl9LGkuY2xhc3NCYXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZShhKSt0aGlzLmdlbmVyYXRlQ2xhc3MobC5iYXIsYS5pbmRleCl9LGkuY2xhc3NCYXJzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNsYXNzU2hhcGVzKGEpK3RoaXMuZ2VuZXJhdGVDbGFzcyhsLmJhcnMsYS5pZCl9LGkuY2xhc3NBcmM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZShhLmRhdGEpK3RoaXMuZ2VuZXJhdGVDbGFzcyhsLmFyYyxhLmRhdGEuaWQpfSxpLmNsYXNzQXJjcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jbGFzc1NoYXBlcyhhLmRhdGEpK3RoaXMuZ2VuZXJhdGVDbGFzcyhsLmFyY3MsYS5kYXRhLmlkKX0saS5jbGFzc0FyZWE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZShhKSt0aGlzLmdlbmVyYXRlQ2xhc3MobC5hcmVhLGEuaWQpfSxpLmNsYXNzQXJlYXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZXMoYSkrdGhpcy5nZW5lcmF0ZUNsYXNzKGwuYXJlYXMsYS5pZCl9LGkuY2xhc3NSZWdpb249ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5nZW5lcmF0ZUNsYXNzKGwucmVnaW9uLGIpKyIgIisoImNsYXNzImluIGE/YVsiY2xhc3MiXToiIil9LGkuY2xhc3NFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZW5lcmF0ZUNsYXNzKGwuZXZlbnRSZWN0LGEuaW5kZXgpfSxpLmNsYXNzVGFyZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZy5kYXRhX2NsYXNzZXNbYV0sZD0iIjtyZXR1cm4gYyYmKGQ9IiAiK2wudGFyZ2V0KyItIitjKSxiLmdlbmVyYXRlQ2xhc3MobC50YXJnZXQsYSkrZH0saS5jbGFzc0ZvY3VzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNsYXNzRm9jdXNlZChhKSt0aGlzLmNsYXNzRGVmb2N1c2VkKGEpfSxpLmNsYXNzRm9jdXNlZD1mdW5jdGlvbihhKXtyZXR1cm4iICIrKHRoaXMuZm9jdXNlZFRhcmdldElkcy5pbmRleE9mKGEuaWQpPj0wP2wuZm9jdXNlZDoiIil9LGkuY2xhc3NEZWZvY3VzZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIiAiKyh0aGlzLmRlZm9jdXNlZFRhcmdldElkcy5pbmRleE9mKGEuaWQpPj0wP2wuZGVmb2N1c2VkOiIiKX0saS5jbGFzc0NoYXJ0VGV4dD1mdW5jdGlvbihhKXtyZXR1cm4gbC5jaGFydFRleHQrdGhpcy5jbGFzc1RhcmdldChhLmlkKX0saS5jbGFzc0NoYXJ0TGluZT1mdW5jdGlvbihhKXtyZXR1cm4gbC5jaGFydExpbmUrdGhpcy5jbGFzc1RhcmdldChhLmlkKX0saS5jbGFzc0NoYXJ0QmFyPWZ1bmN0aW9uKGEpe3JldHVybiBsLmNoYXJ0QmFyK3RoaXMuY2xhc3NUYXJnZXQoYS5pZCl9LGkuY2xhc3NDaGFydEFyYz1mdW5jdGlvbihhKXtyZXR1cm4gbC5jaGFydEFyYyt0aGlzLmNsYXNzVGFyZ2V0KGEuZGF0YS5pZCl9LGkuZ2V0VGFyZ2V0U2VsZWN0b3JTdWZmaXg9ZnVuY3Rpb24oYSl7cmV0dXJuIGF8fDA9PT1hPygiLSIrYSkucmVwbGFjZSgvW1xzPyFAIyQlXiYqKClfPSssLjw+JyI6O1xbXF1cL3x+YHt9XFxdL2csIi0iKToiIn0saS5zZWxlY3RvclRhcmdldD1mdW5jdGlvbihhLGIpe3JldHVybihifHwiIikrIi4iK2wudGFyZ2V0K3RoaXMuZ2V0VGFyZ2V0U2VsZWN0b3JTdWZmaXgoYSl9LGkuc2VsZWN0b3JUYXJnZXRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gYT1hfHxbXSxhLmxlbmd0aD9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYy5zZWxlY3RvclRhcmdldChhLGIpfSk6bnVsbH0saS5zZWxlY3RvckxlZ2VuZD1mdW5jdGlvbihhKXtyZXR1cm4iLiIrbC5sZWdlbmRJdGVtK3RoaXMuZ2V0VGFyZ2V0U2VsZWN0b3JTdWZmaXgoYSl9LGkuc2VsZWN0b3JMZWdlbmRzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIGEmJmEubGVuZ3RoP2EubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBiLnNlbGVjdG9yTGVnZW5kKGEpfSk6bnVsbH07dmFyIG09aS5pc1ZhbHVlPWZ1bmN0aW9uKGEpe3JldHVybiBhfHwwPT09YX0sbj1pLmlzRnVuY3Rpb249ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGF9LG89aS5pc1N0cmluZz1mdW5jdGlvbihhKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGF9LHA9aS5pc1VuZGVmaW5lZD1mdW5jdGlvbihhKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGF9LHE9aS5pc0RlZmluZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBhfSxyPWkuY2VpbDEwPWZ1bmN0aW9uKGEpe3JldHVybiAxMCpNYXRoLmNlaWwoYS8xMCl9LHM9aS5hc0hhbGZQaXhlbD1mdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5jZWlsKGEpKy41fSx0PWkuZGlmZkRvbWFpbj1mdW5jdGlvbihhKXtyZXR1cm4gYVsxXS1hWzBdfSx1PWkuaXNFbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGF8fG51bGw9PT1hfHxvKGEpJiYwPT09YS5sZW5ndGh8fCJvYmplY3QiPT10eXBlb2YgYSYmMD09PU9iamVjdC5rZXlzKGEpLmxlbmd0aH0sdj1pLm5vdEVtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiFpLmlzRW1wdHkoYSl9LHc9aS5nZXRPcHRpb249ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBxKGFbYl0pP2FbYl06Y30seD1pLmhhc1ZhbHVlPWZ1bmN0aW9uKGEsYil7dmFyIGM9ITE7cmV0dXJuIE9iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24oZCl7YVtkXT09PWImJihjPSEwKX0pLGN9LHk9aS5zYW5pdGlzZT1mdW5jdGlvbihhKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/YS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC8+L2csIiZndDsiKTphfSx6PWkuZ2V0UGF0aEJveD1mdW5jdGlvbihhKXt2YXIgYj1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGM9W2EucGF0aFNlZ0xpc3QuZ2V0SXRlbSgwKSxhLnBhdGhTZWdMaXN0LmdldEl0ZW0oMSldLGQ9Y1swXS54LGU9TWF0aC5taW4oY1swXS55LGNbMV0ueSk7cmV0dXJue3g6ZCx5OmUsd2lkdGg6Yi53aWR0aCxoZWlnaHQ6Yi5oZWlnaHR9fTtoLmZvY3VzPWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcy5pbnRlcm5hbDthPWMubWFwVG9UYXJnZXRJZHMoYSksYj1jLnN2Zy5zZWxlY3RBbGwoYy5zZWxlY3RvclRhcmdldHMoYS5maWx0ZXIoYy5pc1RhcmdldFRvU2hvdyxjKSkpLHRoaXMucmV2ZXJ0KCksdGhpcy5kZWZvY3VzKCksYi5jbGFzc2VkKGwuZm9jdXNlZCwhMCkuY2xhc3NlZChsLmRlZm9jdXNlZCwhMSksDQpjLmhhc0FyY1R5cGUoKSYmYy5leHBhbmRBcmMoYSksYy50b2dnbGVGb2N1c0xlZ2VuZChhLCEwKSxjLmZvY3VzZWRUYXJnZXRJZHM9YSxjLmRlZm9jdXNlZFRhcmdldElkcz1jLmRlZm9jdXNlZFRhcmdldElkcy5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGEuaW5kZXhPZihiKTwwfSl9LGguZGVmb2N1cz1mdW5jdGlvbihhKXt2YXIgYixjPXRoaXMuaW50ZXJuYWw7YT1jLm1hcFRvVGFyZ2V0SWRzKGEpLGI9Yy5zdmcuc2VsZWN0QWxsKGMuc2VsZWN0b3JUYXJnZXRzKGEuZmlsdGVyKGMuaXNUYXJnZXRUb1Nob3csYykpKSxiLmNsYXNzZWQobC5mb2N1c2VkLCExKS5jbGFzc2VkKGwuZGVmb2N1c2VkLCEwKSxjLmhhc0FyY1R5cGUoKSYmYy51bmV4cGFuZEFyYyhhKSxjLnRvZ2dsZUZvY3VzTGVnZW5kKGEsITEpLGMuZm9jdXNlZFRhcmdldElkcz1jLmZvY3VzZWRUYXJnZXRJZHMuZmlsdGVyKGZ1bmN0aW9uKGIpe3JldHVybiBhLmluZGV4T2YoYik8MH0pLGMuZGVmb2N1c2VkVGFyZ2V0SWRzPWF9LGgucmV2ZXJ0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcy5pbnRlcm5hbDthPWMubWFwVG9UYXJnZXRJZHMoYSksYj1jLnN2Zy5zZWxlY3RBbGwoYy5zZWxlY3RvclRhcmdldHMoYSkpLGIuY2xhc3NlZChsLmZvY3VzZWQsITEpLmNsYXNzZWQobC5kZWZvY3VzZWQsITEpLGMuaGFzQXJjVHlwZSgpJiZjLnVuZXhwYW5kQXJjKGEpLGMuY29uZmlnLmxlZ2VuZF9zaG93JiYoYy5zaG93TGVnZW5kKGEuZmlsdGVyKGMuaXNMZWdlbmRUb1Nob3cuYmluZChjKSkpLGMubGVnZW5kLnNlbGVjdEFsbChjLnNlbGVjdG9yTGVnZW5kcyhhKSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIGMuZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQobC5sZWdlbmRJdGVtRm9jdXNlZCl9KS5jbGFzc2VkKGwubGVnZW5kSXRlbUZvY3VzZWQsITEpKSxjLmZvY3VzZWRUYXJnZXRJZHM9W10sYy5kZWZvY3VzZWRUYXJnZXRJZHM9W119LGguc2hvdz1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcy5pbnRlcm5hbDthPWQubWFwVG9UYXJnZXRJZHMoYSksYj1ifHx7fSxkLnJlbW92ZUhpZGRlblRhcmdldElkcyhhKSxjPWQuc3ZnLnNlbGVjdEFsbChkLnNlbGVjdG9yVGFyZ2V0cyhhKSksYy50cmFuc2l0aW9uKCkuc3R5bGUoIm9wYWNpdHkiLDEsImltcG9ydGFudCIpLmNhbGwoZC5lbmRhbGwsZnVuY3Rpb24oKXtjLnN0eWxlKCJvcGFjaXR5IixudWxsKS5zdHlsZSgib3BhY2l0eSIsMSl9KSxiLndpdGhMZWdlbmQmJmQuc2hvd0xlZ2VuZChhKSxkLnJlZHJhdyh7d2l0aFVwZGF0ZU9yZ1hEb21haW46ITAsd2l0aFVwZGF0ZVhEb21haW46ITAsd2l0aExlZ2VuZDohMH0pfSxoLmhpZGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXMuaW50ZXJuYWw7YT1kLm1hcFRvVGFyZ2V0SWRzKGEpLGI9Ynx8e30sZC5hZGRIaWRkZW5UYXJnZXRJZHMoYSksYz1kLnN2Zy5zZWxlY3RBbGwoZC5zZWxlY3RvclRhcmdldHMoYSkpLGMudHJhbnNpdGlvbigpLnN0eWxlKCJvcGFjaXR5IiwwLCJpbXBvcnRhbnQiKS5jYWxsKGQuZW5kYWxsLGZ1bmN0aW9uKCl7Yy5zdHlsZSgib3BhY2l0eSIsbnVsbCkuc3R5bGUoIm9wYWNpdHkiLDApfSksYi53aXRoTGVnZW5kJiZkLmhpZGVMZWdlbmQoYSksZC5yZWRyYXcoe3dpdGhVcGRhdGVPcmdYRG9tYWluOiEwLHdpdGhVcGRhdGVYRG9tYWluOiEwLHdpdGhMZWdlbmQ6ITB9KX0saC50b2dnbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9dGhpcy5pbnRlcm5hbDtkLm1hcFRvVGFyZ2V0SWRzKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7ZC5pc1RhcmdldFRvU2hvdyhhKT9jLmhpZGUoYSxiKTpjLnNob3coYSxiKX0pfSxoLnpvb209ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbDtyZXR1cm4gYSYmKGIuaXNUaW1lU2VyaWVzKCkmJihhPWEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBiLnBhcnNlRGF0ZShhKX0pKSxiLmJydXNoLmV4dGVudChhKSxiLnJlZHJhdyh7d2l0aFVwZGF0ZVhEb21haW46ITAsd2l0aFk6Yi5jb25maWcuem9vbV9yZXNjYWxlfSksYi5jb25maWcuem9vbV9vbnpvb20uY2FsbCh0aGlzLGIueC5vcmdEb21haW4oKSkpLGIuYnJ1c2guZXh0ZW50KCl9LGguem9vbS5lbmFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbDtiLmNvbmZpZy56b29tX2VuYWJsZWQ9YSxiLnVwZGF0ZUFuZFJlZHJhdygpfSxoLnVuem9vbT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW50ZXJuYWw7YS5icnVzaC5jbGVhcigpLnVwZGF0ZSgpLGEucmVkcmF3KHt3aXRoVXBkYXRlWERvbWFpbjohMH0pfSxoLnpvb20ubWF4PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWwsYz1iLmNvbmZpZyxkPWIuZDM7cmV0dXJuIDA9PT1hfHxhP3ZvaWQoYy56b29tX3hfbWF4PWQubWF4KFtiLm9yZ1hEb21haW5bMV0sYV0pKTpjLnpvb21feF9tYXh9LGguem9vbS5taW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbCxjPWIuY29uZmlnLGQ9Yi5kMztyZXR1cm4gMD09PWF8fGE/dm9pZChjLnpvb21feF9taW49ZC5taW4oW2Iub3JnWERvbWFpblswXSxhXSkpOmMuem9vbV94X21pbn0saC56b29tLnJhbmdlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhxKGEubWF4KSYmdGhpcy5kb21haW4ubWF4KGEubWF4KSx2b2lkKHEoYS5taW4pJiZ0aGlzLmRvbWFpbi5taW4oYS5taW4pKSk6e21heDp0aGlzLmRvbWFpbi5tYXgoKSxtaW46dGhpcy5kb21haW4ubWluKCl9fSxoLmxvYWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbCxjPWIuY29uZmlnO3JldHVybiBhLnhzJiZiLmFkZFhzKGEueHMpLCJuYW1lcyJpbiBhJiZoLmRhdGEubmFtZXMuYmluZCh0aGlzKShhLm5hbWVzKSwiY2xhc3NlcyJpbiBhJiZPYmplY3Qua2V5cyhhLmNsYXNzZXMpLmZvckVhY2goZnVuY3Rpb24oYil7Yy5kYXRhX2NsYXNzZXNbYl09YS5jbGFzc2VzW2JdfSksImNhdGVnb3JpZXMiaW4gYSYmYi5pc0NhdGVnb3JpemVkKCkmJihjLmF4aXNfeF9jYXRlZ29yaWVzPWEuY2F0ZWdvcmllcyksImF4ZXMiaW4gYSYmT2JqZWN0LmtleXMoYS5heGVzKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2MuZGF0YV9heGVzW2JdPWEuYXhlc1tiXX0pLCJjb2xvcnMiaW4gYSYmT2JqZWN0LmtleXMoYS5jb2xvcnMpLmZvckVhY2goZnVuY3Rpb24oYil7Yy5kYXRhX2NvbG9yc1tiXT1hLmNvbG9yc1tiXX0pLCJjYWNoZUlkcyJpbiBhJiZiLmhhc0NhY2hlcyhhLmNhY2hlSWRzKT92b2lkIGIubG9hZChiLmdldENhY2hlcyhhLmNhY2hlSWRzKSxhLmRvbmUpOnZvaWQoInVubG9hZCJpbiBhP2IudW5sb2FkKGIubWFwVG9UYXJnZXRJZHMoImJvb2xlYW4iPT10eXBlb2YgYS51bmxvYWQmJmEudW5sb2FkP251bGw6YS51bmxvYWQpLGZ1bmN0aW9uKCl7Yi5sb2FkRnJvbUFyZ3MoYSl9KTpiLmxvYWRGcm9tQXJncyhhKSl9LGgudW5sb2FkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7YT1hfHx7fSxhIGluc3RhbmNlb2YgQXJyYXk/YT17aWRzOmF9OiJzdHJpbmciPT10eXBlb2YgYSYmKGE9e2lkczpbYV19KSxiLnVubG9hZChiLm1hcFRvVGFyZ2V0SWRzKGEuaWRzKSxmdW5jdGlvbigpe2IucmVkcmF3KHt3aXRoVXBkYXRlT3JnWERvbWFpbjohMCx3aXRoVXBkYXRlWERvbWFpbjohMCx3aXRoTGVnZW5kOiEwfSksYS5kb25lJiZhLmRvbmUoKX0pfSxoLmZsb3c9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqPXRoaXMuaW50ZXJuYWwsaz1bXSxsPWouZ2V0TWF4RGF0YUNvdW50KCksbj0wLG89MDtpZihhLmpzb24pYz1qLmNvbnZlcnRKc29uVG9EYXRhKGEuanNvbixhLmtleXMpO2Vsc2UgaWYoYS5yb3dzKWM9ai5jb252ZXJ0Um93c1RvRGF0YShhLnJvd3MpO2Vsc2V7aWYoIWEuY29sdW1ucylyZXR1cm47Yz1qLmNvbnZlcnRDb2x1bW5zVG9EYXRhKGEuY29sdW1ucyl9Yj1qLmNvbnZlcnREYXRhVG9UYXJnZXRzKGMsITApLGouZGF0YS50YXJnZXRzLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGMsZCxlPSExO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspaWYoYS5pZD09PWJbY10uaWQpe2ZvcihlPSEwLGEudmFsdWVzW2EudmFsdWVzLmxlbmd0aC0xXSYmKG89YS52YWx1ZXNbYS52YWx1ZXMubGVuZ3RoLTFdLmluZGV4KzEpLG49YltjXS52YWx1ZXMubGVuZ3RoLGQ9MDtuPmQ7ZCsrKWJbY10udmFsdWVzW2RdLmluZGV4PW8rZCxqLmlzVGltZVNlcmllcygpfHwoYltjXS52YWx1ZXNbZF0ueD1vK2QpO2EudmFsdWVzPWEudmFsdWVzLmNvbmNhdChiW2NdLnZhbHVlcyksYi5zcGxpY2UoYywxKTticmVha31lfHxrLnB1c2goYS5pZCl9KSxqLmRhdGEudGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiLGM7Zm9yKGI9MDtiPGsubGVuZ3RoO2IrKylpZihhLmlkPT09a1tiXSlmb3Iobz1hLnZhbHVlc1thLnZhbHVlcy5sZW5ndGgtMV0uaW5kZXgrMSxjPTA7bj5jO2MrKylhLnZhbHVlcy5wdXNoKHtpZDphLmlkLGluZGV4Om8rYyx4OmouaXNUaW1lU2VyaWVzKCk/ai5nZXRPdGhlclRhcmdldFgobytjKTpvK2MsdmFsdWU6bnVsbH0pfSksai5kYXRhLnRhcmdldHMubGVuZ3RoJiZiLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGIsYz1bXTtmb3IoYj1qLmRhdGEudGFyZ2V0c1swXS52YWx1ZXNbMF0uaW5kZXg7bz5iO2IrKyljLnB1c2goe2lkOmEuaWQsaW5kZXg6Yix4OmouaXNUaW1lU2VyaWVzKCk/ai5nZXRPdGhlclRhcmdldFgoYik6Yix2YWx1ZTpudWxsfSk7YS52YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihhKXthLmluZGV4Kz1vLGouaXNUaW1lU2VyaWVzKCl8fChhLngrPW8pfSksYS52YWx1ZXM9Yy5jb25jYXQoYS52YWx1ZXMpfSksai5kYXRhLnRhcmdldHM9ai5kYXRhLnRhcmdldHMuY29uY2F0KGIpLGQ9ai5nZXRNYXhEYXRhQ291bnQoKSxmPWouZGF0YS50YXJnZXRzWzBdLGc9Zi52YWx1ZXNbMF0scShhLnRvKT8obj0wLGk9ai5pc1RpbWVTZXJpZXMoKT9qLnBhcnNlRGF0ZShhLnRvKTphLnRvLGYudmFsdWVzLmZvckVhY2goZnVuY3Rpb24oYSl7YS54PGkmJm4rK30pKTpxKGEubGVuZ3RoKSYmKG49YS5sZW5ndGgpLGw/MT09PWwmJmouaXNUaW1lU2VyaWVzKCkmJihoPShmLnZhbHVlc1tmLnZhbHVlcy5sZW5ndGgtMV0ueC1nLngpLzIsZT1bbmV3IERhdGUoK2cueC1oKSxuZXcgRGF0ZSgrZy54K2gpXSxqLnVwZGF0ZVhEb21haW4obnVsbCwhMCwhMCwhMSxlKSk6KGg9ai5pc1RpbWVTZXJpZXMoKT9mLnZhbHVlcy5sZW5ndGg+MT9mLnZhbHVlc1tmLnZhbHVlcy5sZW5ndGgtMV0ueC1nLng6Zy54LWouZ2V0WERvbWFpbihqLmRhdGEudGFyZ2V0cylbMF06MSxlPVtnLngtaCxnLnhdLGoudXBkYXRlWERvbWFpbihudWxsLCEwLCEwLCExLGUpKSxqLnVwZGF0ZVRhcmdldHMoai5kYXRhLnRhcmdldHMpLGoucmVkcmF3KHtmbG93OntpbmRleDpnLmluZGV4LGxlbmd0aDpuLGR1cmF0aW9uOm0oYS5kdXJhdGlvbik/YS5kdXJhdGlvbjpqLmNvbmZpZy50cmFuc2l0aW9uX2R1cmF0aW9uLGRvbmU6YS5kb25lLG9yZ0RhdGFDb3VudDpsfSx3aXRoTGVnZW5kOiEwLHdpdGhUcmFuc2l0aW9uOmw+MSx3aXRoVHJpbVhEb21haW46ITEsd2l0aFVwZGF0ZVhBeGlzOiEwfSl9LGkuZ2VuZXJhdGVGbG93PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZyxkPWIuZDM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGUsZixnLGg9YS50YXJnZXRzLGk9YS5mbG93LGo9YS5kcmF3QmFyLGs9YS5kcmF3TGluZSxtPWEuZHJhd0FyZWEsbj1hLmN4LG89YS5jeSxwPWEueHYscT1hLnhGb3JUZXh0LHI9YS55Rm9yVGV4dCxzPWEuZHVyYXRpb24sdT0xLHY9aS5pbmRleCx3PWkubGVuZ3RoLHg9Yi5nZXRWYWx1ZU9uSW5kZXgoYi5kYXRhLnRhcmdldHNbMF0udmFsdWVzLHYpLHk9Yi5nZXRWYWx1ZU9uSW5kZXgoYi5kYXRhLnRhcmdldHNbMF0udmFsdWVzLHYrdyksej1iLnguZG9tYWluKCksQT1pLmR1cmF0aW9ufHxzLEI9aS5kb25lfHxmdW5jdGlvbigpe30sQz1iLmdlbmVyYXRlV2FpdCgpLEQ9Yi54Z3JpZHx8ZC5zZWxlY3RBbGwoW10pLEU9Yi54Z3JpZExpbmVzfHxkLnNlbGVjdEFsbChbXSksRj1iLm1haW5SZWdpb258fGQuc2VsZWN0QWxsKFtdKSxHPWIubWFpblRleHR8fGQuc2VsZWN0QWxsKFtdKSxIPWIubWFpbkJhcnx8ZC5zZWxlY3RBbGwoW10pLEk9Yi5tYWluTGluZXx8ZC5zZWxlY3RBbGwoW10pLEo9Yi5tYWluQXJlYXx8ZC5zZWxlY3RBbGwoW10pLEs9Yi5tYWluQ2lyY2xlfHxkLnNlbGVjdEFsbChbXSk7Yi5mbG93aW5nPSEwLGIuZGF0YS50YXJnZXRzLmZvckVhY2goZnVuY3Rpb24oYSl7YS52YWx1ZXMuc3BsaWNlKDAsdyl9KSxnPWIudXBkYXRlWERvbWFpbihoLCEwLCEwKSxiLnVwZGF0ZVhHcmlkJiZiLnVwZGF0ZVhHcmlkKCEwKSxpLm9yZ0RhdGFDb3VudD9lPTE9PT1pLm9yZ0RhdGFDb3VudHx8KHgmJngueCk9PT0oeSYmeS54KT9iLngoelswXSktYi54KGdbMF0pOmIuaXNUaW1lU2VyaWVzKCk/Yi54KHpbMF0pLWIueChnWzBdKTpiLngoeC54KS1iLngoeS54KToxIT09Yi5kYXRhLnRhcmdldHNbMF0udmFsdWVzLmxlbmd0aD9lPWIueCh6WzBdKS1iLngoZ1swXSk6Yi5pc1RpbWVTZXJpZXMoKT8oeD1iLmdldFZhbHVlT25JbmRleChiLmRhdGEudGFyZ2V0c1swXS52YWx1ZXMsMCkseT1iLmdldFZhbHVlT25JbmRleChiLmRhdGEudGFyZ2V0c1swXS52YWx1ZXMsYi5kYXRhLnRhcmdldHNbMF0udmFsdWVzLmxlbmd0aC0xKSxlPWIueCh4LngpLWIueCh5LngpKTplPXQoZykvMix1PXQoeikvdChnKSxmPSJ0cmFuc2xhdGUoIitlKyIsMCkgc2NhbGUoIit1KyIsMSkiLGIuaGlkZVhHcmlkRm9jdXMoKSxkLnRyYW5zaXRpb24oKS5lYXNlKCJsaW5lYXIiKS5kdXJhdGlvbihBKS5lYWNoKGZ1bmN0aW9uKCl7Qy5hZGQoYi5heGVzLngudHJhbnNpdGlvbigpLmNhbGwoYi54QXhpcykpLEMuYWRkKEgudHJhbnNpdGlvbigpLmF0dHIoInRyYW5zZm9ybSIsZikpLEMuYWRkKEkudHJhbnNpdGlvbigpLmF0dHIoInRyYW5zZm9ybSIsZikpLEMuYWRkKEoudHJhbnNpdGlvbigpLmF0dHIoInRyYW5zZm9ybSIsZikpLEMuYWRkKEsudHJhbnNpdGlvbigpLmF0dHIoInRyYW5zZm9ybSIsZikpLEMuYWRkKEcudHJhbnNpdGlvbigpLmF0dHIoInRyYW5zZm9ybSIsZikpLEMuYWRkKEYuZmlsdGVyKGIuaXNSZWdpb25PblgpLnRyYW5zaXRpb24oKS5hdHRyKCJ0cmFuc2Zvcm0iLGYpKSxDLmFkZChELnRyYW5zaXRpb24oKS5hdHRyKCJ0cmFuc2Zvcm0iLGYpKSxDLmFkZChFLnRyYW5zaXRpb24oKS5hdHRyKCJ0cmFuc2Zvcm0iLGYpKX0pLmNhbGwoQyxmdW5jdGlvbigpe3ZhciBhLGQ9W10sZT1bXSxmPVtdO2lmKHcpe2ZvcihhPTA7dz5hO2ErKylkLnB1c2goIi4iK2wuc2hhcGUrIi0iKyh2K2EpKSxlLnB1c2goIi4iK2wudGV4dCsiLSIrKHYrYSkpLGYucHVzaCgiLiIrbC5ldmVudFJlY3QrIi0iKyh2K2EpKTtiLnN2Zy5zZWxlY3RBbGwoIi4iK2wuc2hhcGVzKS5zZWxlY3RBbGwoZCkucmVtb3ZlKCksYi5zdmcuc2VsZWN0QWxsKCIuIitsLnRleHRzKS5zZWxlY3RBbGwoZSkucmVtb3ZlKCksYi5zdmcuc2VsZWN0QWxsKCIuIitsLmV2ZW50UmVjdHMpLnNlbGVjdEFsbChmKS5yZW1vdmUoKSxiLnN2Zy5zZWxlY3QoIi4iK2wueGdyaWQpLnJlbW92ZSgpfUQuYXR0cigidHJhbnNmb3JtIixudWxsKS5hdHRyKGIueGdyaWRBdHRyKSxFLmF0dHIoInRyYW5zZm9ybSIsbnVsbCksRS5zZWxlY3QoImxpbmUiKS5hdHRyKCJ4MSIsYy5heGlzX3JvdGF0ZWQ/MDpwKS5hdHRyKCJ4MiIsYy5heGlzX3JvdGF0ZWQ/Yi53aWR0aDpwKSxFLnNlbGVjdCgidGV4dCIpLmF0dHIoIngiLGMuYXhpc19yb3RhdGVkP2Iud2lkdGg6MCkuYXR0cigieSIscCksSC5hdHRyKCJ0cmFuc2Zvcm0iLG51bGwpLmF0dHIoImQiLGopLEkuYXR0cigidHJhbnNmb3JtIixudWxsKS5hdHRyKCJkIixrKSxKLmF0dHIoInRyYW5zZm9ybSIsbnVsbCkuYXR0cigiZCIsbSksSy5hdHRyKCJ0cmFuc2Zvcm0iLG51bGwpLmF0dHIoImN4IixuKS5hdHRyKCJjeSIsbyksRy5hdHRyKCJ0cmFuc2Zvcm0iLG51bGwpLmF0dHIoIngiLHEpLmF0dHIoInkiLHIpLnN0eWxlKCJmaWxsLW9wYWNpdHkiLGIub3BhY2l0eUZvclRleHQuYmluZChiKSksRi5hdHRyKCJ0cmFuc2Zvcm0iLG51bGwpLEYuc2VsZWN0KCJyZWN0IikuZmlsdGVyKGIuaXNSZWdpb25PblgpLmF0dHIoIngiLGIucmVnaW9uWC5iaW5kKGIpKS5hdHRyKCJ3aWR0aCIsYi5yZWdpb25XaWR0aC5iaW5kKGIpKSxjLmludGVyYWN0aW9uX2VuYWJsZWQmJmIucmVkcmF3RXZlbnRSZWN0KCksQigpLGIuZmxvd2luZz0hMX0pfX0saC5zZWxlY3RlZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5kMztyZXR1cm4gYy5tZXJnZShiLm1haW4uc2VsZWN0QWxsKCIuIitsLnNoYXBlcytiLmdldFRhcmdldFNlbGVjdG9yU3VmZml4KGEpKS5zZWxlY3RBbGwoIi4iK2wuc2hhcGUpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBjLnNlbGVjdCh0aGlzKS5jbGFzc2VkKGwuU0VMRUNURUQpfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXt2YXIgYj1hLl9fZGF0YV9fO3JldHVybiBiLmRhdGE/Yi5kYXRhOmJ9KX0pKX0saC5zZWxlY3Q9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuaW50ZXJuYWwsZT1kLmQzLGY9ZC5jb25maWc7Zi5kYXRhX3NlbGVjdGlvbl9lbmFibGVkJiZkLm1haW4uc2VsZWN0QWxsKCIuIitsLnNoYXBlcykuc2VsZWN0QWxsKCIuIitsLnNoYXBlKS5lYWNoKGZ1bmN0aW9uKGcsaCl7dmFyIGk9ZS5zZWxlY3QodGhpcyksaj1nLmRhdGE/Zy5kYXRhLmlkOmcuaWQsaz1kLmdldFRvZ2dsZSh0aGlzLGcpLmJpbmQoZCksbT1mLmRhdGFfc2VsZWN0aW9uX2dyb3VwZWR8fCFhfHxhLmluZGV4T2Yoaik+PTAsbj0hYnx8Yi5pbmRleE9mKGgpPj0wLG89aS5jbGFzc2VkKGwuU0VMRUNURUQpO2kuY2xhc3NlZChsLmxpbmUpfHxpLmNsYXNzZWQobC5hcmVhKXx8KG0mJm4/Zi5kYXRhX3NlbGVjdGlvbl9pc3NlbGVjdGFibGUoZykmJiFvJiZrKCEwLGkuY2xhc3NlZChsLlNFTEVDVEVELCEwKSxnLGgpOnEoYykmJmMmJm8mJmsoITEsaS5jbGFzc2VkKGwuU0VMRUNURUQsITEpLGcsaCkpfSl9LGgudW5zZWxlY3Q9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmludGVybmFsLGQ9Yy5kMyxlPWMuY29uZmlnO2UuZGF0YV9zZWxlY3Rpb25fZW5hYmxlZCYmYy5tYWluLnNlbGVjdEFsbCgiLiIrbC5zaGFwZXMpLnNlbGVjdEFsbCgiLiIrbC5zaGFwZSkuZWFjaChmdW5jdGlvbihmLGcpe3ZhciBoPWQuc2VsZWN0KHRoaXMpLGk9Zi5kYXRhP2YuZGF0YS5pZDpmLmlkLGo9Yy5nZXRUb2dnbGUodGhpcyxmKS5iaW5kKGMpLGs9ZS5kYXRhX3NlbGVjdGlvbl9ncm91cGVkfHwhYXx8YS5pbmRleE9mKGkpPj0wLG09IWJ8fGIuaW5kZXhPZihnKT49MCxuPWguY2xhc3NlZChsLlNFTEVDVEVEKTtoLmNsYXNzZWQobC5saW5lKXx8aC5jbGFzc2VkKGwuYXJlYSl8fGsmJm0mJmUuZGF0YV9zZWxlY3Rpb25faXNzZWxlY3RhYmxlKGYpJiZuJiZqKCExLGguY2xhc3NlZChsLlNFTEVDVEVELCExKSxmLGcpfSl9LGgudHJhbnNmb3JtPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5pbnRlcm5hbCxkPVsicGllIiwiZG9udXQiXS5pbmRleE9mKGEpPj0wP3t3aXRoVHJhbnNmb3JtOiEwfTpudWxsO2MudHJhbnNmb3JtVG8oYixhLGQpfSxpLnRyYW5zZm9ybVRvPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9IWQuaGFzQXJjVHlwZSgpLGY9Y3x8e3dpdGhUcmFuc2l0aW9uRm9yQXhpczplfTtmLndpdGhUcmFuc2l0aW9uRm9yVHJhbnNmb3JtPSExLGQudHJhbnNpdGluZz0hMSxkLnNldFRhcmdldFR5cGUoYSxiKSxkLnVwZGF0ZVRhcmdldHMoZC5kYXRhLnRhcmdldHMpLGQudXBkYXRlQW5kUmVkcmF3KGYpfSxoLmdyb3Vwcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5jb25maWc7cmV0dXJuIHAoYSk/Yy5kYXRhX2dyb3VwczooYy5kYXRhX2dyb3Vwcz1hLGIucmVkcmF3KCksYy5kYXRhX2dyb3Vwcyl9LGgueGdyaWRzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWwsYz1iLmNvbmZpZztyZXR1cm4gYT8oYy5ncmlkX3hfbGluZXM9YSxiLnJlZHJhd1dpdGhvdXRSZXNjYWxlKCksYy5ncmlkX3hfbGluZXMpOmMuZ3JpZF94X2xpbmVzfSxoLnhncmlkcy5hZGQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbDtyZXR1cm4gdGhpcy54Z3JpZHMoYi5jb25maWcuZ3JpZF94X2xpbmVzLmNvbmNhdChhP2E6W10pKX0saC54Z3JpZHMucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7Yi5yZW1vdmVHcmlkTGluZXMoYSwhMCl9LGgueWdyaWRzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWwsYz1iLmNvbmZpZztyZXR1cm4gYT8oYy5ncmlkX3lfbGluZXM9YSxiLnJlZHJhd1dpdGhvdXRSZXNjYWxlKCksYy5ncmlkX3lfbGluZXMpOmMuZ3JpZF95X2xpbmVzfSxoLnlncmlkcy5hZGQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbDtyZXR1cm4gdGhpcy55Z3JpZHMoYi5jb25maWcuZ3JpZF95X2xpbmVzLmNvbmNhdChhP2E6W10pKX0saC55Z3JpZHMucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7Yi5yZW1vdmVHcmlkTGluZXMoYSwhMSl9LGgucmVnaW9ucz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5jb25maWc7cmV0dXJuIGE/KGMucmVnaW9ucz1hLGIucmVkcmF3V2l0aG91dFJlc2NhbGUoKSxjLnJlZ2lvbnMpOmMucmVnaW9uc30saC5yZWdpb25zLmFkZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5jb25maWc7cmV0dXJuIGE/KGMucmVnaW9ucz1jLnJlZ2lvbnMuY29uY2F0KGEpLGIucmVkcmF3V2l0aG91dFJlc2NhbGUoKSxjLnJlZ2lvbnMpOmMucmVnaW9uc30saC5yZWdpb25zLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzLmludGVybmFsLGY9ZS5jb25maWc7cmV0dXJuIGE9YXx8e30sYj1lLmdldE9wdGlvbihhLCJkdXJhdGlvbiIsZi50cmFuc2l0aW9uX2R1cmF0aW9uKSxjPWUuZ2V0T3B0aW9uKGEsImNsYXNzZXMiLFtsLnJlZ2lvbl0pLGQ9ZS5tYWluLnNlbGVjdCgiLiIrbC5yZWdpb25zKS5zZWxlY3RBbGwoYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIi4iK2F9KSksKGI/ZC50cmFuc2l0aW9uKCkuZHVyYXRpb24oYik6ZCkuc3R5bGUoIm9wYWNpdHkiLDApLnJlbW92ZSgpLGYucmVnaW9ucz1mLnJlZ2lvbnMuZmlsdGVyKGZ1bmN0aW9uKGEpe3ZhciBiPSExO3JldHVybiBhWyJjbGFzcyJdPyhhWyJjbGFzcyJdLnNwbGl0KCIgIikuZm9yRWFjaChmdW5jdGlvbihhKXtjLmluZGV4T2YoYSk+PTAmJihiPSEwKX0pLCFiKTohMH0pLGYucmVnaW9uc30saC5kYXRhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWwuZGF0YS50YXJnZXRzO3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgYT9iOmIuZmlsdGVyKGZ1bmN0aW9uKGIpe3JldHVybltdLmNvbmNhdChhKS5pbmRleE9mKGIuaWQpPj0wfSl9LGguZGF0YS5zaG93bj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnRlcm5hbC5maWx0ZXJUYXJnZXRzVG9TaG93KHRoaXMuZGF0YShhKSl9LGguZGF0YS52YWx1ZXM9ZnVuY3Rpb24oYSl7dmFyIGIsYz1udWxsO3JldHVybiBhJiYoYj10aGlzLmRhdGEoYSksYz1iWzBdP2JbMF0udmFsdWVzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZX0pOm51bGwpLGN9LGguZGF0YS5uYW1lcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnRlcm5hbC5jbGVhckxlZ2VuZEl0ZW1UZXh0Qm94Q2FjaGUoKSx0aGlzLmludGVybmFsLnVwZGF0ZURhdGFBdHRyaWJ1dGVzKCJuYW1lcyIsYSl9LGguZGF0YS5jb2xvcnM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW50ZXJuYWwudXBkYXRlRGF0YUF0dHJpYnV0ZXMoImNvbG9ycyIsYSl9LGguZGF0YS5heGVzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmludGVybmFsLnVwZGF0ZURhdGFBdHRyaWJ1dGVzKCJheGVzIixhKX0saC5jYXRlZ29yeT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuaW50ZXJuYWwsZD1jLmNvbmZpZztyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xJiYoZC5heGlzX3hfY2F0ZWdvcmllc1thXT1iLGMucmVkcmF3KCkpLGQuYXhpc194X2NhdGVnb3JpZXNbYV19LGguY2F0ZWdvcmllcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5jb25maWc7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGMuYXhpc194X2NhdGVnb3JpZXM9YSxiLnJlZHJhdygpLGMuYXhpc194X2NhdGVnb3JpZXMpOmMuYXhpc194X2NhdGVnb3JpZXN9LGguY29sb3I9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbDtyZXR1cm4gYi5jb2xvcihhKX0saC54PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJihiLnVwZGF0ZVRhcmdldFgoYi5kYXRhLnRhcmdldHMsYSksYi5yZWRyYXcoe3dpdGhVcGRhdGVPcmdYRG9tYWluOiEwLHdpdGhVcGRhdGVYRG9tYWluOiEwfSkpLGIuZGF0YS54c30saC54cz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsO3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiYoYi51cGRhdGVUYXJnZXRYcyhiLmRhdGEudGFyZ2V0cyxhKSxiLnJlZHJhdyh7d2l0aFVwZGF0ZU9yZ1hEb21haW46ITAsd2l0aFVwZGF0ZVhEb21haW46ITB9KSksYi5kYXRhLnhzfSxoLmF4aXM9ZnVuY3Rpb24oKXt9LGguYXhpcy5sYWJlbHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbDthcmd1bWVudHMubGVuZ3RoJiYoT2JqZWN0LmtleXMoYSkuZm9yRWFjaChmdW5jdGlvbihjKXtiLmF4aXMuc2V0TGFiZWxUZXh0KGMsYVtjXSl9KSxiLmF4aXMudXBkYXRlTGFiZWxzKCkpfSxoLmF4aXMubWF4PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWwsYz1iLmNvbmZpZztyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oIm9iamVjdCI9PXR5cGVvZiBhPyhtKGEueCkmJihjLmF4aXNfeF9tYXg9YS54KSxtKGEueSkmJihjLmF4aXNfeV9tYXg9YS55KSxtKGEueTIpJiYoYy5heGlzX3kyX21heD1hLnkyKSk6Yy5heGlzX3lfbWF4PWMuYXhpc195Ml9tYXg9YSx2b2lkIGIucmVkcmF3KHt3aXRoVXBkYXRlT3JnWERvbWFpbjohMCx3aXRoVXBkYXRlWERvbWFpbjohMH0pKTp7eDpjLmF4aXNfeF9tYXgseTpjLmF4aXNfeV9tYXgseTI6Yy5heGlzX3kyX21heH19LGguYXhpcy5taW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbCxjPWIuY29uZmlnO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPygib2JqZWN0Ij09dHlwZW9mIGE/KG0oYS54KSYmKGMuYXhpc194X21pbj1hLngpLG0oYS55KSYmKGMuYXhpc195X21pbj1hLnkpLG0oYS55MikmJihjLmF4aXNfeTJfbWluPWEueTIpKTpjLmF4aXNfeV9taW49Yy5heGlzX3kyX21pbj1hLHZvaWQgYi5yZWRyYXcoe3dpdGhVcGRhdGVPcmdYRG9tYWluOiEwLHdpdGhVcGRhdGVYRG9tYWluOiEwfSkpOnt4OmMuYXhpc194X21pbix5OmMuYXhpc195X21pbix5MjpjLmF4aXNfeTJfbWlufX0saC5heGlzLnJhbmdlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhxKGEubWF4KSYmdGhpcy5heGlzLm1heChhLm1heCksdm9pZChxKGEubWluKSYmdGhpcy5heGlzLm1pbihhLm1pbikpKTp7bWF4OnRoaXMuYXhpcy5tYXgoKSxtaW46dGhpcy5heGlzLm1pbigpfX0saC5sZWdlbmQ9ZnVuY3Rpb24oKXt9LGgubGVnZW5kLnNob3c9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbDtiLnNob3dMZWdlbmQoYi5tYXBUb1RhcmdldElkcyhhKSksYi51cGRhdGVBbmRSZWRyYXcoe3dpdGhMZWdlbmQ6ITB9KX0saC5sZWdlbmQuaGlkZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsO2IuaGlkZUxlZ2VuZChiLm1hcFRvVGFyZ2V0SWRzKGEpKSxiLnVwZGF0ZUFuZFJlZHJhdyh7d2l0aExlZ2VuZDohMH0pfSxoLnJlc2l6ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5jb25maWc7Yy5zaXplX3dpZHRoPWE/YS53aWR0aDpudWxsLGMuc2l6ZV9oZWlnaHQ9YT9hLmhlaWdodDpudWxsLHRoaXMuZmx1c2goKX0saC5mbHVzaD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW50ZXJuYWw7YS51cGRhdGVBbmRSZWRyYXcoe3dpdGhMZWdlbmQ6ITAsd2l0aFRyYW5zaXRpb246ITEsd2l0aFRyYW5zaXRpb25Gb3JUcmFuc2Zvcm06ITF9KX0saC5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5pbnRlcm5hbDtpZihhLmNsZWFySW50ZXJ2YWwoYi5pbnRlcnZhbEZvck9ic2VydmVJbnNlcnRlZCksdm9pZCAwIT09Yi5yZXNpemVUaW1lb3V0JiZhLmNsZWFyVGltZW91dChiLnJlc2l6ZVRpbWVvdXQpLGEuZGV0YWNoRXZlbnQpYS5kZXRhY2hFdmVudCgib25yZXNpemUiLGIucmVzaXplRnVuY3Rpb24pO2Vsc2UgaWYoYS5yZW1vdmVFdmVudExpc3RlbmVyKWEucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIixiLnJlc2l6ZUZ1bmN0aW9uKTtlbHNle3ZhciBjPWEub25yZXNpemU7YyYmYy5hZGQmJmMucmVtb3ZlJiZjLnJlbW92ZShiLnJlc2l6ZUZ1bmN0aW9uKX1yZXR1cm4gYi5zZWxlY3RDaGFydC5jbGFzc2VkKCJjMyIsITEpLmh0bWwoIiIpLE9iamVjdC5rZXlzKGIpLmZvckVhY2goZnVuY3Rpb24oYSl7YlthXT1udWxsfSksbnVsbH0saC50b29sdGlwPWZ1bmN0aW9uKCl7fSxoLnRvb2x0aXAuc2hvdz1mdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcy5pbnRlcm5hbDthLm1vdXNlJiYoYz1hLm1vdXNlKSxhLmRhdGE/ZC5pc011bHRpcGxlWCgpPyhjPVtkLngoYS5kYXRhLngpLGQuZ2V0WVNjYWxlKGEuZGF0YS5pZCkoYS5kYXRhLnZhbHVlKV0sYj1udWxsKTpiPW0oYS5kYXRhLmluZGV4KT9hLmRhdGEuaW5kZXg6ZC5nZXRJbmRleEJ5WChhLmRhdGEueCk6InVuZGVmaW5lZCIhPXR5cGVvZiBhLng/Yj1kLmdldEluZGV4QnlYKGEueCk6InVuZGVmaW5lZCIhPXR5cGVvZiBhLmluZGV4JiYoYj1hLmluZGV4KSxkLmRpc3BhdGNoRXZlbnQoIm1vdXNlb3ZlciIsYixjKSxkLmRpc3BhdGNoRXZlbnQoIm1vdXNlbW92ZSIsYixjKSxkLmNvbmZpZy50b29sdGlwX29uc2hvdy5jYWxsKGQsYS5kYXRhKX0saC50b29sdGlwLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmludGVybmFsLmRpc3BhdGNoRXZlbnQoIm1vdXNlb3V0IiwwKSx0aGlzLmludGVybmFsLmNvbmZpZy50b29sdGlwX29uaGlkZS5jYWxsKHRoaXMpfTt2YXIgQTtpLmlzU2FmYXJpPWZ1bmN0aW9uKCl7dmFyIGI9YS5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBiLmluZGV4T2YoIlNhZmFyaSIpPj0wJiZiLmluZGV4T2YoIkNocm9tZSIpPDB9LGkuaXNDaHJvbWU9ZnVuY3Rpb24oKXt2YXIgYj1hLm5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuIGIuaW5kZXhPZigiQ2hyb21lIik+PTB9LEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcigiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgLSB3aGF0IGlzIHRyeWluZyB0byBiZSBib3VuZCBpcyBub3QgY2FsbGFibGUiKTt2YXIgYj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksYz10aGlzLGQ9ZnVuY3Rpb24oKXt9LGU9ZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseSh0aGlzIGluc3RhbmNlb2YgZD90aGlzOmEsYi5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpfTtyZXR1cm4gZC5wcm90b3R5cGU9dGhpcy5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IGQsZX0pLGZ1bmN0aW9uKCl7IlNWR1BhdGhTZWciaW4gYXx8KGEuU1ZHUGF0aFNlZz1mdW5jdGlvbihhLGIsYyl7dGhpcy5wYXRoU2VnVHlwZT1hLHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlcj1iLHRoaXMuX293bmluZ1BhdGhTZWdMaXN0PWN9LFNWR1BhdGhTZWcuUEFUSFNFR19VTktOT1dOPTAsU1ZHUGF0aFNlZy5QQVRIU0VHX0NMT1NFUEFUSD0xLFNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fQUJTPTIsU1ZHUGF0aFNlZy5QQVRIU0VHX01PVkVUT19SRUw9MyxTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX0FCUz00LFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fUkVMPTUsU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fQ1VCSUNfQUJTPTYsU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fQ1VCSUNfUkVMPTcsU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX0FCUz04LFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19SRUw9OSxTVkdQYXRoU2VnLlBBVEhTRUdfQVJDX0FCUz0xMCxTVkdQYXRoU2VnLlBBVEhTRUdfQVJDX1JFTD0xMSxTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX0hPUklaT05UQUxfQUJTPTEyLFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fSE9SSVpPTlRBTF9SRUw9MTMsU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19WRVJUSUNBTF9BQlM9MTQsU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19WRVJUSUNBTF9SRUw9MTUsU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fQ1VCSUNfU01PT1RIX0FCUz0xNixTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19TTU9PVEhfUkVMPTE3LFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19TTU9PVEhfQUJTPTE4LFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19TTU9PVEhfUkVMPTE5LFNWR1BhdGhTZWcucHJvdG90eXBlLl9zZWdtZW50Q2hhbmdlZD1mdW5jdGlvbigpe3RoaXMuX293bmluZ1BhdGhTZWdMaXN0JiZ0aGlzLl9vd25pbmdQYXRoU2VnTGlzdC5zZWdtZW50Q2hhbmdlZCh0aGlzKX0sYS5TVkdQYXRoU2VnQ2xvc2VQYXRoPWZ1bmN0aW9uKGEpe1NWR1BhdGhTZWcuY2FsbCh0aGlzLFNWR1BhdGhTZWcuUEFUSFNFR19DTE9TRVBBVEgsInoiLGEpfSxTVkdQYXRoU2VnQ2xvc2VQYXRoLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKSxTVkdQYXRoU2VnQ2xvc2VQYXRoLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IFNWR1BhdGhTZWdDbG9zZVBhdGhdIn0sU1ZHUGF0aFNlZ0Nsb3NlUGF0aC5wcm90b3R5cGUuX2FzUGF0aFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXJ9LFNWR1BhdGhTZWdDbG9zZVBhdGgucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBTVkdQYXRoU2VnQ2xvc2VQYXRoKHZvaWQgMCl9LGEuU1ZHUGF0aFNlZ01vdmV0b0Ficz1mdW5jdGlvbihhLGIsYyl7U1ZHUGF0aFNlZy5jYWxsKHRoaXMsU1ZHUGF0aFNlZy5QQVRIU0VHX01PVkVUT19BQlMsIk0iLGEpLHRoaXMuX3g9Yix0aGlzLl95PWN9LFNWR1BhdGhTZWdNb3ZldG9BYnMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoU1ZHUGF0aFNlZy5wcm90b3R5cGUpLFNWR1BhdGhTZWdNb3ZldG9BYnMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgU1ZHUGF0aFNlZ01vdmV0b0Fic10ifSxTVkdQYXRoU2VnTW92ZXRvQWJzLnByb3RvdHlwZS5fYXNQYXRoU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlcisiICIrdGhpcy5feCsiICIrdGhpcy5feX0sU1ZHUGF0aFNlZ01vdmV0b0Ficy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNWR1BhdGhTZWdNb3ZldG9BYnModm9pZCAwLHRoaXMuX3gsdGhpcy5feSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnTW92ZXRvQWJzLnByb3RvdHlwZSwieCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feD1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ01vdmV0b0Ficy5wcm90b3R5cGUsInkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3k9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksYS5TVkdQYXRoU2VnTW92ZXRvUmVsPWZ1bmN0aW9uKGEsYixjKXtTVkdQYXRoU2VnLmNhbGwodGhpcyxTVkdQYXRoU2VnLlBBVEhTRUdfTU9WRVRPX1JFTCwibSIsYSksdGhpcy5feD1iLHRoaXMuX3k9Y30sU1ZHUGF0aFNlZ01vdmV0b1JlbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTVkdQYXRoU2VnLnByb3RvdHlwZSksU1ZHUGF0aFNlZ01vdmV0b1JlbC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBTVkdQYXRoU2VnTW92ZXRvUmVsXSJ9LFNWR1BhdGhTZWdNb3ZldG9SZWwucHJvdG90eXBlLl9hc1BhdGhTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyKyIgIit0aGlzLl94KyIgIit0aGlzLl95fSxTVkdQYXRoU2VnTW92ZXRvUmVsLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ01vdmV0b1JlbCh2b2lkIDAsdGhpcy5feCx0aGlzLl95KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdNb3ZldG9SZWwucHJvdG90eXBlLCJ4Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3h9LHNldDpmdW5jdGlvbihhKXt0aGlzLl94PWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnTW92ZXRvUmVsLnByb3RvdHlwZSwieSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feT1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxhLlNWR1BhdGhTZWdMaW5ldG9BYnM9ZnVuY3Rpb24oYSxiLGMpe1NWR1BhdGhTZWcuY2FsbCh0aGlzLFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fQUJTLCJMIixhKSx0aGlzLl94PWIsdGhpcy5feT1jfSxTVkdQYXRoU2VnTGluZXRvQWJzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKSxTVkdQYXRoU2VnTGluZXRvQWJzLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IFNWR1BhdGhTZWdMaW5ldG9BYnNdIn0sU1ZHUGF0aFNlZ0xpbmV0b0Ficy5wcm90b3R5cGUuX2FzUGF0aFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIrIiAiK3RoaXMuX3grIiAiK3RoaXMuX3l9LFNWR1BhdGhTZWdMaW5ldG9BYnMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvQWJzKHZvaWQgMCx0aGlzLl94LHRoaXMuX3kpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0xpbmV0b0Ficy5wcm90b3R5cGUsIngiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3g9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdMaW5ldG9BYnMucHJvdG90eXBlLCJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3l9LHNldDpmdW5jdGlvbihhKXt0aGlzLl95PWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLGEuU1ZHUGF0aFNlZ0xpbmV0b1JlbD1mdW5jdGlvbihhLGIsYyl7U1ZHUGF0aFNlZy5jYWxsKHRoaXMsU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19SRUwsImwiLGEpLHRoaXMuX3g9Yix0aGlzLl95PWN9LFNWR1BhdGhTZWdMaW5ldG9SZWwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoU1ZHUGF0aFNlZy5wcm90b3R5cGUpLFNWR1BhdGhTZWdMaW5ldG9SZWwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgU1ZHUGF0aFNlZ0xpbmV0b1JlbF0ifSxTVkdQYXRoU2VnTGluZXRvUmVsLnByb3RvdHlwZS5fYXNQYXRoU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlcisiICIrdGhpcy5feCsiICIrdGhpcy5feX0sU1ZHUGF0aFNlZ0xpbmV0b1JlbC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNWR1BhdGhTZWdMaW5ldG9SZWwodm9pZCAwLHRoaXMuX3gsdGhpcy5feSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnTGluZXRvUmVsLnByb3RvdHlwZSwieCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feD1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0xpbmV0b1JlbC5wcm90b3R5cGUsInkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3k9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksYS5TVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe1NWR1BhdGhTZWcuY2FsbCh0aGlzLFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX0FCUywiQyIsYSksdGhpcy5feD1iLHRoaXMuX3k9Yyx0aGlzLl94MT1kLHRoaXMuX3kxPWUsdGhpcy5feDI9Zix0aGlzLl95Mj1nfSxTVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKSxTVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnNdIn0sU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficy5wcm90b3R5cGUuX2FzUGF0aFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIrIiAiK3RoaXMuX3gxKyIgIit0aGlzLl95MSsiICIrdGhpcy5feDIrIiAiK3RoaXMuX3kyKyIgIit0aGlzLl94KyIgIit0aGlzLl95fSxTVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficyh2b2lkIDAsdGhpcy5feCx0aGlzLl95LHRoaXMuX3gxLHRoaXMuX3kxLHRoaXMuX3gyLHRoaXMuX3kyKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMucHJvdG90eXBlLCJ4Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3h9LHNldDpmdW5jdGlvbihhKXt0aGlzLl94PWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzLnByb3RvdHlwZSwieSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feT1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficy5wcm90b3R5cGUsIngxIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3gxfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feDE9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMucHJvdG90eXBlLCJ5MSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95MX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3kxPWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzLnByb3RvdHlwZSwieDIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feDJ9LHNldDpmdW5jdGlvbihhKXt0aGlzLl94Mj1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficy5wcm90b3R5cGUsInkyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3kyfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feTI9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksYS5TVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe1NWR1BhdGhTZWcuY2FsbCh0aGlzLFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1JFTCwiYyIsYSksdGhpcy5feD1iLHRoaXMuX3k9Yyx0aGlzLl94MT1kLHRoaXMuX3kxPWUsdGhpcy5feDI9Zix0aGlzLl95Mj1nfSxTVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKSxTVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWxdIn0sU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbC5wcm90b3R5cGUuX2FzUGF0aFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIrIiAiK3RoaXMuX3gxKyIgIit0aGlzLl95MSsiICIrdGhpcy5feDIrIiAiK3RoaXMuX3kyKyIgIit0aGlzLl94KyIgIit0aGlzLl95fSxTVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbCh2b2lkIDAsdGhpcy5feCx0aGlzLl95LHRoaXMuX3gxLHRoaXMuX3kxLHRoaXMuX3gyLHRoaXMuX3kyKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwucHJvdG90eXBlLCJ4Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3h9LHNldDpmdW5jdGlvbihhKXt0aGlzLl94PWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsLnByb3RvdHlwZSwieSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feT1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbC5wcm90b3R5cGUsIngxIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3gxfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feDE9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwucHJvdG90eXBlLCJ5MSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95MX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3kxPWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsLnByb3RvdHlwZSwieDIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feDJ9LHNldDpmdW5jdGlvbihhKXt0aGlzLl94Mj1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbC5wcm90b3R5cGUsInkyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3kyfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feTI9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksYS5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0Ficz1mdW5jdGlvbihhLGIsYyxkLGUpe1NWR1BhdGhTZWcuY2FsbCh0aGlzLFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19BQlMsIlEiLGEpLHRoaXMuX3g9Yix0aGlzLl95PWMsdGhpcy5feDE9ZCx0aGlzLl95MT1lfSxTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0Ficy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTVkdQYXRoU2VnLnByb3RvdHlwZSksU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnNdIn0sU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnMucHJvdG90eXBlLl9hc1BhdGhTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyKyIgIit0aGlzLl94MSsiICIrdGhpcy5feTErIiAiK3RoaXMuX3grIiAiK3RoaXMuX3l9LFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnModm9pZCAwLHRoaXMuX3gsdGhpcy5feSx0aGlzLl94MSx0aGlzLl95MSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0Ficy5wcm90b3R5cGUsIngiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3g9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzLnByb3RvdHlwZSwieSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feT1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnMucHJvdG90eXBlLCJ4MSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94MX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3gxPWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0Ficy5wcm90b3R5cGUsInkxIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3kxfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feTE9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksYS5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1JlbD1mdW5jdGlvbihhLGIsYyxkLGUpe1NWR1BhdGhTZWcuY2FsbCh0aGlzLFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19SRUwsInEiLGEpLHRoaXMuX3g9Yix0aGlzLl95PWMsdGhpcy5feDE9ZCx0aGlzLl95MT1lfSxTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1JlbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTVkdQYXRoU2VnLnByb3RvdHlwZSksU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWxdIn0sU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWwucHJvdG90eXBlLl9hc1BhdGhTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyKyIgIit0aGlzLl94MSsiICIrdGhpcy5feTErIiAiK3RoaXMuX3grIiAiK3RoaXMuX3l9LFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWwodm9pZCAwLHRoaXMuX3gsdGhpcy5feSx0aGlzLl94MSx0aGlzLl95MSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1JlbC5wcm90b3R5cGUsIngiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3g9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsLnByb3RvdHlwZSwieSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feT1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWwucHJvdG90eXBlLCJ4MSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94MX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3gxPWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1JlbC5wcm90b3R5cGUsInkxIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3kxfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feTE9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksYS5TVkdQYXRoU2VnQXJjQWJzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7U1ZHUGF0aFNlZy5jYWxsKHRoaXMsU1ZHUGF0aFNlZy5QQVRIU0VHX0FSQ19BQlMsIkEiLGEpLHRoaXMuX3g9Yix0aGlzLl95PWMsdGhpcy5fcjE9ZCx0aGlzLl9yMj1lLHRoaXMuX2FuZ2xlPWYsdGhpcy5fbGFyZ2VBcmNGbGFnPWcsdGhpcy5fc3dlZXBGbGFnPWh9LFNWR1BhdGhTZWdBcmNBYnMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoU1ZHUGF0aFNlZy5wcm90b3R5cGUpLFNWR1BhdGhTZWdBcmNBYnMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgU1ZHUGF0aFNlZ0FyY0Fic10ifSxTVkdQYXRoU2VnQXJjQWJzLnByb3RvdHlwZS5fYXNQYXRoU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlcisiICIrdGhpcy5fcjErIiAiK3RoaXMuX3IyKyIgIit0aGlzLl9hbmdsZSsiICIrKHRoaXMuX2xhcmdlQXJjRmxhZz8iMSI6IjAiKSsiICIrKHRoaXMuX3N3ZWVwRmxhZz8iMSI6IjAiKSsiICIrdGhpcy5feCsiICIrdGhpcy5feX0sU1ZHUGF0aFNlZ0FyY0Ficy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNWR1BhdGhTZWdBcmNBYnModm9pZCAwLHRoaXMuX3gsdGhpcy5feSx0aGlzLl9yMSx0aGlzLl9yMix0aGlzLl9hbmdsZSx0aGlzLl9sYXJnZUFyY0ZsYWcsdGhpcy5fc3dlZXBGbGFnKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdBcmNBYnMucHJvdG90eXBlLCJ4Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3h9LHNldDpmdW5jdGlvbihhKXt0aGlzLl94PWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQXJjQWJzLnByb3RvdHlwZSwieSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feT1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0FyY0Ficy5wcm90b3R5cGUsInIxIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3IxfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5fcjE9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdBcmNBYnMucHJvdG90eXBlLCJyMiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yMn0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3IyPWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQXJjQWJzLnByb3RvdHlwZSwiYW5nbGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5nbGV9LHNldDpmdW5jdGlvbihhKXt0aGlzLl9hbmdsZT1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0FyY0Ficy5wcm90b3R5cGUsImxhcmdlQXJjRmxhZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXJnZUFyY0ZsYWd9LHNldDpmdW5jdGlvbihhKXt0aGlzLl9sYXJnZUFyY0ZsYWc9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdBcmNBYnMucHJvdG90eXBlLCJzd2VlcEZsYWciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3dlZXBGbGFnfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5fc3dlZXBGbGFnPWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLGEuU1ZHUGF0aFNlZ0FyY1JlbD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe1NWR1BhdGhTZWcuY2FsbCh0aGlzLFNWR1BhdGhTZWcuUEFUSFNFR19BUkNfUkVMLCJhIixhKSx0aGlzLl94PWIsdGhpcy5feT1jLHRoaXMuX3IxPWQsdGhpcy5fcjI9ZSx0aGlzLl9hbmdsZT1mLHRoaXMuX2xhcmdlQXJjRmxhZz1nLHRoaXMuX3N3ZWVwRmxhZz1ofSxTVkdQYXRoU2VnQXJjUmVsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKSxTVkdQYXRoU2VnQXJjUmVsLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IFNWR1BhdGhTZWdBcmNSZWxdIn0sU1ZHUGF0aFNlZ0FyY1JlbC5wcm90b3R5cGUuX2FzUGF0aFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIrIiAiK3RoaXMuX3IxKyIgIit0aGlzLl9yMisiICIrdGhpcy5fYW5nbGUrIiAiKyh0aGlzLl9sYXJnZUFyY0ZsYWc/IjEiOiIwIikrIiAiKyh0aGlzLl9zd2VlcEZsYWc/IjEiOiIwIikrIiAiK3RoaXMuX3grIiAiK3RoaXMuX3l9LFNWR1BhdGhTZWdBcmNSZWwucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBTVkdQYXRoU2VnQXJjUmVsKHZvaWQgMCx0aGlzLl94LHRoaXMuX3ksdGhpcy5fcjEsdGhpcy5fcjIsdGhpcy5fYW5nbGUsdGhpcy5fbGFyZ2VBcmNGbGFnLHRoaXMuX3N3ZWVwRmxhZyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQXJjUmVsLnByb3RvdHlwZSwieCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feD1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0FyY1JlbC5wcm90b3R5cGUsInkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3k9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdBcmNSZWwucHJvdG90eXBlLCJyMSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yMX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3IxPWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQXJjUmVsLnByb3RvdHlwZSwicjIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcjJ9LHNldDpmdW5jdGlvbihhKXt0aGlzLl9yMj1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0FyY1JlbC5wcm90b3R5cGUsImFuZ2xlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuZ2xlfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5fYW5nbGU9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdBcmNSZWwucHJvdG90eXBlLCJsYXJnZUFyY0ZsYWciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGFyZ2VBcmNGbGFnfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5fbGFyZ2VBcmNGbGFnPWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQXJjUmVsLnByb3RvdHlwZSwic3dlZXBGbGFnIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N3ZWVwRmxhZ30sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3N3ZWVwRmxhZz1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxhLlNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzPWZ1bmN0aW9uKGEsYil7U1ZHUGF0aFNlZy5jYWxsKHRoaXMsU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19IT1JJWk9OVEFMX0FCUywiSCIsYSksdGhpcy5feD1ifSxTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTVkdQYXRoU2VnLnByb3RvdHlwZSksU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxBYnMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxBYnNdIn0sU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxBYnMucHJvdG90eXBlLl9hc1BhdGhTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyKyIgIit0aGlzLl94fSxTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzKHZvaWQgMCx0aGlzLl94KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzLnByb3RvdHlwZSwieCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feD1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxhLlNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsUmVsPWZ1bmN0aW9uKGEsYil7U1ZHUGF0aFNlZy5jYWxsKHRoaXMsU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19IT1JJWk9OVEFMX1JFTCwiaCIsYSksdGhpcy5feD1ifSxTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbFJlbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTVkdQYXRoU2VnLnByb3RvdHlwZSksU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxSZWwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxSZWxdIn0sU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxSZWwucHJvdG90eXBlLl9hc1BhdGhTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyKyIgIit0aGlzLl94fSxTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbFJlbC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsUmVsKHZvaWQgMCx0aGlzLl94KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsUmVsLnByb3RvdHlwZSwieCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feD1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxhLlNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFicz1mdW5jdGlvbihhLGIpe1NWR1BhdGhTZWcuY2FsbCh0aGlzLFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fVkVSVElDQUxfQUJTLCJWIixhKSx0aGlzLl95PWJ9LFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFicy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTVkdQYXRoU2VnLnByb3RvdHlwZSksU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsQWJzLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFic10ifSxTVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnMucHJvdG90eXBlLl9hc1BhdGhTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyKyIgIit0aGlzLl95fSxTVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnModm9pZCAwLHRoaXMuX3kpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsQWJzLnByb3RvdHlwZSwieSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feT1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxhLlNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbD1mdW5jdGlvbihhLGIpew0KU1ZHUGF0aFNlZy5jYWxsKHRoaXMsU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19WRVJUSUNBTF9SRUwsInYiLGEpLHRoaXMuX3k9Yn0sU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsUmVsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKSxTVkdQYXRoU2VnTGluZXRvVmVydGljYWxSZWwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsUmVsXSJ9LFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbC5wcm90b3R5cGUuX2FzUGF0aFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIrIiAiK3RoaXMuX3l9LFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbCh2b2lkIDAsdGhpcy5feSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnTGluZXRvVmVydGljYWxSZWwucHJvdG90eXBlLCJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3l9LHNldDpmdW5jdGlvbihhKXt0aGlzLl95PWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLGEuU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aEFicz1mdW5jdGlvbihhLGIsYyxkLGUpe1NWR1BhdGhTZWcuY2FsbCh0aGlzLFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9BQlMsIlMiLGEpLHRoaXMuX3g9Yix0aGlzLl95PWMsdGhpcy5feDI9ZCx0aGlzLl95Mj1lfSxTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKSxTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnNdIn0sU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aEFicy5wcm90b3R5cGUuX2FzUGF0aFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIrIiAiK3RoaXMuX3gyKyIgIit0aGlzLl95MisiICIrdGhpcy5feCsiICIrdGhpcy5feX0sU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aEFicy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnModm9pZCAwLHRoaXMuX3gsdGhpcy5feSx0aGlzLl94Mix0aGlzLl95Mil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzLnByb3RvdHlwZSwieCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feD1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aEFicy5wcm90b3R5cGUsInkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3k9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnMucHJvdG90eXBlLCJ4MiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94Mn0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3gyPWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzLnByb3RvdHlwZSwieTIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feTJ9LHNldDpmdW5jdGlvbihhKXt0aGlzLl95Mj1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxhLlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWw9ZnVuY3Rpb24oYSxiLGMsZCxlKXtTVkdQYXRoU2VnLmNhbGwodGhpcyxTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19TTU9PVEhfUkVMLCJzIixhKSx0aGlzLl94PWIsdGhpcy5feT1jLHRoaXMuX3gyPWQsdGhpcy5feTI9ZX0sU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aFJlbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTVkdQYXRoU2VnLnByb3RvdHlwZSksU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aFJlbC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsXSJ9LFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWwucHJvdG90eXBlLl9hc1BhdGhTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyKyIgIit0aGlzLl94MisiICIrdGhpcy5feTIrIiAiK3RoaXMuX3grIiAiK3RoaXMuX3l9LFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWwucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsKHZvaWQgMCx0aGlzLl94LHRoaXMuX3ksdGhpcy5feDIsdGhpcy5feTIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aFJlbC5wcm90b3R5cGUsIngiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3g9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWwucHJvdG90eXBlLCJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3l9LHNldDpmdW5jdGlvbihhKXt0aGlzLl95PWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsLnByb3RvdHlwZSwieDIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feDJ9LHNldDpmdW5jdGlvbihhKXt0aGlzLl94Mj1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aFJlbC5wcm90b3R5cGUsInkyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3kyfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feTI9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksYS5TVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicz1mdW5jdGlvbihhLGIsYyl7U1ZHUGF0aFNlZy5jYWxsKHRoaXMsU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1NNT09USF9BQlMsIlQiLGEpLHRoaXMuX3g9Yix0aGlzLl95PWN9LFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKSxTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFic10ifSxTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicy5wcm90b3R5cGUuX2FzUGF0aFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIrIiAiK3RoaXMuX3grIiAiK3RoaXMuX3l9LFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhBYnModm9pZCAwLHRoaXMuX3gsdGhpcy5feSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicy5wcm90b3R5cGUsIngiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3g9YSx0aGlzLl9zZWdtZW50Q2hhbmdlZCgpfSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzLnByb3RvdHlwZSwieSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feT1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxhLlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsPWZ1bmN0aW9uKGEsYixjKXtTVkdQYXRoU2VnLmNhbGwodGhpcyxTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfU01PT1RIX1JFTCwidCIsYSksdGhpcy5feD1iLHRoaXMuX3k9Y30sU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoU1ZHUGF0aFNlZy5wcm90b3R5cGUpLFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsXSJ9LFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsLnByb3RvdHlwZS5fYXNQYXRoU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlcisiICIrdGhpcy5feCsiICIrdGhpcy5feX0sU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aFJlbCh2b2lkIDAsdGhpcy5feCx0aGlzLl95KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsLnByb3RvdHlwZSwieCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5feD1hLHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCl9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwucHJvdG90eXBlLCJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3l9LHNldDpmdW5jdGlvbihhKXt0aGlzLl95PWEsdGhpcy5fc2VnbWVudENoYW5nZWQoKX0sZW51bWVyYWJsZTohMH0pLFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQ2xvc2VQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBTVkdQYXRoU2VnQ2xvc2VQYXRoKHZvaWQgMCl9LFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnTW92ZXRvQWJzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBTVkdQYXRoU2VnTW92ZXRvQWJzKHZvaWQgMCxhLGIpfSxTVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ01vdmV0b1JlbD1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ01vdmV0b1JlbCh2b2lkIDAsYSxiKX0sU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9BYnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IFNWR1BhdGhTZWdMaW5ldG9BYnModm9pZCAwLGEsYil9LFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnTGluZXRvUmVsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvUmVsKHZvaWQgMCxhLGIpfSxTVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficz1mdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzKHZvaWQgMCxhLGIsYyxkLGUsZil9LFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtyZXR1cm4gbmV3IFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwodm9pZCAwLGEsYixjLGQsZSxmKX0sU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnModm9pZCAwLGEsYixjLGQpfSxTVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWw9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1JlbCh2b2lkIDAsYSxiLGMsZCl9LFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQXJjQWJzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ0FyY0Ficyh2b2lkIDAsYSxiLGMsZCxlLGYsZyl9LFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQXJjUmVsPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ0FyY1JlbCh2b2lkIDAsYSxiLGMsZCxlLGYsZyl9LFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IFNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzKHZvaWQgMCxhKX0sU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsUmVsPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxSZWwodm9pZCAwLGEpfSxTVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsQWJzPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsQWJzKHZvaWQgMCxhKX0sU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbD1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbCh2b2lkIDAsYSl9LFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aEFicyh2b2lkIDAsYSxiLGMsZCl9LFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aFJlbCh2b2lkIDAsYSxiLGMsZCl9LFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicz1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhBYnModm9pZCAwLGEsYil9LFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aFJlbD1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwodm9pZCAwLGEsYil9KSwiU1ZHUGF0aFNlZ0xpc3QiaW4gYXx8KGEuU1ZHUGF0aFNlZ0xpc3Q9ZnVuY3Rpb24oYSl7dGhpcy5fcGF0aEVsZW1lbnQ9YSx0aGlzLl9saXN0PXRoaXMuX3BhcnNlUGF0aCh0aGlzLl9wYXRoRWxlbWVudC5nZXRBdHRyaWJ1dGUoImQiKSksdGhpcy5fbXV0YXRpb25PYnNlcnZlckNvbmZpZz17YXR0cmlidXRlczohMCxhdHRyaWJ1dGVGaWx0ZXI6WyJkIl19LHRoaXMuX3BhdGhFbGVtZW50TXV0YXRpb25PYnNlcnZlcj1uZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLl91cGRhdGVMaXN0RnJvbVBhdGhNdXRhdGlvbnMuYmluZCh0aGlzKSksdGhpcy5fcGF0aEVsZW1lbnRNdXRhdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcy5fcGF0aEVsZW1lbnQsdGhpcy5fbXV0YXRpb25PYnNlcnZlckNvbmZpZyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUsIm51bWJlck9mSXRlbXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hlY2tQYXRoU3luY2hyb25pemVkVG9MaXN0KCksdGhpcy5fbGlzdC5sZW5ndGh9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLCJwYXRoU2VnTGlzdCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXRoU2VnTGlzdHx8KHRoaXMuX3BhdGhTZWdMaXN0PW5ldyBTVkdQYXRoU2VnTGlzdCh0aGlzKSksdGhpcy5fcGF0aFNlZ0xpc3R9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLCJub3JtYWxpemVkUGF0aFNlZ0xpc3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoU2VnTGlzdH0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoRWxlbWVudC5wcm90b3R5cGUsImFuaW1hdGVkUGF0aFNlZ0xpc3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoU2VnTGlzdH0sZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoRWxlbWVudC5wcm90b3R5cGUsImFuaW1hdGVkTm9ybWFsaXplZFBhdGhTZWdMaXN0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aFNlZ0xpc3R9LGVudW1lcmFibGU6ITB9KSxTVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUuX2NoZWNrUGF0aFN5bmNocm9uaXplZFRvTGlzdD1mdW5jdGlvbigpe3RoaXMuX3VwZGF0ZUxpc3RGcm9tUGF0aE11dGF0aW9ucyh0aGlzLl9wYXRoRWxlbWVudE11dGF0aW9uT2JzZXJ2ZXIudGFrZVJlY29yZHMoKSl9LFNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5fdXBkYXRlTGlzdEZyb21QYXRoTXV0YXRpb25zPWZ1bmN0aW9uKGEpe2lmKHRoaXMuX3BhdGhFbGVtZW50KXt2YXIgYj0hMTthLmZvckVhY2goZnVuY3Rpb24oYSl7ImQiPT1hLmF0dHJpYnV0ZU5hbWUmJihiPSEwKX0pLGImJih0aGlzLl9saXN0PXRoaXMuX3BhcnNlUGF0aCh0aGlzLl9wYXRoRWxlbWVudC5nZXRBdHRyaWJ1dGUoImQiKSkpfX0sU1ZHUGF0aFNlZ0xpc3QucHJvdG90eXBlLl93cml0ZUxpc3RUb1BhdGg9ZnVuY3Rpb24oKXt0aGlzLl9wYXRoRWxlbWVudE11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpLHRoaXMuX3BhdGhFbGVtZW50LnNldEF0dHJpYnV0ZSgiZCIsU1ZHUGF0aFNlZ0xpc3QuX3BhdGhTZWdBcnJheUFzU3RyaW5nKHRoaXMuX2xpc3QpKSx0aGlzLl9wYXRoRWxlbWVudE11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLl9wYXRoRWxlbWVudCx0aGlzLl9tdXRhdGlvbk9ic2VydmVyQ29uZmlnKX0sU1ZHUGF0aFNlZ0xpc3QucHJvdG90eXBlLnNlZ21lbnRDaGFuZ2VkPWZ1bmN0aW9uKGEpe3RoaXMuX3dyaXRlTGlzdFRvUGF0aCgpfSxTVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9jaGVja1BhdGhTeW5jaHJvbml6ZWRUb0xpc3QoKSx0aGlzLl9saXN0LmZvckVhY2goZnVuY3Rpb24oYSl7YS5fb3duaW5nUGF0aFNlZ0xpc3Q9bnVsbH0pLHRoaXMuX2xpc3Q9W10sdGhpcy5fd3JpdGVMaXN0VG9QYXRoKCl9LFNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9jaGVja1BhdGhTeW5jaHJvbml6ZWRUb0xpc3QoKSx0aGlzLl9saXN0PVthXSxhLl9vd25pbmdQYXRoU2VnTGlzdD10aGlzLHRoaXMuX3dyaXRlTGlzdFRvUGF0aCgpLGF9LFNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5fY2hlY2tWYWxpZEluZGV4PWZ1bmN0aW9uKGEpe2lmKGlzTmFOKGEpfHwwPmF8fGE+PXRoaXMubnVtYmVyT2ZJdGVtcyl0aHJvdyJJTkRFWF9TSVpFX0VSUiJ9LFNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9jaGVja1BhdGhTeW5jaHJvbml6ZWRUb0xpc3QoKSx0aGlzLl9jaGVja1ZhbGlkSW5kZXgoYSksdGhpcy5fbGlzdFthXX0sU1ZHUGF0aFNlZ0xpc3QucHJvdG90eXBlLmluc2VydEl0ZW1CZWZvcmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fY2hlY2tQYXRoU3luY2hyb25pemVkVG9MaXN0KCksYj50aGlzLm51bWJlck9mSXRlbXMmJihiPXRoaXMubnVtYmVyT2ZJdGVtcyksYS5fb3duaW5nUGF0aFNlZ0xpc3QmJihhPWEuY2xvbmUoKSksdGhpcy5fbGlzdC5zcGxpY2UoYiwwLGEpLGEuX293bmluZ1BhdGhTZWdMaXN0PXRoaXMsdGhpcy5fd3JpdGVMaXN0VG9QYXRoKCksYX0sU1ZHUGF0aFNlZ0xpc3QucHJvdG90eXBlLnJlcGxhY2VJdGVtPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX2NoZWNrUGF0aFN5bmNocm9uaXplZFRvTGlzdCgpLGEuX293bmluZ1BhdGhTZWdMaXN0JiYoYT1hLmNsb25lKCkpLHRoaXMuX2NoZWNrVmFsaWRJbmRleChiKSx0aGlzLl9saXN0W2JdPWEsYS5fb3duaW5nUGF0aFNlZ0xpc3Q9dGhpcyx0aGlzLl93cml0ZUxpc3RUb1BhdGgoKSxhfSxTVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUucmVtb3ZlSXRlbT1mdW5jdGlvbihhKXt0aGlzLl9jaGVja1BhdGhTeW5jaHJvbml6ZWRUb0xpc3QoKSx0aGlzLl9jaGVja1ZhbGlkSW5kZXgoYSk7dmFyIGI9dGhpcy5fbGlzdFthXTtyZXR1cm4gdGhpcy5fbGlzdC5zcGxpY2UoYSwxKSx0aGlzLl93cml0ZUxpc3RUb1BhdGgoKSxifSxTVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUuYXBwZW5kSXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fY2hlY2tQYXRoU3luY2hyb25pemVkVG9MaXN0KCksYS5fb3duaW5nUGF0aFNlZ0xpc3QmJihhPWEuY2xvbmUoKSksdGhpcy5fbGlzdC5wdXNoKGEpLGEuX293bmluZ1BhdGhTZWdMaXN0PXRoaXMsdGhpcy5fd3JpdGVMaXN0VG9QYXRoKCksYX0sU1ZHUGF0aFNlZ0xpc3QuX3BhdGhTZWdBcnJheUFzU3RyaW5nPWZ1bmN0aW9uKGEpe3ZhciBiPSIiLGM9ITA7cmV0dXJuIGEuZm9yRWFjaChmdW5jdGlvbihhKXtjPyhjPSExLGIrPWEuX2FzUGF0aFN0cmluZygpKTpiKz0iICIrYS5fYXNQYXRoU3RyaW5nKCl9KSxifSxTVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUuX3BhcnNlUGF0aD1mdW5jdGlvbihhKXtpZighYXx8MD09YS5sZW5ndGgpcmV0dXJuW107dmFyIGI9dGhpcyxjPWZ1bmN0aW9uKCl7dGhpcy5wYXRoU2VnTGlzdD1bXX07Yy5wcm90b3R5cGUuYXBwZW5kU2VnbWVudD1mdW5jdGlvbihhKXt0aGlzLnBhdGhTZWdMaXN0LnB1c2goYSl9O3ZhciBkPWZ1bmN0aW9uKGEpe3RoaXMuX3N0cmluZz1hLHRoaXMuX2N1cnJlbnRJbmRleD0wLHRoaXMuX2VuZEluZGV4PXRoaXMuX3N0cmluZy5sZW5ndGgsdGhpcy5fcHJldmlvdXNDb21tYW5kPVNWR1BhdGhTZWcuUEFUSFNFR19VTktOT1dOLHRoaXMuX3NraXBPcHRpb25hbFNwYWNlcygpfTtkLnByb3RvdHlwZS5faXNDdXJyZW50U3BhY2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XTtyZXR1cm4iICI+PWEmJigiICI9PWF8fCJcbiI9PWF8fCIJIj09YXx8IlxyIj09YXx8IlxmIj09YSl9LGQucHJvdG90eXBlLl9za2lwT3B0aW9uYWxTcGFjZXM9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleCYmdGhpcy5faXNDdXJyZW50U3BhY2UoKTspdGhpcy5fY3VycmVudEluZGV4Kys7cmV0dXJuIHRoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleH0sZC5wcm90b3R5cGUuX3NraXBPcHRpb25hbFNwYWNlc09yRGVsaW1pdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleCYmIXRoaXMuX2lzQ3VycmVudFNwYWNlKCkmJiIsIiE9dGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpPyExOih0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXMoKSYmdGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4JiYiLCI9PXRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSYmKHRoaXMuX2N1cnJlbnRJbmRleCsrLHRoaXMuX3NraXBPcHRpb25hbFNwYWNlcygpKSx0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXgpfSxkLnByb3RvdHlwZS5oYXNNb3JlRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXh9LGQucHJvdG90eXBlLnBlZWtTZWdtZW50VHlwZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdO3JldHVybiB0aGlzLl9wYXRoU2VnVHlwZUZyb21DaGFyKGEpfSxkLnByb3RvdHlwZS5fcGF0aFNlZ1R5cGVGcm9tQ2hhcj1mdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSJaIjpjYXNlInoiOnJldHVybiBTVkdQYXRoU2VnLlBBVEhTRUdfQ0xPU0VQQVRIO2Nhc2UiTSI6cmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fQUJTO2Nhc2UibSI6cmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fUkVMO2Nhc2UiTCI6cmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fQUJTO2Nhc2UibCI6cmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fUkVMO2Nhc2UiQyI6cmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX0FCUztjYXNlImMiOnJldHVybiBTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19SRUw7Y2FzZSJRIjpyZXR1cm4gU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX0FCUztjYXNlInEiOnJldHVybiBTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfUkVMO2Nhc2UiQSI6cmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19BUkNfQUJTO2Nhc2UiYSI6cmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19BUkNfUkVMO2Nhc2UiSCI6cmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fSE9SSVpPTlRBTF9BQlM7Y2FzZSJoIjpyZXR1cm4gU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19IT1JJWk9OVEFMX1JFTDtjYXNlIlYiOnJldHVybiBTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1ZFUlRJQ0FMX0FCUztjYXNlInYiOnJldHVybiBTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1ZFUlRJQ0FMX1JFTDtjYXNlIlMiOnJldHVybiBTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19TTU9PVEhfQUJTO2Nhc2UicyI6cmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9SRUw7Y2FzZSJUIjpyZXR1cm4gU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1NNT09USF9BQlM7Y2FzZSJ0IjpyZXR1cm4gU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1NNT09USF9SRUw7ZGVmYXVsdDpyZXR1cm4gU1ZHUGF0aFNlZy5QQVRIU0VHX1VOS05PV059fSxkLnByb3RvdHlwZS5fbmV4dENvbW1hbmRIZWxwZXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4oIisiPT1hfHwiLSI9PWF8fCIuIj09YXx8YT49IjAiJiYiOSI+PWEpJiZiIT1TVkdQYXRoU2VnLlBBVEhTRUdfQ0xPU0VQQVRIP2I9PVNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fQUJTP1NWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fQUJTOmI9PVNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fUkVMP1NWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fUkVMOmI6U1ZHUGF0aFNlZy5QQVRIU0VHX1VOS05PV059LGQucHJvdG90eXBlLmluaXRpYWxDb21tYW5kSXNNb3ZlVG89ZnVuY3Rpb24oKXtpZighdGhpcy5oYXNNb3JlRGF0YSgpKXJldHVybiEwO3ZhciBhPXRoaXMucGVla1NlZ21lbnRUeXBlKCk7cmV0dXJuIGE9PVNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fQUJTfHxhPT1TVkdQYXRoU2VnLlBBVEhTRUdfTU9WRVRPX1JFTH0sZC5wcm90b3R5cGUuX3BhcnNlTnVtYmVyPWZ1bmN0aW9uKCl7dmFyIGE9MCxiPTAsYz0xLGQ9MCxlPTEsZj0xLGc9dGhpcy5fY3VycmVudEluZGV4O2lmKHRoaXMuX3NraXBPcHRpb25hbFNwYWNlcygpLHRoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleCYmIisiPT10aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCk/dGhpcy5fY3VycmVudEluZGV4Kys6dGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4JiYiLSI9PXRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSYmKHRoaXMuX2N1cnJlbnRJbmRleCsrLGU9LTEpLCEodGhpcy5fY3VycmVudEluZGV4PT10aGlzLl9lbmRJbmRleHx8KHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KTwiMCJ8fHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KT4iOSIpJiYiLiIhPXRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSkpe2Zvcih2YXIgaD10aGlzLl9jdXJyZW50SW5kZXg7dGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4JiZ0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCk+PSIwIiYmdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpPD0iOSI7KXRoaXMuX2N1cnJlbnRJbmRleCsrO2lmKHRoaXMuX2N1cnJlbnRJbmRleCE9aClmb3IodmFyIGk9dGhpcy5fY3VycmVudEluZGV4LTEsaj0xO2k+PWg7KWIrPWoqKHRoaXMuX3N0cmluZy5jaGFyQXQoaS0tKS0iMCIpLGoqPTEwO2lmKHRoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleCYmIi4iPT10aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkpe2lmKHRoaXMuX2N1cnJlbnRJbmRleCsrLHRoaXMuX2N1cnJlbnRJbmRleD49dGhpcy5fZW5kSW5kZXh8fHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KTwiMCJ8fHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KT4iOSIpcmV0dXJuO2Zvcig7dGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4JiZ0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCk+PSIwIiYmdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpPD0iOSI7KWQrPSh0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCsrKS0iMCIpKihjKj0uMSl9aWYodGhpcy5fY3VycmVudEluZGV4IT1nJiZ0aGlzLl9jdXJyZW50SW5kZXgrMTx0aGlzLl9lbmRJbmRleCYmKCJlIj09dGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpfHwiRSI9PXRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSkmJiJ4IiE9dGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgrMSkmJiJtIiE9dGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgrMSkpe2lmKHRoaXMuX2N1cnJlbnRJbmRleCsrLCIrIj09dGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpP3RoaXMuX2N1cnJlbnRJbmRleCsrOiItIj09dGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpJiYodGhpcy5fY3VycmVudEluZGV4KyssZj0tMSksdGhpcy5fY3VycmVudEluZGV4Pj10aGlzLl9lbmRJbmRleHx8dGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpPCIwInx8dGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpPiI5IilyZXR1cm47Zm9yKDt0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXgmJnRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KT49IjAiJiZ0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCk8PSI5IjspYSo9MTAsYSs9dGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpLSIwIix0aGlzLl9jdXJyZW50SW5kZXgrK312YXIgaz1iK2Q7aWYoayo9ZSxhJiYoayo9TWF0aC5wb3coMTAsZiphKSksZyE9dGhpcy5fY3VycmVudEluZGV4KXJldHVybiB0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXNPckRlbGltaXRlcigpLGt9fSxkLnByb3RvdHlwZS5fcGFyc2VBcmNGbGFnPWZ1bmN0aW9uKCl7aWYoISh0aGlzLl9jdXJyZW50SW5kZXg+PXRoaXMuX2VuZEluZGV4KSl7dmFyIGE9ITEsYj10aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCsrKTtpZigiMCI9PWIpYT0hMTtlbHNle2lmKCIxIiE9YilyZXR1cm47YT0hMH1yZXR1cm4gdGhpcy5fc2tpcE9wdGlvbmFsU3BhY2VzT3JEZWxpbWl0ZXIoKSxhfX0sZC5wcm90b3R5cGUucGFyc2VTZWdtZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0sYz10aGlzLl9wYXRoU2VnVHlwZUZyb21DaGFyKGEpO2lmKGM9PVNWR1BhdGhTZWcuUEFUSFNFR19VTktOT1dOKXtpZih0aGlzLl9wcmV2aW91c0NvbW1hbmQ9PVNWR1BhdGhTZWcuUEFUSFNFR19VTktOT1dOKXJldHVybiBudWxsO2lmKGM9dGhpcy5fbmV4dENvbW1hbmRIZWxwZXIoYSx0aGlzLl9wcmV2aW91c0NvbW1hbmQpLGM9PVNWR1BhdGhTZWcuUEFUSFNFR19VTktOT1dOKXJldHVybiBudWxsfWVsc2UgdGhpcy5fY3VycmVudEluZGV4Kys7c3dpdGNoKHRoaXMuX3ByZXZpb3VzQ29tbWFuZD1jLGMpe2Nhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX01PVkVUT19SRUw6cmV0dXJuIG5ldyBTVkdQYXRoU2VnTW92ZXRvUmVsKGIsdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZU51bWJlcigpKTtjYXNlIFNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fQUJTOnJldHVybiBuZXcgU1ZHUGF0aFNlZ01vdmV0b0FicyhiLHRoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VOdW1iZXIoKSk7Y2FzZSBTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1JFTDpyZXR1cm4gbmV3IFNWR1BhdGhTZWdMaW5ldG9SZWwoYix0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlTnVtYmVyKCkpO2Nhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19BQlM6cmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvQWJzKGIsdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZU51bWJlcigpKTtjYXNlIFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fSE9SSVpPTlRBTF9SRUw6cmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbFJlbChiLHRoaXMuX3BhcnNlTnVtYmVyKCkpO2Nhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19IT1JJWk9OVEFMX0FCUzpyZXR1cm4gbmV3IFNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzKGIsdGhpcy5fcGFyc2VOdW1iZXIoKSk7Y2FzZSBTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1ZFUlRJQ0FMX1JFTDpyZXR1cm4gbmV3IFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbChiLHRoaXMuX3BhcnNlTnVtYmVyKCkpO2Nhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19WRVJUSUNBTF9BQlM6cmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnMoYix0aGlzLl9wYXJzZU51bWJlcigpKTtjYXNlIFNWR1BhdGhTZWcuUEFUSFNFR19DTE9TRVBBVEg6cmV0dXJuIHRoaXMuX3NraXBPcHRpb25hbFNwYWNlcygpLG5ldyBTVkdQYXRoU2VnQ2xvc2VQYXRoKGIpO2Nhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fQ1VCSUNfUkVMOnZhciBkPXt4MTp0aGlzLl9wYXJzZU51bWJlcigpLHkxOnRoaXMuX3BhcnNlTnVtYmVyKCkseDI6dGhpcy5fcGFyc2VOdW1iZXIoKSx5Mjp0aGlzLl9wYXJzZU51bWJlcigpLHg6dGhpcy5fcGFyc2VOdW1iZXIoKSx5OnRoaXMuX3BhcnNlTnVtYmVyKCl9O3JldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbChiLGQueCxkLnksZC54MSxkLnkxLGQueDIsZC55Mik7Y2FzZSBTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19BQlM6dmFyIGQ9e3gxOnRoaXMuX3BhcnNlTnVtYmVyKCkseTE6dGhpcy5fcGFyc2VOdW1iZXIoKSx4Mjp0aGlzLl9wYXJzZU51bWJlcigpLHkyOnRoaXMuX3BhcnNlTnVtYmVyKCkseDp0aGlzLl9wYXJzZU51bWJlcigpLHk6dGhpcy5fcGFyc2VOdW1iZXIoKX07cmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzKGIsZC54LGQueSxkLngxLGQueTEsZC54MixkLnkyKTtjYXNlIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9SRUw6dmFyIGQ9e3gyOnRoaXMuX3BhcnNlTnVtYmVyKCkseTI6dGhpcy5fcGFyc2VOdW1iZXIoKSx4OnRoaXMuX3BhcnNlTnVtYmVyKCkseTp0aGlzLl9wYXJzZU51bWJlcigpfTtyZXR1cm4gbmV3IFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWwoYixkLngsZC55LGQueDIsZC55Mik7Y2FzZSBTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19TTU9PVEhfQUJTOnZhciBkPXt4Mjp0aGlzLl9wYXJzZU51bWJlcigpLHkyOnRoaXMuX3BhcnNlTnVtYmVyKCkseDp0aGlzLl9wYXJzZU51bWJlcigpLHk6dGhpcy5fcGFyc2VOdW1iZXIoKX07cmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzKGIsZC54LGQueSxkLngyLGQueTIpO2Nhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1JFTDp2YXIgZD17eDE6dGhpcy5fcGFyc2VOdW1iZXIoKSx5MTp0aGlzLl9wYXJzZU51bWJlcigpLHg6dGhpcy5fcGFyc2VOdW1iZXIoKSx5OnRoaXMuX3BhcnNlTnVtYmVyKCl9O3JldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWwoYixkLngsZC55LGQueDEsZC55MSk7Y2FzZSBTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfQUJTOnZhciBkPXt4MTp0aGlzLl9wYXJzZU51bWJlcigpLHkxOnRoaXMuX3BhcnNlTnVtYmVyKCkseDp0aGlzLl9wYXJzZU51bWJlcigpLHk6dGhpcy5fcGFyc2VOdW1iZXIoKX07cmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0FicyhiLGQueCxkLnksZC54MSxkLnkxKTtjYXNlIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19TTU9PVEhfUkVMOnJldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwoYix0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlTnVtYmVyKCkpO2Nhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1NNT09USF9BQlM6cmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicyhiLHRoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VOdW1iZXIoKSk7Y2FzZSBTVkdQYXRoU2VnLlBBVEhTRUdfQVJDX1JFTDp2YXIgZD17eDE6dGhpcy5fcGFyc2VOdW1iZXIoKSx5MTp0aGlzLl9wYXJzZU51bWJlcigpLGFyY0FuZ2xlOnRoaXMuX3BhcnNlTnVtYmVyKCksYXJjTGFyZ2U6dGhpcy5fcGFyc2VBcmNGbGFnKCksYXJjU3dlZXA6dGhpcy5fcGFyc2VBcmNGbGFnKCkseDp0aGlzLl9wYXJzZU51bWJlcigpLHk6dGhpcy5fcGFyc2VOdW1iZXIoKX07cmV0dXJuIG5ldyBTVkdQYXRoU2VnQXJjUmVsKGIsZC54LGQueSxkLngxLGQueTEsZC5hcmNBbmdsZSxkLmFyY0xhcmdlLGQuYXJjU3dlZXApO2Nhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0FSQ19BQlM6dmFyIGQ9e3gxOnRoaXMuX3BhcnNlTnVtYmVyKCkseTE6dGhpcy5fcGFyc2VOdW1iZXIoKSxhcmNBbmdsZTp0aGlzLl9wYXJzZU51bWJlcigpLGFyY0xhcmdlOnRoaXMuX3BhcnNlQXJjRmxhZygpLGFyY1N3ZWVwOnRoaXMuX3BhcnNlQXJjRmxhZygpLHg6dGhpcy5fcGFyc2VOdW1iZXIoKSx5OnRoaXMuX3BhcnNlTnVtYmVyKCl9O3JldHVybiBuZXcgU1ZHUGF0aFNlZ0FyY0FicyhiLGQueCxkLnksZC54MSxkLnkxLGQuYXJjQW5nbGUsZC5hcmNMYXJnZSxkLmFyY1N3ZWVwKTtkZWZhdWx0OnRocm93IlVua25vd24gcGF0aCBzZWcgdHlwZS4ifX07dmFyIGU9bmV3IGMsZj1uZXcgZChhKTtpZighZi5pbml0aWFsQ29tbWFuZElzTW92ZVRvKCkpcmV0dXJuW107Zm9yKDtmLmhhc01vcmVEYXRhKCk7KXt2YXIgZz1mLnBhcnNlU2VnbWVudCgpO2lmKCFnKXJldHVybltdO2UuYXBwZW5kU2VnbWVudChnKX1yZXR1cm4gZS5wYXRoU2VnTGlzdH0pfSgpLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJjMyIsWyJkMyJdLGZ1bmN0aW9uKCl7cmV0dXJuIGt9KToidW5kZWZpbmVkIiE9dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWs6YS5jMz1rfSh3aW5kb3cpOw=="></script>
<script src="data:application/x-javascript;base64,SFRNTFdpZGdldHMud2lkZ2V0KHsNCg0KICBuYW1lOiAnYzMnLA0KDQogIHR5cGU6ICdvdXRwdXQnLA0KDQogIGZhY3Rvcnk6IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7DQoNCiAgICAvLyBUT0RPOiBkZWZpbmUgc2hhcmVkIHZhcmlhYmxlcyBmb3IgdGhpcyBpbnN0YW5jZQ0KICAgIHZhciBjaGFydDsNCg0KICAgIC8vIG5lZWR0byBpZCB3aGVuIHRhYiAvIHBsb3QgYmVjb21lcyB2aXNpYmxlDQogICAgLy8kKCcjJyArIGVsLmlkKS5vbignb25ibHVyJywgZnVuY3Rpb24oKXsNCiAgICAvLyAgICAgICAgalF1ZXJ5KHdpbmRvdykudHJpZ2dlcigncmVzaXplJyk7DQogICAgLy8gfSkNCg0KICAgIHJldHVybiB7DQoNCiAgICAgIHJlbmRlclZhbHVlOiBmdW5jdGlvbih4KSB7DQoNCiAgICAgICAgICBlbC5pbm5lclRleHQgPSB4Lm1lc3NhZ2U7DQoNCiAgICAgICAgICB4LmJpbmR0byA9ICcjJyArIGVsLmlkOw0KDQogICAgICAgICAgLy8gd2hlbiB0YWIgaGlkZGVuIGVsLmdldC4uLiByZXR1cm5zIDANCiAgICAgICAgICB2YXIgdyA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoOw0KICAgICAgICAgIHZhciBoID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0Ow0KDQogICAgICAgICAgY29uc29sZS5sb2coaCArICcgLSBoIC0gaW5pdGlhbCBzaXplJykNCiAgICAgICAgICBjb25zb2xlLmxvZyh3ICsgJyAtIHcgLSBpbml0aWFsIHNpemUnKQ0KICAgICAgICAgIC8veC50cmFuc2l0aW9uID0gew0KICAgICAgICAgIC8vICBkdXJhdGlvbjogMTUwMA0KICAgICAgICAgIC8vfQ0KICAgICAgICAgIC8veC5vbnJlc2l6ZSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgIC8vICB0aGlzLnNlbGVjdENoYXJ0LnN0eWxlKCdtYXgtaGVpZ2h0JywgaCArICJweCIpOw0KICAgICAgICAgIC8vfQ0KICAgICAgICAgIC8vIHNldCBzaXplIGlmIG1pc3NpbmcNCiAgICAgICAgICBpZiAoeC5zaXplID09PSBudWxsKSB7DQogICAgICAgICAgICAgIHguc2l6ZSA9IHsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IGgsDQogICAgICAgICAgICAgICAgd2lkdGg6IHcNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgIGNvbnNvbGUubG9nKCdubyBzaXplIHNldCcpDQogICAgICAgICAgfQ0KDQogICAgICAgICAgLy8gdGhpcyB3b3JrcyBiZWNhdXNlIHguZGF0YSBhbHdheXMgZXhpc3RzDQogICAgICAgICAgaWYgKHguZGF0YS5ncm91cHMpIHsNCiAgICAgICAgICAgIGlmICh4LmRhdGEudHlwZXMpIHsNCiAgICAgICAgICAgICAgeC5kYXRhLmdyb3VwcyA9IFt4LmRhdGEuZ3JvdXBzXQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHguZGF0YS5ncm91cHMgPSBbeC5kYXRhLmdyb3Vwcy52YWx1ZV0NCiAgICAgICAgICAgIC8vY29uc29sZS5sb2coeC5kYXRhLmdyb3Vwcyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAvLyBHcmlkIExpbmVzDQogICAgICAgICAgdmFyIGdyaWRMaW5lc1ggPSAoKCh4IHx8IHt9KS5ncmlkIHx8IHt9KS54IHx8IHt9KS5saW5lcywNCiAgICAgICAgICAgICAgZ3JpZExpbmVzWSA9ICgoKHggfHwge30pLmdyaWQgfHwge30pLnkgfHwge30pLmxpbmVzOw0KICAgICAgICAgIGlmIChncmlkTGluZXNYKSB7DQogICAgICAgICAgICAvL3guZ3JpZC54LmxpbmVzID0gW3guZ3JpZC54LmxpbmVzXQ0KICAgICAgICAgICAgeC5ncmlkLngubGluZXMgPSBIVE1MV2lkZ2V0cy5kYXRhZnJhbWVUb0QzKHguZ3JpZC54LmxpbmVzKQ0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAoZ3JpZExpbmVzWSkgew0KICAgICAgICAgICAgeC5ncmlkLnkubGluZXMgPSBIVE1MV2lkZ2V0cy5kYXRhZnJhbWVUb0QzKHguZ3JpZC55LmxpbmVzKQ0KICAgICAgICAgIH0NCg0KICAgICAgICAgIC8vIFJlZ2lvbnMNCiAgICAgICAgICBpZiAoeC5yZWdpb25zKSB7DQogICAgICAgICAgICB4LnJlZ2lvbnMgPSBIVE1MV2lkZ2V0cy5kYXRhZnJhbWVUb0QzKHgucmVnaW9ucykNCiAgICAgICAgICB9DQoNCiAgICAgICAgICAvLyBEZWZpbmUgdGhlIGNoYXJ0DQogICAgICAgICAgY2hhcnQgPSBjMy5nZW5lcmF0ZSgNCiAgICAgICAgICAgICAgeA0KICAgICAgICAgICk7DQoNCiAgICAgICAgICAvL3NldFRpbWVvdXQoY2hhcnQuZmx1c2gsIDMwMCkNCg0KDQogICAgICAgICAgLy8gc2V0IGNvbG91cnMgdXNpbmcgY29sdW1uIGhlYWRlcnMNCiAgICAgICAgICAvL2NoYXJ0LmRhdGEuY29sb3JzKHsNCiAgICAgICAgICAvLyAgYTogJyNGRkZGRkYnLA0KICAgICAgICAgIC8vICBiOiAnIzAwMDAwMCcNCiAgICAgICAgICAvL30pOw0KDQogICAgICB9LA0KDQogICAgICByZXNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHsNCg0KICAgICAgICAvL3NldFRpbWVvdXQoY2hhcnQuZmx1c2gsIDYwMCkNCg0KICAgICAgICB2YXIgdyA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoOw0KICAgICAgICB2YXIgaCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDsNCg0KICAgICAgICAvLyBjb2RlIHRvIHJlLXJlbmRlciB0aGUgd2lkZ2V0IHdpdGggYSBuZXcgc2l6ZQ0KICAgICAgICBjaGFydC5yZXNpemUoew0KICAgICAgICAgIGhlaWdodDogaCwNCiAgICAgICAgICB3aWR0aDogdw0KICAgICAgICB9KQ0KDQogICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjYwMDM1OTEvYzMtY2hhcnQtc2l6aW5nLWlzLXRvby1iaWctd2hlbi1pbml0aWFsbHktbG9hZGVkDQogICAgICAgIC8valF1ZXJ5KCcjJyArIGVsLmlkKS50cmlnZ2VyKCdyZXNpemUnKTsNCg0KICAgICAgICBjb25zb2xlLmxvZyhoKQ0KICAgICAgICAvL2NvbnNvbGUubG9nKGVsKQ0KICAgICAgfQ0KDQogICAgfTsNCg0KICB9DQp9KTsNCg=="></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">c3</h1>



<p><a href="https://zenodo.org/badge/latestdoi/60614778"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgICAgd2lkdGg9IjE4NiIgaGVpZ2h0PSIyMCI+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJiIiB4Mj0iMCIgeTI9IjEwMCUiPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNiYmIiIHN0b3Atb3BhY2l0eT0iLjEiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLW9wYWNpdHk9Ii4xIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bWFzayBpZD0iYSIgd2lkdGg9IjE4NiIgaGVpZ2h0PSIyMCI+CiAgICAgICAgICAgIDxyZWN0IHdpZHRoPSIxODYiIGhlaWdodD0iMjAiIHJ4PSIzIgogICAgICAgICAgICBmaWxsPSIjZmZmIi8+CiAgICAgICAgPC9tYXNrPgogICAgICAgIDxnIG1hc2s9InVybCgjYSkiPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjNTU1IiBkPSJNMCAwaDMxdjIwSDB6IiAvPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjMDA3ZWM2IgogICAgICAgICAgICBkPSJNMzEgMGgxNTV2MjBIMzF6IgogICAgICAgICAgICAvPgogICAgICAgICAgICA8cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMCAwaDE4NnYyMEgweiIgLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgZmlsbD0iI2ZmZiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkRlamFWdSBTYW5zLAogICAgICAgIFZlcmRhbmEsR2VuZXZhLHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiPgogICAgICAgICAgICA8dGV4dCB4PSIxNiIgeT0iMTUiIGZpbGw9IiMwMTAxMDEiCiAgICAgICAgICAgIGZpbGwtb3BhY2l0eT0iLjMiPgogICAgICAgICAgICAgICAgRE9JCiAgICAgICAgICAgIDwvdGV4dD4KICAgICAgICAgICAgPHRleHQgeD0iMTYiIHk9IjE0Ij4KICAgICAgICAgICAgICAgIERPSQogICAgICAgICAgICA8L3RleHQ+CiAgICAgICAgICAgIDx0ZXh0IHg9IjEwOCIKICAgICAgICAgICAgeT0iMTUiIGZpbGw9IiMwMTAxMDEiIGZpbGwtb3BhY2l0eT0iLjMiPgogICAgICAgICAgICAgICAgMTAuNTI4MS96ZW5vZG8uMTIyNjc3NgogICAgICAgICAgICA8L3RleHQ+CiAgICAgICAgICAgIDx0ZXh0IHg9IjEwOCIgeT0iMTQiPgogICAgICAgICAgICAgICAgMTAuNTI4MS96ZW5vZG8uMTIyNjc3NgogICAgICAgICAgICA8L3RleHQ+CiAgICAgICAgPC9nPgogICAgPC9zdmc+" alt="DOI" /></a> <a href="https://travis-ci.org/mrjoh3/c3"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NiIgaGVpZ2h0PSIyMCI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4Mj0iMCIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2JiYiIgc3RvcC1vcGFjaXR5PSIuMSIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1vcGFjaXR5PSIuMSIvPjwvbGluZWFyR3JhZGllbnQ+PHJlY3Qgcng9IjMiIHdpZHRoPSI3NiIgaGVpZ2h0PSIyMCIgZmlsbD0iIzU1NSIvPjxyZWN0IHJ4PSIzIiB4PSIzNyIgd2lkdGg9IjM5IiBoZWlnaHQ9IjIwIiBmaWxsPSIjOWY5ZjlmIi8+PHBhdGggZmlsbD0iIzlmOWY5ZiIgZD0iTTM3IDBoNHYyMGgtNHoiLz48cmVjdCByeD0iMyIgd2lkdGg9Ijc2IiBoZWlnaHQ9IjIwIiBmaWxsPSJ1cmwoI2EpIi8+PGcgZmlsbD0iI2ZmZiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkRlamFWdSBTYW5zLFZlcmRhbmEsR2VuZXZhLHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiPjx0ZXh0IHg9IjE5LjUiIHk9IjE1IiBmaWxsPSIjMDEwMTAxIiBmaWxsLW9wYWNpdHk9Ii4zIj5idWlsZDwvdGV4dD48dGV4dCB4PSIxOS41IiB5PSIxNCI+YnVpbGQ8L3RleHQ+PHRleHQgeD0iNTUuNSIgeT0iMTUiIGZpbGw9IiMwMTAxMDEiIGZpbGwtb3BhY2l0eT0iLjMiPmVycm9yPC90ZXh0Pjx0ZXh0IHg9IjU1LjUiIHk9IjE0Ij5lcnJvcjwvdGV4dD48L2c+PC9zdmc+" alt="Build Status" /></a> <a href="https://codecov.io/gh/mrjoh3/c3"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NiIgaGVpZ2h0PSIyMCI+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImIiIHgyPSIwIiB5Mj0iMTAwJSI+CiAgICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjYmJiIiBzdG9wLW9wYWNpdHk9Ii4xIiAvPgogICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1vcGFjaXR5PSIuMSIgLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bWFzayBpZD0iYSI+CiAgICAgICAgPHJlY3Qgd2lkdGg9Ijk2IiBoZWlnaHQ9IjIwIiByeD0iMyIgZmlsbD0iI2ZmZiIgLz4KICAgIDwvbWFzaz4KICAgIDxnIG1hc2s9InVybCgjYSkiPgogICAgICAgIDxwYXRoIGZpbGw9IiM1NTUiIGQ9Ik0wIDBoNjB2MjBIMHoiIC8+CiAgICAgICAgPHBhdGggZmlsbD0iIzliYzQwNSIgZD0iTTYwIDBoMzZ2MjBINjB6IiAvPgogICAgICAgIDxwYXRoIGZpbGw9InVybCgjYikiIGQ9Ik0wIDBoOTZ2MjBIMHoiIC8+CiAgICA8L2c+CiAgICA8ZyBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iRGVqYVZ1IFNhbnMsVmVyZGFuYSxHZW5ldmEsc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSI+CiAgICAgICAgPHRleHQgeD0iMzAiIHk9IjE1IiBmaWxsPSIjMDEwMTAxIiBmaWxsLW9wYWNpdHk9Ii4zIj5jb2RlY292PC90ZXh0PgogICAgICAgIDx0ZXh0IHg9IjMwIiB5PSIxNCI+Y29kZWNvdjwvdGV4dD4KICAgICAgICA8dGV4dCB4PSI3NyIgeT0iMTUiIGZpbGw9IiMwMTAxMDEiIGZpbGwtb3BhY2l0eT0iLjMiPjkzJTwvdGV4dD4KICAgICAgICA8dGV4dCB4PSI3NyIgeT0iMTQiPjkzJTwvdGV4dD4KICAgIDwvZz4KPC9zdmc+" alt="codecov" /></a></p>
<p>The <code>C3</code> package is a wrapper, or <a href="http://www.htmlwidgets.org/">htmlwidget</a>, for the <a href="http://c3js.org/">C3</a> javascript charting library by <a href="https://github.com/masayuki0812">Masayuki Tanaka</a>. You will find this package useful if you are wanting create a chart using <a href="https://www.r-project.org/">R</a> for embedding in a Rmarkdown document or Shiny App.</p>
<p>The <code>C3</code> library is very versatile and includes a lot of options. Currently this package wraps most of the <code>C3</code> <a href="http://c3js.org/reference.html">options object</a>. Even with this current limitation a wide range of options are available.</p>
<div id="warning" class="section level2">
<h2>Warning</h2>
<p>This package is under active development and will definitely change. All attempts will be made to maintain the functionality and methods demonstrated in this document. Documentation is currently a work in progress.</p>
<p>Any suggestions, advice or requests are welcome. For any bugs (there will be bugs) please submit an <a href="https://github.com/mrjoh3/c3/issues">issue</a>.</p>
</div>
<div id="installation" class="section level2">
<h2>Installation</h2>
<p>You probably already guessed this bit.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;mrjoh3/c3&quot;</span>)</code></pre></div>
</div>
<div id="usage" class="section level2">
<h2>Usage</h2>
<p>Please note that this package is under active development and may change at any time. The plots that currently work are line (and varieties), bar and scatter plots. Where possible the package tries to emulate the <a href="https://books.google.com.au/books?id=ZiwLCAAAQBAJ&amp;lpg=PR3&amp;dq=inauthor%3A%22Leland%20Wilkinson%22&amp;pg=PR3#v=onepage&amp;q&amp;f=false">Grammer of Graphics</a> used in Hadley Wickhams <a href="http://ggplot2.org/">ggplot2</a>.</p>
<p>The <code>c3</code> package is intended to be as simple and lightweight as possible. As a starting point the data input must be a <code>data.frame</code> with several options.</p>
<ul>
<li>If a <code>data.frame</code> without any options is passed all of the numeric columns will be plotted. This can be used in line and bar plots. Each column is a line or bar.</li>
<li>For more complex plots only 3 columns are used, those defined as <code>x</code>, <code>y</code> and <code>group</code>. This requires a <code>data.frame</code> with a vertical structure.</li>
</ul>
<div id="the-basics" class="section level3">
<h3>The Basics</h3>
<p>Where no options are supplied a simple line plot is produced by default. Where no x-axis is defined the plots are sequential. <code>Date</code> x-axis can be parsed with not additional setting if in the format <code>%Y-%m-%d</code> (ie 2014-01-01)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(c3)

data =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="kw">abs</span>(<span class="kw">rnorm</span>(<span class="dv">20</span>) <span class="op">*</span><span class="st"> </span><span class="dv">10</span>),
                  <span class="dt">b =</span> <span class="kw">abs</span>(<span class="kw">rnorm</span>(<span class="dv">20</span>) <span class="op">*</span><span class="st"> </span><span class="dv">10</span>),
                  <span class="dt">date =</span> <span class="kw">seq</span>(<span class="kw">as.Date</span>(<span class="st">&quot;2014-01-01&quot;</span>), <span class="dt">by =</span> <span class="st">&quot;month&quot;</span>, <span class="dt">length.out =</span> <span class="dv">20</span>))

<span class="kw">c3</span>(data)</code></pre></div>
<div id="htmlwidget-cde3f2f09172863d0432" style="width:768px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-cde3f2f09172863d0432">{"x":{"data":{"json":[{"a":3.7164,"b":2.292},{"a":3.8527,"b":1.0523},{"a":2.4671,"b":3.7992},{"a":5.1284,"b":11.9889},{"a":3.0607,"b":4.7869},{"a":11.0881,"b":8.5914},{"a":5.8675,"b":0.2737},{"a":8.6827,"b":8.3318},{"a":23.1499,"b":8.8892},{"a":0.31,"b":16.7642},{"a":18.6598,"b":5.79},{"a":20.8208,"b":13.7088},{"a":9.8552,"b":2.1042},{"a":0.8062,"b":8.5661},{"a":12.4526,"b":3.6416},{"a":5.0444,"b":2.3572},{"a":9.5675,"b":2.2599},{"a":6.7516,"b":1.1861},{"a":8.2616,"b":12.3588},{"a":8.1696,"b":13.2598}],"keys":{"value":["a","b"]}},"opts":{"x":null,"y":null,"types":{"a":"numeric","b":"numeric","date":"Date"}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="piping" class="section level3">
<h3>Piping</h3>
<p>The package also imports the <a href="https://cran.r-project.org/web/packages/magrittr/vignettes/magrittr.html">migrittr</a> piping function (<code>%&gt;%</code>) to simplify syntax.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">c3</span>() </code></pre></div>
<div id="htmlwidget-f5da7145bdc242218bd2" style="width:768px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-f5da7145bdc242218bd2">{"x":{"data":{"json":[{"a":3.7164,"b":2.292},{"a":3.8527,"b":1.0523},{"a":2.4671,"b":3.7992},{"a":5.1284,"b":11.9889},{"a":3.0607,"b":4.7869},{"a":11.0881,"b":8.5914},{"a":5.8675,"b":0.2737},{"a":8.6827,"b":8.3318},{"a":23.1499,"b":8.8892},{"a":0.31,"b":16.7642},{"a":18.6598,"b":5.79},{"a":20.8208,"b":13.7088},{"a":9.8552,"b":2.1042},{"a":0.8062,"b":8.5661},{"a":12.4526,"b":3.6416},{"a":5.0444,"b":2.3572},{"a":9.5675,"b":2.2599},{"a":6.7516,"b":1.1861},{"a":8.2616,"b":12.3588},{"a":8.1696,"b":13.2598}],"keys":{"value":["a","b"]}},"opts":{"x":null,"y":null,"types":{"a":"numeric","b":"numeric","date":"Date"}}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="other-line-plots" class="section level2">
<h2>Other Line Plots</h2>
<p>There are 5 different line plots available:</p>
<ul>
<li>line</li>
<li>spline</li>
<li>step</li>
<li>area</li>
<li>area-step</li>
</ul>
<div id="spline" class="section level4">
<h4>Spline</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3_line</span>(<span class="st">'spline'</span>)</code></pre></div>
<div id="htmlwidget-de3d31ffd735bd6ef9ea" style="width:768px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-de3d31ffd735bd6ef9ea">{"x":{"data":{"json":[{"a":3.7164,"b":2.292},{"a":3.8527,"b":1.0523},{"a":2.4671,"b":3.7992},{"a":5.1284,"b":11.9889},{"a":3.0607,"b":4.7869},{"a":11.0881,"b":8.5914},{"a":5.8675,"b":0.2737},{"a":8.6827,"b":8.3318},{"a":23.1499,"b":8.8892},{"a":0.31,"b":16.7642},{"a":18.6598,"b":5.79},{"a":20.8208,"b":13.7088},{"a":9.8552,"b":2.1042},{"a":0.8062,"b":8.5661},{"a":12.4526,"b":3.6416},{"a":5.0444,"b":2.3572},{"a":9.5675,"b":2.2599},{"a":6.7516,"b":1.1861},{"a":8.2616,"b":12.3588},{"a":8.1696,"b":13.2598}],"keys":{"value":["a","b"]},"type":"spline"},"opts":{"x":null,"y":null,"types":{"a":"numeric","b":"numeric","date":"Date"}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="step" class="section level4">
<h4>Step</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3</span>(<span class="dt">x =</span> <span class="st">'date'</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3_line</span>(<span class="st">'area-step'</span>)</code></pre></div>
<div id="htmlwidget-c4f3bc693a81a9f91981" style="width:768px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-c4f3bc693a81a9f91981">{"x":{"data":{"x":"date","json":[{"date":"2014-01-01","a":3.7164,"b":2.292},{"date":"2014-02-01","a":3.8527,"b":1.0523},{"date":"2014-03-01","a":2.4671,"b":3.7992},{"date":"2014-04-01","a":5.1284,"b":11.9889},{"date":"2014-05-01","a":3.0607,"b":4.7869},{"date":"2014-06-01","a":11.0881,"b":8.5914},{"date":"2014-07-01","a":5.8675,"b":0.2737},{"date":"2014-08-01","a":8.6827,"b":8.3318},{"date":"2014-09-01","a":23.1499,"b":8.8892},{"date":"2014-10-01","a":0.31,"b":16.7642},{"date":"2014-11-01","a":18.6598,"b":5.79},{"date":"2014-12-01","a":20.8208,"b":13.7088},{"date":"2015-01-01","a":9.8552,"b":2.1042},{"date":"2015-02-01","a":0.8062,"b":8.5661},{"date":"2015-03-01","a":12.4526,"b":3.6416},{"date":"2015-04-01","a":5.0444,"b":2.3572},{"date":"2015-05-01","a":9.5675,"b":2.2599},{"date":"2015-06-01","a":6.7516,"b":1.1861},{"date":"2015-07-01","a":8.2616,"b":12.3588},{"date":"2015-08-01","a":8.1696,"b":13.2598}],"keys":{"value":["date","a","b"]},"type":"area-step"},"opts":{"x":"date","y":null,"types":{"a":"numeric","b":"numeric","date":"Date"}},"axis":{"x":{"label":"date","type":"timeseries"}}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="bar-plots" class="section level2">
<h2>Bar Plots</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, ] <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3_bar</span>(<span class="dt">stacked =</span> <span class="ot">TRUE</span>, 
         <span class="dt">rotate =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div id="htmlwidget-35199abd16cf8c55ae70" style="width:768px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-35199abd16cf8c55ae70">{"x":{"data":{"json":[{"a":3.7164,"b":2.292},{"a":3.8527,"b":1.0523},{"a":2.4671,"b":3.7992},{"a":5.1284,"b":11.9889},{"a":3.0607,"b":4.7869},{"a":11.0881,"b":8.5914},{"a":5.8675,"b":0.2737},{"a":8.6827,"b":8.3318},{"a":23.1499,"b":8.8892},{"a":0.31,"b":16.7642}],"keys":{"value":["a","b"]},"type":"bar","groups":{"value":["a","b"]}},"opts":{"x":null,"y":null,"types":{"a":"numeric","b":"numeric","date":"Date"}},"axis":{"x":{"type":"category"},"rotated":true},"bar":{"zerobased":true,"width":{"ratio":0.6}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="mixed-geometry-plots" class="section level2">
<h2>Mixed Geometry Plots</h2>
<p>Mixed geometry currently only works with a horizontal <code>data.frame</code> where each numeric column is plotted.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data<span class="op">$</span>c =<span class="st"> </span><span class="kw">abs</span>(<span class="kw">rnorm</span>(<span class="dv">20</span>) <span class="op">*</span><span class="dv">10</span>)
data<span class="op">$</span>d =<span class="st"> </span><span class="kw">abs</span>(<span class="kw">rnorm</span>(<span class="dv">20</span>) <span class="op">*</span><span class="dv">10</span>)

data <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3_mixedGeom</span>(<span class="dt">type =</span> <span class="st">'bar'</span>, 
               <span class="dt">stacked =</span> <span class="kw">c</span>(<span class="st">'b'</span>,<span class="st">'d'</span>),
               <span class="dt">types =</span> <span class="kw">list</span>(<span class="dt">a=</span><span class="st">'area'</span>,
                            <span class="dt">c=</span><span class="st">'spline'</span>)
               )</code></pre></div>
<div id="htmlwidget-57b88660b7fc59a3938d" style="width:768px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-57b88660b7fc59a3938d">{"x":{"data":{"json":[{"a":3.7164,"b":2.292,"c":8.5753,"d":8.1219},{"a":3.8527,"b":1.0523,"c":16.0918,"d":2.5846},{"a":2.4671,"b":3.7992,"c":1.6991,"d":13.5574},{"a":5.1284,"b":11.9889,"c":0.6403,"d":1.2099},{"a":3.0607,"b":4.7869,"c":21.0521,"d":4.7416},{"a":11.0881,"b":8.5914,"c":17.4395,"d":4.0832},{"a":5.8675,"b":0.2737,"c":1.3875,"d":0.6739},{"a":8.6827,"b":8.3318,"c":6.4678,"d":5.747},{"a":23.1499,"b":8.8892,"c":6.493,"d":3.875},{"a":0.31,"b":16.7642,"c":1.1434,"d":1.922},{"a":18.6598,"b":5.79,"c":11.3039,"d":13.7511},{"a":20.8208,"b":13.7088,"c":8.7172,"d":3.4193},{"a":9.8552,"b":2.1042,"c":10.0283,"d":24.6366},{"a":0.8062,"b":8.5661,"c":6.4259,"d":11.2931},{"a":12.4526,"b":3.6416,"c":19.2174,"d":3.3246},{"a":5.0444,"b":2.3572,"c":7.2683,"d":0.2862},{"a":9.5675,"b":2.2599,"c":6.3718,"d":13.9362},{"a":6.7516,"b":1.1861,"c":7.4053,"d":0.2931},{"a":8.2616,"b":12.3588,"c":4.226,"d":14.3528},{"a":8.1696,"b":13.2598,"c":12.91,"d":12.3622}],"keys":{"value":["a","b","c","d"]},"type":"bar","types":{"a":"area","c":"spline"},"groups":["b","d"]},"opts":{"x":null,"y":null,"types":{"a":"numeric","b":"numeric","date":"Date","c":"numeric","d":"numeric"}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="secondary-y-axis" class="section level2">
<h2>Secondary Y Axis</h2>
<p>To use a secondary Y axis columns must first be matched to an axis and then the secondary axis made visible.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(date, a, b) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3</span>(<span class="dt">x =</span> <span class="st">'date'</span>,
     <span class="dt">axes =</span> <span class="kw">list</span>(<span class="dt">a =</span> <span class="st">'y'</span>,
                 <span class="dt">b =</span> <span class="st">'y2'</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">c3_mixedGeom</span>(<span class="dt">types =</span> <span class="kw">list</span>(<span class="dt">a=</span><span class="st">'line'</span>,
                            <span class="dt">b=</span><span class="st">'area'</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">y2Axis</span>()</code></pre></div>
<div id="htmlwidget-eae75d5cfe08de25a1b7" style="width:768px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-eae75d5cfe08de25a1b7">{"x":{"data":{"axes":{"a":"y","b":"y2"},"x":"date","json":[{"date":"2014-01-01","a":3.7164,"b":2.292},{"date":"2014-02-01","a":3.8527,"b":1.0523},{"date":"2014-03-01","a":2.4671,"b":3.7992},{"date":"2014-04-01","a":5.1284,"b":11.9889},{"date":"2014-05-01","a":3.0607,"b":4.7869},{"date":"2014-06-01","a":11.0881,"b":8.5914},{"date":"2014-07-01","a":5.8675,"b":0.2737},{"date":"2014-08-01","a":8.6827,"b":8.3318},{"date":"2014-09-01","a":23.1499,"b":8.8892},{"date":"2014-10-01","a":0.31,"b":16.7642},{"date":"2014-11-01","a":18.6598,"b":5.79},{"date":"2014-12-01","a":20.8208,"b":13.7088},{"date":"2015-01-01","a":9.8552,"b":2.1042},{"date":"2015-02-01","a":0.8062,"b":8.5661},{"date":"2015-03-01","a":12.4526,"b":3.6416},{"date":"2015-04-01","a":5.0444,"b":2.3572},{"date":"2015-05-01","a":9.5675,"b":2.2599},{"date":"2015-06-01","a":6.7516,"b":1.1861},{"date":"2015-07-01","a":8.2616,"b":12.3588},{"date":"2015-08-01","a":8.1696,"b":13.2598}],"keys":{"value":["date","a","b"]},"type":"line","types":{"a":"line","b":"area"}},"opts":{"x":"date","y":null,"types":{"date":"Date","a":"numeric","b":"numeric"}},"axis":{"x":{"label":"date","type":"timeseries"},"y2":{"show":true}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="scatter-plot" class="section level2">
<h2>Scatter Plot</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3</span>(<span class="dt">x =</span> <span class="st">'Sepal_Length'</span>, 
     <span class="dt">y =</span> <span class="st">'Sepal_Width'</span>, 
     <span class="dt">group =</span> <span class="st">'Species'</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">c3_scatter</span>()</code></pre></div>
<div id="htmlwidget-822a14a87d1aeca01b8f" style="width:768px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-822a14a87d1aeca01b8f">{"x":{"data":{"json":[{"setosa":3.5,"versicolor":3.2,"virginica":3.3,"setosa_x":5.1,"versicolor_x":7,"virginica_x":6.3},{"setosa":3,"versicolor":3.2,"virginica":2.7,"setosa_x":4.9,"versicolor_x":6.4,"virginica_x":5.8},{"setosa":3.2,"versicolor":3.1,"virginica":3,"setosa_x":4.7,"versicolor_x":6.9,"virginica_x":7.1},{"setosa":3.1,"versicolor":2.3,"virginica":2.9,"setosa_x":4.6,"versicolor_x":5.5,"virginica_x":6.3},{"setosa":3.6,"versicolor":2.8,"virginica":3,"setosa_x":5,"versicolor_x":6.5,"virginica_x":6.5},{"setosa":3.9,"versicolor":2.8,"virginica":3,"setosa_x":5.4,"versicolor_x":5.7,"virginica_x":7.6},{"setosa":3.4,"versicolor":3.3,"virginica":2.5,"setosa_x":4.6,"versicolor_x":6.3,"virginica_x":4.9},{"setosa":3.4,"versicolor":2.4,"virginica":2.9,"setosa_x":5,"versicolor_x":4.9,"virginica_x":7.3},{"setosa":2.9,"versicolor":2.9,"virginica":2.5,"setosa_x":4.4,"versicolor_x":6.6,"virginica_x":6.7},{"setosa":3.1,"versicolor":2.7,"virginica":3.6,"setosa_x":4.9,"versicolor_x":5.2,"virginica_x":7.2},{"setosa":3.7,"versicolor":2,"virginica":3.2,"setosa_x":5.4,"versicolor_x":5,"virginica_x":6.5},{"setosa":3.4,"versicolor":3,"virginica":2.7,"setosa_x":4.8,"versicolor_x":5.9,"virginica_x":6.4},{"setosa":3,"versicolor":2.2,"virginica":3,"setosa_x":4.8,"versicolor_x":6,"virginica_x":6.8},{"setosa":3,"versicolor":2.9,"virginica":2.5,"setosa_x":4.3,"versicolor_x":6.1,"virginica_x":5.7},{"setosa":4,"versicolor":2.9,"virginica":2.8,"setosa_x":5.8,"versicolor_x":5.6,"virginica_x":5.8},{"setosa":4.4,"versicolor":3.1,"virginica":3.2,"setosa_x":5.7,"versicolor_x":6.7,"virginica_x":6.4},{"setosa":3.9,"versicolor":3,"virginica":3,"setosa_x":5.4,"versicolor_x":5.6,"virginica_x":6.5},{"setosa":3.5,"versicolor":2.7,"virginica":3.8,"setosa_x":5.1,"versicolor_x":5.8,"virginica_x":7.7},{"setosa":3.8,"versicolor":2.2,"virginica":2.6,"setosa_x":5.7,"versicolor_x":6.2,"virginica_x":7.7},{"setosa":3.8,"versicolor":2.5,"virginica":2.2,"setosa_x":5.1,"versicolor_x":5.6,"virginica_x":6},{"setosa":3.4,"versicolor":3.2,"virginica":3.2,"setosa_x":5.4,"versicolor_x":5.9,"virginica_x":6.9},{"setosa":3.7,"versicolor":2.8,"virginica":2.8,"setosa_x":5.1,"versicolor_x":6.1,"virginica_x":5.6},{"setosa":3.6,"versicolor":2.5,"virginica":2.8,"setosa_x":4.6,"versicolor_x":6.3,"virginica_x":7.7},{"setosa":3.3,"versicolor":2.8,"virginica":2.7,"setosa_x":5.1,"versicolor_x":6.1,"virginica_x":6.3},{"setosa":3.4,"versicolor":2.9,"virginica":3.3,"setosa_x":4.8,"versicolor_x":6.4,"virginica_x":6.7},{"setosa":3,"versicolor":3,"virginica":3.2,"setosa_x":5,"versicolor_x":6.6,"virginica_x":7.2},{"setosa":3.4,"versicolor":2.8,"virginica":2.8,"setosa_x":5,"versicolor_x":6.8,"virginica_x":6.2},{"setosa":3.5,"versicolor":3,"virginica":3,"setosa_x":5.2,"versicolor_x":6.7,"virginica_x":6.1},{"setosa":3.4,"versicolor":2.9,"virginica":2.8,"setosa_x":5.2,"versicolor_x":6,"virginica_x":6.4},{"setosa":3.2,"versicolor":2.6,"virginica":3,"setosa_x":4.7,"versicolor_x":5.7,"virginica_x":7.2},{"setosa":3.1,"versicolor":2.4,"virginica":2.8,"setosa_x":4.8,"versicolor_x":5.5,"virginica_x":7.4},{"setosa":3.4,"versicolor":2.4,"virginica":3.8,"setosa_x":5.4,"versicolor_x":5.5,"virginica_x":7.9},{"setosa":4.1,"versicolor":2.7,"virginica":2.8,"setosa_x":5.2,"versicolor_x":5.8,"virginica_x":6.4},{"setosa":4.2,"versicolor":2.7,"virginica":2.8,"setosa_x":5.5,"versicolor_x":6,"virginica_x":6.3},{"setosa":3.1,"versicolor":3,"virginica":2.6,"setosa_x":4.9,"versicolor_x":5.4,"virginica_x":6.1},{"setosa":3.2,"versicolor":3.4,"virginica":3,"setosa_x":5,"versicolor_x":6,"virginica_x":7.7},{"setosa":3.5,"versicolor":3.1,"virginica":3.4,"setosa_x":5.5,"versicolor_x":6.7,"virginica_x":6.3},{"setosa":3.6,"versicolor":2.3,"virginica":3.1,"setosa_x":4.9,"versicolor_x":6.3,"virginica_x":6.4},{"setosa":3,"versicolor":3,"virginica":3,"setosa_x":4.4,"versicolor_x":5.6,"virginica_x":6},{"setosa":3.4,"versicolor":2.5,"virginica":3.1,"setosa_x":5.1,"versicolor_x":5.5,"virginica_x":6.9},{"setosa":3.5,"versicolor":2.6,"virginica":3.1,"setosa_x":5,"versicolor_x":5.5,"virginica_x":6.7},{"setosa":2.3,"versicolor":3,"virginica":3.1,"setosa_x":4.5,"versicolor_x":6.1,"virginica_x":6.9},{"setosa":3.2,"versicolor":2.6,"virginica":2.7,"setosa_x":4.4,"versicolor_x":5.8,"virginica_x":5.8},{"setosa":3.5,"versicolor":2.3,"virginica":3.2,"setosa_x":5,"versicolor_x":5,"virginica_x":6.8},{"setosa":3.8,"versicolor":2.7,"virginica":3.3,"setosa_x":5.1,"versicolor_x":5.6,"virginica_x":6.7},{"setosa":3,"versicolor":3,"virginica":3,"setosa_x":4.8,"versicolor_x":5.7,"virginica_x":6.7},{"setosa":3.8,"versicolor":2.9,"virginica":2.5,"setosa_x":5.1,"versicolor_x":5.7,"virginica_x":6.3},{"setosa":3.2,"versicolor":2.9,"virginica":3,"setosa_x":4.6,"versicolor_x":6.2,"virginica_x":6.5},{"setosa":3.7,"versicolor":2.5,"virginica":3.4,"setosa_x":5.3,"versicolor_x":5.1,"virginica_x":6.2},{"setosa":3.3,"versicolor":2.8,"virginica":3,"setosa_x":5,"versicolor_x":5.7,"virginica_x":5.9}],"keys":{"value":["setosa","versicolor","virginica","setosa_x","versicolor_x","virginica_x"]},"xs":{"setosa":"setosa_x","versicolor":"versicolor_x","virginica":"virginica_x"},"type":"scatter"},"opts":{"x":"Sepal_Length","y":"Sepal_Width","types":{"Sepal.Length":"numeric","Sepal.Width":"numeric","Petal.Length":"numeric","Petal.Width":"numeric","Species":"factor"}},"axis":{"x":{"label":"Sepal_Length"},"y":{"label":"Sepal_Width"}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="pie-charts" class="section level2">
<h2>Pie Charts</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.frame</span>(<span class="dt">sugar =</span> <span class="dv">20</span>,
           <span class="dt">fat =</span> <span class="dv">45</span>,
           <span class="dt">salt =</span> <span class="dv">10</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">c3</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">c3_pie</span>()</code></pre></div>
<div id="htmlwidget-2fbf405582a331f5962a" style="width:384px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-2fbf405582a331f5962a">{"x":{"data":{"json":[{"sugar":20,"fat":45,"salt":10}],"keys":{"value":["sugar","fat","salt"]},"type":"pie"},"opts":{"x":null,"y":null,"types":{"sugar":"numeric","fat":"numeric","salt":"numeric"}},"pie":{"expand":true,"label":{"show":true,"threshold":null,"format":null}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="donut-charts" class="section level2">
<h2>Donut Charts</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.frame</span>(<span class="dt">red =</span> <span class="dv">82</span>, <span class="dt">green =</span> <span class="dv">33</span>, <span class="dt">blue =</span> <span class="dv">93</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">c3</span>(<span class="dt">colors =</span> <span class="kw">list</span>(<span class="dt">red =</span> <span class="st">'red'</span>,
                   <span class="dt">green =</span> <span class="st">'green'</span>,
                   <span class="dt">blue =</span> <span class="st">'blue'</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">c3_donut</span>(<span class="dt">title =</span> <span class="st">'#d053ee'</span>)</code></pre></div>
<div id="htmlwidget-97c144838beb02aef45f" style="width:384px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-97c144838beb02aef45f">{"x":{"data":{"colors":{"red":"red","green":"green","blue":"blue"},"json":[{"red":82,"green":33,"blue":93}],"keys":{"value":["red","green","blue"]},"type":"donut"},"opts":{"x":null,"y":null,"types":{"red":"numeric","green":"numeric","blue":"numeric"}},"donut":{"expand":true,"title":"#d053ee","label":{"show":true,"threshold":null,"format":null}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="gauge-charts" class="section level2">
<h2>Gauge Charts</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.frame</span>(<span class="dt">data =</span> <span class="dv">80</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">c3</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">c3_gauge</span>()</code></pre></div>
<div id="htmlwidget-bd4905d5c2c45effb6d5" style="width:576px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-bd4905d5c2c45effb6d5">{"x":{"data":{"json":[{"data":80}],"keys":{"value":["data"]},"type":"gauge"},"opts":{"x":null,"y":null,"types":{"data":"numeric"}},"gauge":{"label":null,"min":0,"max":100,"units":null,"width":null},"color":{"pattern":["#FF0000","#F97600","#F6C600","#60B044"],"threshold":{"unit":"value","max":100,"values":[30,60,90,100]}},"size":{"height":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="grid-lines-annotation" class="section level2">
<h2>Grid Lines &amp; Annotation</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">grid</span>(<span class="st">'y'</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">grid</span>(<span class="st">'x'</span>, 
       <span class="dt">show =</span> F, 
       <span class="dt">lines =</span> <span class="kw">data.frame</span>(<span class="dt">value =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">10</span>), 
                          <span class="dt">text=</span> <span class="kw">c</span>(<span class="st">'Line 1'</span>,<span class="st">'Line 2'</span>)))</code></pre></div>
<div id="htmlwidget-c67be43ba485e4297570" style="width:768px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-c67be43ba485e4297570">{"x":{"data":{"json":[{"a":3.7164,"b":2.292,"c":8.5753,"d":8.1219},{"a":3.8527,"b":1.0523,"c":16.0918,"d":2.5846},{"a":2.4671,"b":3.7992,"c":1.6991,"d":13.5574},{"a":5.1284,"b":11.9889,"c":0.6403,"d":1.2099},{"a":3.0607,"b":4.7869,"c":21.0521,"d":4.7416},{"a":11.0881,"b":8.5914,"c":17.4395,"d":4.0832},{"a":5.8675,"b":0.2737,"c":1.3875,"d":0.6739},{"a":8.6827,"b":8.3318,"c":6.4678,"d":5.747},{"a":23.1499,"b":8.8892,"c":6.493,"d":3.875},{"a":0.31,"b":16.7642,"c":1.1434,"d":1.922},{"a":18.6598,"b":5.79,"c":11.3039,"d":13.7511},{"a":20.8208,"b":13.7088,"c":8.7172,"d":3.4193},{"a":9.8552,"b":2.1042,"c":10.0283,"d":24.6366},{"a":0.8062,"b":8.5661,"c":6.4259,"d":11.2931},{"a":12.4526,"b":3.6416,"c":19.2174,"d":3.3246},{"a":5.0444,"b":2.3572,"c":7.2683,"d":0.2862},{"a":9.5675,"b":2.2599,"c":6.3718,"d":13.9362},{"a":6.7516,"b":1.1861,"c":7.4053,"d":0.2931},{"a":8.2616,"b":12.3588,"c":4.226,"d":14.3528},{"a":8.1696,"b":13.2598,"c":12.91,"d":12.3622}],"keys":{"value":["a","b","c","d"]}},"opts":{"x":null,"y":null,"types":{"a":"numeric","b":"numeric","date":"Date","c":"numeric","d":"numeric"}},"grid":{"y":{"show":true},"x":{"show":false,"lines":{"value":[3,10],"text":["Line 1","Line 2"]}}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="region-highlighting" class="section level2">
<h2>Region Highlighting</h2>
<p>To highlight regions pass a single <code>data.frame</code> with columns <code>axis</code>, <code>start</code>, <code>end</code> and <code>class</code>. Multiple regions can be defined within the one <code>data.frame</code> for any axis (<code>x</code>, <code>y</code>, <code>y2</code>). Each row in the <code>data.frame</code> defines a separate region to be highlighted</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">region</span>(<span class="kw">data.frame</span>(<span class="dt">axis =</span> <span class="st">'x'</span>,
                    <span class="dt">start =</span> <span class="dv">5</span>,
                    <span class="dt">end =</span> <span class="dv">6</span>))</code></pre></div>
<div id="htmlwidget-431e9a38db7b86628398" style="width:768px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-431e9a38db7b86628398">{"x":{"data":{"json":[{"a":3.7164,"b":2.292,"c":8.5753,"d":8.1219},{"a":3.8527,"b":1.0523,"c":16.0918,"d":2.5846},{"a":2.4671,"b":3.7992,"c":1.6991,"d":13.5574},{"a":5.1284,"b":11.9889,"c":0.6403,"d":1.2099},{"a":3.0607,"b":4.7869,"c":21.0521,"d":4.7416},{"a":11.0881,"b":8.5914,"c":17.4395,"d":4.0832},{"a":5.8675,"b":0.2737,"c":1.3875,"d":0.6739},{"a":8.6827,"b":8.3318,"c":6.4678,"d":5.747},{"a":23.1499,"b":8.8892,"c":6.493,"d":3.875},{"a":0.31,"b":16.7642,"c":1.1434,"d":1.922},{"a":18.6598,"b":5.79,"c":11.3039,"d":13.7511},{"a":20.8208,"b":13.7088,"c":8.7172,"d":3.4193},{"a":9.8552,"b":2.1042,"c":10.0283,"d":24.6366},{"a":0.8062,"b":8.5661,"c":6.4259,"d":11.2931},{"a":12.4526,"b":3.6416,"c":19.2174,"d":3.3246},{"a":5.0444,"b":2.3572,"c":7.2683,"d":0.2862},{"a":9.5675,"b":2.2599,"c":6.3718,"d":13.9362},{"a":6.7516,"b":1.1861,"c":7.4053,"d":0.2931},{"a":8.2616,"b":12.3588,"c":4.226,"d":14.3528},{"a":8.1696,"b":13.2598,"c":12.91,"d":12.3622}],"keys":{"value":["a","b","c","d"]}},"opts":{"x":null,"y":null,"types":{"a":"numeric","b":"numeric","date":"Date","c":"numeric","d":"numeric"}},"regions":{"axis":["x"],"start":[5],"end":[6]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="sub-chart" class="section level2">
<h2>Sub-chart</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3</span>(<span class="dt">x =</span> <span class="st">'date'</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">subchart</span>()</code></pre></div>
<div id="htmlwidget-5e0650f6a7a04faf52fc" style="width:768px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-5e0650f6a7a04faf52fc">{"x":{"data":{"x":"date","json":[{"date":"2014-01-01","a":3.7164,"b":2.292,"c":8.5753,"d":8.1219},{"date":"2014-02-01","a":3.8527,"b":1.0523,"c":16.0918,"d":2.5846},{"date":"2014-03-01","a":2.4671,"b":3.7992,"c":1.6991,"d":13.5574},{"date":"2014-04-01","a":5.1284,"b":11.9889,"c":0.6403,"d":1.2099},{"date":"2014-05-01","a":3.0607,"b":4.7869,"c":21.0521,"d":4.7416},{"date":"2014-06-01","a":11.0881,"b":8.5914,"c":17.4395,"d":4.0832},{"date":"2014-07-01","a":5.8675,"b":0.2737,"c":1.3875,"d":0.6739},{"date":"2014-08-01","a":8.6827,"b":8.3318,"c":6.4678,"d":5.747},{"date":"2014-09-01","a":23.1499,"b":8.8892,"c":6.493,"d":3.875},{"date":"2014-10-01","a":0.31,"b":16.7642,"c":1.1434,"d":1.922},{"date":"2014-11-01","a":18.6598,"b":5.79,"c":11.3039,"d":13.7511},{"date":"2014-12-01","a":20.8208,"b":13.7088,"c":8.7172,"d":3.4193},{"date":"2015-01-01","a":9.8552,"b":2.1042,"c":10.0283,"d":24.6366},{"date":"2015-02-01","a":0.8062,"b":8.5661,"c":6.4259,"d":11.2931},{"date":"2015-03-01","a":12.4526,"b":3.6416,"c":19.2174,"d":3.3246},{"date":"2015-04-01","a":5.0444,"b":2.3572,"c":7.2683,"d":0.2862},{"date":"2015-05-01","a":9.5675,"b":2.2599,"c":6.3718,"d":13.9362},{"date":"2015-06-01","a":6.7516,"b":1.1861,"c":7.4053,"d":0.2931},{"date":"2015-07-01","a":8.2616,"b":12.3588,"c":4.226,"d":14.3528},{"date":"2015-08-01","a":8.1696,"b":13.2598,"c":12.91,"d":12.3622}],"keys":{"value":["date","a","b","c","d"]}},"opts":{"x":"date","y":null,"types":{"a":"numeric","b":"numeric","date":"Date","c":"numeric","d":"numeric"}},"axis":{"x":{"label":"date","type":"timeseries"}},"subchart":{"show":true,"size":{"height":20}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="color-palette" class="section level2">
<h2>Color Palette</h2>
<p>Plot color palettes can be changed to either <code>RColorBrewer</code> or <code>viridis</code> palettes using either <code>RColorBrewer</code> (S3 method) or <code>c3_viridus</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.frame</span>(<span class="dt">sugar =</span> <span class="dv">20</span>, 
           <span class="dt">fat =</span> <span class="dv">45</span>, 
           <span class="dt">salt =</span> <span class="dv">10</span>, 
           <span class="dt">vegetables =</span> <span class="dv">60</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">c3</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">c3_pie</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">RColorBrewer</span>()</code></pre></div>
<div id="htmlwidget-3f00f3a7b95cc25ca7d3" style="width:384px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-3f00f3a7b95cc25ca7d3">{"x":{"data":{"json":[{"sugar":20,"fat":45,"salt":10,"vegetables":60}],"keys":{"value":["sugar","fat","salt","vegetables"]},"type":"pie"},"opts":{"x":null,"y":null,"types":{"sugar":"numeric","fat":"numeric","salt":"numeric","vegetables":"numeric"}},"pie":{"expand":true,"label":{"show":true,"threshold":null,"format":null}},"color":{"pattern":["#D7191C","#FDAE61","#ABDDA4","#2B83BA"]}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.frame</span>(<span class="dt">sugar =</span> <span class="dv">20</span>, 
           <span class="dt">fat =</span> <span class="dv">45</span>, 
           <span class="dt">salt =</span> <span class="dv">10</span>, 
           <span class="dt">vegetables =</span> <span class="dv">60</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">c3</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">c3_pie</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3_viridis</span>()</code></pre></div>
<div id="htmlwidget-6d9307a1688eee9c8628" style="width:384px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-6d9307a1688eee9c8628">{"x":{"data":{"json":[{"sugar":20,"fat":45,"salt":10,"vegetables":60}],"keys":{"value":["sugar","fat","salt","vegetables"]},"type":"pie"},"opts":{"x":null,"y":null,"types":{"sugar":"numeric","fat":"numeric","salt":"numeric","vegetables":"numeric"}},"pie":{"expand":true,"label":{"show":true,"threshold":null,"format":null}},"color":{"pattern":["#440154","#31688E","#35B779","#FDE725"]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="point-size" class="section level2">
<h2>Point Size</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3</span>(<span class="dt">x =</span> <span class="st">'date'</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">point_options</span>(<span class="dt">r =</span> <span class="dv">6</span>, 
                <span class="dt">expand.r =</span> <span class="dv">2</span>)</code></pre></div>
<div id="htmlwidget-f950fedc40e64e4465ad" style="width:768px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-f950fedc40e64e4465ad">{"x":{"data":{"x":"date","json":[{"date":"2014-01-01","a":3.7164,"b":2.292,"c":8.5753,"d":8.1219},{"date":"2014-02-01","a":3.8527,"b":1.0523,"c":16.0918,"d":2.5846},{"date":"2014-03-01","a":2.4671,"b":3.7992,"c":1.6991,"d":13.5574},{"date":"2014-04-01","a":5.1284,"b":11.9889,"c":0.6403,"d":1.2099},{"date":"2014-05-01","a":3.0607,"b":4.7869,"c":21.0521,"d":4.7416},{"date":"2014-06-01","a":11.0881,"b":8.5914,"c":17.4395,"d":4.0832},{"date":"2014-07-01","a":5.8675,"b":0.2737,"c":1.3875,"d":0.6739},{"date":"2014-08-01","a":8.6827,"b":8.3318,"c":6.4678,"d":5.747},{"date":"2014-09-01","a":23.1499,"b":8.8892,"c":6.493,"d":3.875},{"date":"2014-10-01","a":0.31,"b":16.7642,"c":1.1434,"d":1.922},{"date":"2014-11-01","a":18.6598,"b":5.79,"c":11.3039,"d":13.7511},{"date":"2014-12-01","a":20.8208,"b":13.7088,"c":8.7172,"d":3.4193},{"date":"2015-01-01","a":9.8552,"b":2.1042,"c":10.0283,"d":24.6366},{"date":"2015-02-01","a":0.8062,"b":8.5661,"c":6.4259,"d":11.2931},{"date":"2015-03-01","a":12.4526,"b":3.6416,"c":19.2174,"d":3.3246},{"date":"2015-04-01","a":5.0444,"b":2.3572,"c":7.2683,"d":0.2862},{"date":"2015-05-01","a":9.5675,"b":2.2599,"c":6.3718,"d":13.9362},{"date":"2015-06-01","a":6.7516,"b":1.1861,"c":7.4053,"d":0.2931},{"date":"2015-07-01","a":8.2616,"b":12.3588,"c":4.226,"d":14.3528},{"date":"2015-08-01","a":8.1696,"b":13.2598,"c":12.91,"d":12.3622}],"keys":{"value":["date","a","b","c","d"]}},"opts":{"x":"date","y":null,"types":{"a":"numeric","b":"numeric","date":"Date","c":"numeric","d":"numeric"}},"axis":{"x":{"label":"date","type":"timeseries"}},"point":{"show":true,"r":6,"focus":{"expand":{"enabled":true,"r":12}},"select":{"r":24}}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="on-click" class="section level2">
<h2>On Click</h2>
<p>Onclick, onmouseover and onmouseout are all available via the <code>c3</code> function. To use wrap a js function as a character string to <code>htmlwidgets::JS()</code>. Please see the <a href="http://c3js.org/reference.html#data-onclick">C3.js documentation</a> and <a href="http://c3js.org/samples/chart_pie.html">examples</a>. The example below should be enough to get you started.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">c3</span>(<span class="dt">onclick =</span> htmlwidgets<span class="op">::</span><span class="kw">JS</span>(<span class="st">'function(d, element){console.log(d)}'</span>))</code></pre></div>
</div>
<div id="tooltips" class="section level2">
<h2>Tooltips</h2>
<p><code>C3</code> tooltips are readily modified with the use of javascript functions. For further detail see the <code>C3.js</code> <a href="http://c3js.org/reference.html#tooltip-format-title">documentation</a>. Or for more advanced usage see the <code>C3.js</code> <a href="http://c3js.org/samples/tooltip_format.html">examples</a> page.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(htmlwidgets)

data <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">c3</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">tooltip</span>(<span class="dt">format =</span> <span class="kw">list</span>(<span class="dt">title =</span> <span class="kw">JS</span>(<span class="st">&quot;function (x) { return 'Data ' + x; }&quot;</span>),
                        <span class="dt">name =</span> <span class="kw">JS</span>(<span class="st">'function (name, ratio, id, index) { return name; }'</span>),
                        <span class="dt">value =</span> <span class="kw">JS</span>(<span class="st">'function (value, ratio, id, index) { return ratio; }'</span>)))</code></pre></div>
<div id="htmlwidget-fd8e5c1c8447d5225375" style="width:768px;height:288px;" class="c3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-fd8e5c1c8447d5225375">{"x":{"data":{"json":[{"a":3.7164,"b":2.292,"c":8.5753,"d":8.1219},{"a":3.8527,"b":1.0523,"c":16.0918,"d":2.5846},{"a":2.4671,"b":3.7992,"c":1.6991,"d":13.5574},{"a":5.1284,"b":11.9889,"c":0.6403,"d":1.2099},{"a":3.0607,"b":4.7869,"c":21.0521,"d":4.7416},{"a":11.0881,"b":8.5914,"c":17.4395,"d":4.0832},{"a":5.8675,"b":0.2737,"c":1.3875,"d":0.6739},{"a":8.6827,"b":8.3318,"c":6.4678,"d":5.747},{"a":23.1499,"b":8.8892,"c":6.493,"d":3.875},{"a":0.31,"b":16.7642,"c":1.1434,"d":1.922},{"a":18.6598,"b":5.79,"c":11.3039,"d":13.7511},{"a":20.8208,"b":13.7088,"c":8.7172,"d":3.4193},{"a":9.8552,"b":2.1042,"c":10.0283,"d":24.6366},{"a":0.8062,"b":8.5661,"c":6.4259,"d":11.2931},{"a":12.4526,"b":3.6416,"c":19.2174,"d":3.3246},{"a":5.0444,"b":2.3572,"c":7.2683,"d":0.2862},{"a":9.5675,"b":2.2599,"c":6.3718,"d":13.9362},{"a":6.7516,"b":1.1861,"c":7.4053,"d":0.2931},{"a":8.2616,"b":12.3588,"c":4.226,"d":14.3528},{"a":8.1696,"b":13.2598,"c":12.91,"d":12.3622}],"keys":{"value":["a","b","c","d"]}},"opts":{"x":null,"y":null,"types":{"a":"numeric","b":"numeric","date":"Date","c":"numeric","d":"numeric"}},"tooltip":{"show":true,"grouped":true,"format":{"title":"function (x) { return 'Data ' + x; }","name":"function (name, ratio, id, index) { return name; }","value":"function (value, ratio, id, index) { return ratio; }"}}},"evals":["tooltip.format.title","tooltip.format.name","tooltip.format.value"],"jsHooks":[]}</script>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
